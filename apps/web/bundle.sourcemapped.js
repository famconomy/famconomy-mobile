function oR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var aR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var zk={exports:{}},Zd={},Hk={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=Symbol.for("react.element"),cR=Symbol.for("react.portal"),uR=Symbol.for("react.fragment"),dR=Symbol.for("react.strict_mode"),fR=Symbol.for("react.profiler"),hR=Symbol.for("react.provider"),pR=Symbol.for("react.context"),mR=Symbol.for("react.forward_ref"),gR=Symbol.for("react.suspense"),yR=Symbol.for("react.memo"),vR=Symbol.for("react.lazy"),gv=Symbol.iterator;function xR(e){return e===null||typeof e!="object"?null:(e=gv&&e[gv]||e["@@iterator"],typeof e=="function"?e:null)}var Uk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vk=Object.assign,$k={};function ta(e,t,n){this.props=e,this.context=t,this.refs=$k,this.updater=n||Uk}ta.prototype.isReactComponent={};ta.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ta.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wk(){}Wk.prototype=ta.prototype;function Ug(e,t,n){this.props=e,this.context=t,this.refs=$k,this.updater=n||Uk}var Vg=Ug.prototype=new Wk;Vg.constructor=Ug;Vk(Vg,ta.prototype);Vg.isPureReactComponent=!0;var yv=Array.isArray,Gk=Object.prototype.hasOwnProperty,$g={current:null},qk={key:!0,ref:!0,__self:!0,__source:!0};function Yk(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Gk.call(t,r)&&!qk.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Zl,type:e,key:i,ref:o,props:s,_owner:$g.current}}function bR(e,t){return{$$typeof:Zl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zl}function wR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vv=/\/+/g;function fh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wR(""+e.key):t.toString(36)}function du(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Zl:case cR:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+fh(o,0):r,yv(s)?(n="",e!=null&&(n=e.replace(vv,"$&/")+"/"),du(s,t,n,"",function(c){return c})):s!=null&&(Wg(s)&&(s=bR(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vv,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",yv(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+fh(i,a);o+=du(i,t,n,l,s)}else if(l=xR(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+fh(i,a++),o+=du(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ac(e,t,n){if(e==null)return e;var r=[],s=0;return du(e,r,"","",function(i){return t.call(n,i,s++)}),r}function SR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var fn={current:null},fu={transition:null},kR={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:fu,ReactCurrentOwner:$g};function Qk(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:Ac,forEach:function(e,t,n){Ac(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ac(e,function(){t++}),t},toArray:function(e){return Ac(e,function(t){return t})||[]},only:function(e){if(!Wg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=ta;Le.Fragment=uR;Le.Profiler=fR;Le.PureComponent=Ug;Le.StrictMode=dR;Le.Suspense=gR;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kR;Le.act=Qk;Le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Vk({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=$g.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Gk.call(t,l)&&!qk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Zl,type:e.type,key:s,ref:i,props:r,_owner:o}};Le.createContext=function(e){return e={$$typeof:pR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hR,_context:e},e.Consumer=e};Le.createElement=Yk;Le.createFactory=function(e){var t=Yk.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:mR,render:e}};Le.isValidElement=Wg;Le.lazy=function(e){return{$$typeof:vR,_payload:{_status:-1,_result:e},_init:SR}};Le.memo=function(e,t){return{$$typeof:yR,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=fu.transition;fu.transition={};try{e()}finally{fu.transition=t}};Le.unstable_act=Qk;Le.useCallback=function(e,t){return fn.current.useCallback(e,t)};Le.useContext=function(e){return fn.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return fn.current.useDeferredValue(e)};Le.useEffect=function(e,t){return fn.current.useEffect(e,t)};Le.useId=function(){return fn.current.useId()};Le.useImperativeHandle=function(e,t,n){return fn.current.useImperativeHandle(e,t,n)};Le.useInsertionEffect=function(e,t){return fn.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return fn.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return fn.current.useMemo(e,t)};Le.useReducer=function(e,t,n){return fn.current.useReducer(e,t,n)};Le.useRef=function(e){return fn.current.useRef(e)};Le.useState=function(e){return fn.current.useState(e)};Le.useSyncExternalStore=function(e,t,n){return fn.current.useSyncExternalStore(e,t,n)};Le.useTransition=function(){return fn.current.useTransition()};Le.version="18.3.1";Hk.exports=Le;var x=Hk.exports;const H=qs(x),ER=oR({__proto__:null,default:H},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CR=x,TR=Symbol.for("react.element"),NR=Symbol.for("react.fragment"),AR=Object.prototype.hasOwnProperty,jR=CR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_R={key:!0,ref:!0,__self:!0,__source:!0};function Kk(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)AR.call(t,r)&&!_R.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:TR,type:e,key:i,ref:o,props:s,_owner:jR.current}}Zd.Fragment=NR;Zd.jsx=Kk;Zd.jsxs=Kk;zk.exports=Zd;var u=zk.exports,Xk={exports:{}},Fn={},Zk={exports:{}},Jk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,$){var ne=L.length;L.push($);e:for(;0<ne;){var K=ne-1>>>1,ee=L[K];if(0<s(ee,$))L[K]=$,L[ne]=ee,ne=K;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var $=L[0],ne=L.pop();if(ne!==$){L[0]=ne;e:for(var K=0,ee=L.length,ce=ee>>>1;K<ce;){var te=2*(K+1)-1,V=L[te],fe=te+1,Ce=L[fe];if(0>s(V,ne))fe<ee&&0>s(Ce,V)?(L[K]=Ce,L[fe]=ne,K=fe):(L[K]=V,L[te]=ne,K=te);else if(fe<ee&&0>s(Ce,ne))L[K]=Ce,L[fe]=ne,K=fe;else break e}}return $}function s(L,$){var ne=L.sortIndex-$.sortIndex;return ne!==0?ne:L.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=L)r(c),$.sortIndex=$.expirationTime,t(l,$);else break;$=n(c)}}function S(L){if(v=!1,w(L),!m)if(n(l)!==null)m=!0,U(k);else{var $=n(c);$!==null&&X(S,$.startTime-L)}}function k(L,$){m=!1,v&&(v=!1,y(T),T=-1),p=!0;var ne=h;try{for(w($),f=n(l);f!==null&&(!(f.expirationTime>$)||L&&!R());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var ee=K(f.expirationTime<=$);$=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&r(l),w($)}else r(l);f=n(l)}if(f!==null)var ce=!0;else{var te=n(c);te!==null&&X(S,te.startTime-$),ce=!1}return ce}finally{f=null,h=ne,p=!1}}var E=!1,C=null,T=-1,N=5,A=-1;function R(){return!(e.unstable_now()-A<N)}function I(){if(C!==null){var L=e.unstable_now();A=L;var $=!0;try{$=C(!0,L)}finally{$?O():(E=!1,C=null)}}else E=!1}var O;if(typeof g=="function")O=function(){g(I)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,B=j.port2;j.port1.onmessage=I,O=function(){B.postMessage(null)}}else O=function(){b(I,0)};function U(L){C=L,E||(E=!0,O())}function X(L,$){T=b(function(){L(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,U(k))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var ne=h;h=$;try{return L()}finally{h=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ne=h;h=L;try{return $()}finally{h=ne}},e.unstable_scheduleCallback=function(L,$,ne){var K=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?K+ne:K):ne=K,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ne+ee,L={id:d++,callback:$,priorityLevel:L,startTime:ne,expirationTime:ee,sortIndex:-1},ne>K?(L.sortIndex=ne,t(c,L),n(l)===null&&L===n(c)&&(v?(y(T),T=-1):v=!0,X(S,ne-K))):(L.sortIndex=ee,t(l,L),m||p||(m=!0,U(k))),L},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(L){var $=h;return function(){var ne=h;h=$;try{return L.apply(this,arguments)}finally{h=ne}}}})(Jk);Zk.exports=Jk;var RR=Zk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DR=x,Mn=RR;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e1=new Set,ml={};function zi(e,t){Lo(e,t),Lo(e+"Capture",t)}function Lo(e,t){for(ml[e]=t,e=0;e<t.length;e++)e1.add(t[e])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zp=Object.prototype.hasOwnProperty,IR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xv={},bv={};function PR(e){return zp.call(bv,e)?!0:zp.call(xv,e)?!1:IR.test(e)?bv[e]=!0:(xv[e]=!0,!1)}function OR(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function MR(e,t,n,r){if(t===null||typeof t>"u"||OR(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hn(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$t[e]=new hn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$t[t]=new hn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$t[e]=new hn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$t[e]=new hn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$t[e]=new hn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$t[e]=new hn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$t[e]=new hn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$t[e]=new hn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$t[e]=new hn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gg=/[\-:]([a-z])/g;function qg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gg,qg);$t[t]=new hn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gg,qg);$t[t]=new hn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gg,qg);$t[t]=new hn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$t[e]=new hn(e,1,!1,e.toLowerCase(),null,!1,!1)});$t.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$t[e]=new hn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yg(e,t,n,r){var s=$t.hasOwnProperty(t)?$t[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(MR(t,n,s,r)&&(n=null),r||s===null?PR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var is=DR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jc=Symbol.for("react.element"),ao=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),Qg=Symbol.for("react.strict_mode"),Hp=Symbol.for("react.profiler"),t1=Symbol.for("react.provider"),n1=Symbol.for("react.context"),Kg=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),Vp=Symbol.for("react.suspense_list"),Xg=Symbol.for("react.memo"),hs=Symbol.for("react.lazy"),r1=Symbol.for("react.offscreen"),wv=Symbol.iterator;function ya(e){return e===null||typeof e!="object"?null:(e=wv&&e[wv]||e["@@iterator"],typeof e=="function"?e:null)}var yt=Object.assign,hh;function La(e){if(hh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hh=t&&t[1]||""}return`
`+hh+e}var ph=!1;function mh(e,t){if(!e||ph)return"";ph=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{ph=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?La(e):""}function LR(e){switch(e.tag){case 5:return La(e.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 2:case 15:return e=mh(e.type,!1),e;case 11:return e=mh(e.type.render,!1),e;case 1:return e=mh(e.type,!0),e;default:return""}}function $p(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lo:return"Fragment";case ao:return"Portal";case Hp:return"Profiler";case Qg:return"StrictMode";case Up:return"Suspense";case Vp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case n1:return(e.displayName||"Context")+".Consumer";case t1:return(e._context.displayName||"Context")+".Provider";case Kg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xg:return t=e.displayName||null,t!==null?t:$p(e.type)||"Memo";case hs:t=e._payload,e=e._init;try{return $p(e(t))}catch{}}return null}function FR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $p(t);case 8:return t===Qg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function s1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function BR(e){var t=s1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _c(e){e._valueTracker||(e._valueTracker=BR(e))}function i1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=s1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $u(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wp(e,t){var n=t.checked;return yt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Fs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function o1(e,t){t=t.checked,t!=null&&Yg(e,"checked",t,!1)}function Gp(e,t){o1(e,t);var n=Fs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qp(e,t.type,n):t.hasOwnProperty("defaultValue")&&qp(e,t.type,Fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function qp(e,t,n){(t!=="number"||$u(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fa=Array.isArray;function To(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Fs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Yp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return yt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ev(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Z(92));if(Fa(n)){if(1<n.length)throw Error(Z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Fs(n)}}function a1(e,t){var n=Fs(t.value),r=Fs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Cv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function l1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?l1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rc,c1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rc=Rc||document.createElement("div"),Rc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ga={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zR=["Webkit","ms","Moz","O"];Object.keys(Ga).forEach(function(e){zR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ga[t]=Ga[e]})});function u1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ga.hasOwnProperty(e)&&Ga[e]?(""+t).trim():t+"px"}function d1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=u1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var HR=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kp(e,t){if(t){if(HR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function Xp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zp=null;function Zg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jp=null,No=null,Ao=null;function Tv(e){if(e=tc(e)){if(typeof Jp!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=rf(t),Jp(e.stateNode,e.type,t))}}function f1(e){No?Ao?Ao.push(e):Ao=[e]:No=e}function h1(){if(No){var e=No,t=Ao;if(Ao=No=null,Tv(e),t)for(e=0;e<t.length;e++)Tv(t[e])}}function p1(e,t){return e(t)}function m1(){}var gh=!1;function g1(e,t,n){if(gh)return e(t,n);gh=!0;try{return p1(e,t,n)}finally{gh=!1,(No!==null||Ao!==null)&&(m1(),h1())}}function yl(e,t){var n=e.stateNode;if(n===null)return null;var r=rf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var em=!1;if(Jr)try{var va={};Object.defineProperty(va,"passive",{get:function(){em=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{em=!1}function UR(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var qa=!1,Wu=null,Gu=!1,tm=null,VR={onError:function(e){qa=!0,Wu=e}};function $R(e,t,n,r,s,i,o,a,l){qa=!1,Wu=null,UR.apply(VR,arguments)}function WR(e,t,n,r,s,i,o,a,l){if($R.apply(this,arguments),qa){if(qa){var c=Wu;qa=!1,Wu=null}else throw Error(Z(198));Gu||(Gu=!0,tm=c)}}function Hi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function y1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nv(e){if(Hi(e)!==e)throw Error(Z(188))}function GR(e){var t=e.alternate;if(!t){if(t=Hi(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Nv(s),e;if(i===r)return Nv(s),t;i=i.sibling}throw Error(Z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function v1(e){return e=GR(e),e!==null?x1(e):null}function x1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=x1(e);if(t!==null)return t;e=e.sibling}return null}var b1=Mn.unstable_scheduleCallback,Av=Mn.unstable_cancelCallback,qR=Mn.unstable_shouldYield,YR=Mn.unstable_requestPaint,Tt=Mn.unstable_now,QR=Mn.unstable_getCurrentPriorityLevel,Jg=Mn.unstable_ImmediatePriority,w1=Mn.unstable_UserBlockingPriority,qu=Mn.unstable_NormalPriority,KR=Mn.unstable_LowPriority,S1=Mn.unstable_IdlePriority,Jd=null,Dr=null;function XR(e){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(Jd,e,void 0,(e.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:eD,ZR=Math.log,JR=Math.LN2;function eD(e){return e>>>=0,e===0?32:31-(ZR(e)/JR|0)|0}var Dc=64,Ic=4194304;function Ba(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ba(a):(i&=o,i!==0&&(r=Ba(i)))}else o=n&~s,o!==0?r=Ba(o):i!==0&&(r=Ba(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-lr(t),s=1<<n,r|=e[n],t&=~s;return r}function tD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nD(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-lr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=tD(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function nm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function k1(){var e=Dc;return Dc<<=1,!(Dc&4194240)&&(Dc=64),e}function yh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Jl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-lr(t),e[t]=n}function rD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-lr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ey(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ze=0;function E1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var C1,ty,T1,N1,A1,rm=!1,Pc=[],Ts=null,Ns=null,As=null,vl=new Map,xl=new Map,gs=[],sD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jv(e,t){switch(e){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":vl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(t.pointerId)}}function xa(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=tc(t),t!==null&&ty(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function iD(e,t,n,r,s){switch(t){case"focusin":return Ts=xa(Ts,e,t,n,r,s),!0;case"dragenter":return Ns=xa(Ns,e,t,n,r,s),!0;case"mouseover":return As=xa(As,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return vl.set(i,xa(vl.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,xl.set(i,xa(xl.get(i)||null,e,t,n,r,s)),!0}return!1}function j1(e){var t=mi(e.target);if(t!==null){var n=Hi(t);if(n!==null){if(t=n.tag,t===13){if(t=y1(n),t!==null){e.blockedOn=t,A1(e.priority,function(){T1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zp=r,n.target.dispatchEvent(r),Zp=null}else return t=tc(n),t!==null&&ty(t),e.blockedOn=n,!1;t.shift()}return!0}function _v(e,t,n){hu(e)&&n.delete(t)}function oD(){rm=!1,Ts!==null&&hu(Ts)&&(Ts=null),Ns!==null&&hu(Ns)&&(Ns=null),As!==null&&hu(As)&&(As=null),vl.forEach(_v),xl.forEach(_v)}function ba(e,t){e.blockedOn===t&&(e.blockedOn=null,rm||(rm=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,oD)))}function bl(e){function t(s){return ba(s,e)}if(0<Pc.length){ba(Pc[0],e);for(var n=1;n<Pc.length;n++){var r=Pc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ts!==null&&ba(Ts,e),Ns!==null&&ba(Ns,e),As!==null&&ba(As,e),vl.forEach(t),xl.forEach(t),n=0;n<gs.length;n++)r=gs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gs.length&&(n=gs[0],n.blockedOn===null);)j1(n),n.blockedOn===null&&gs.shift()}var jo=is.ReactCurrentBatchConfig,Qu=!0;function aD(e,t,n,r){var s=Ze,i=jo.transition;jo.transition=null;try{Ze=1,ny(e,t,n,r)}finally{Ze=s,jo.transition=i}}function lD(e,t,n,r){var s=Ze,i=jo.transition;jo.transition=null;try{Ze=4,ny(e,t,n,r)}finally{Ze=s,jo.transition=i}}function ny(e,t,n,r){if(Qu){var s=sm(e,t,n,r);if(s===null)Nh(e,t,r,Ku,n),jv(e,r);else if(iD(s,e,t,n,r))r.stopPropagation();else if(jv(e,r),t&4&&-1<sD.indexOf(e)){for(;s!==null;){var i=tc(s);if(i!==null&&C1(i),i=sm(e,t,n,r),i===null&&Nh(e,t,r,Ku,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Nh(e,t,r,null,n)}}var Ku=null;function sm(e,t,n,r){if(Ku=null,e=Zg(r),e=mi(e),e!==null)if(t=Hi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=y1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ku=e,null}function _1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QR()){case Jg:return 1;case w1:return 4;case qu:case KR:return 16;case S1:return 536870912;default:return 16}default:return 16}}var bs=null,ry=null,pu=null;function R1(){if(pu)return pu;var e,t=ry,n=t.length,r,s="value"in bs?bs.value:bs.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return pu=s.slice(e,1<r?1-r:void 0)}function mu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oc(){return!0}function Rv(){return!1}function Bn(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Oc:Rv,this.isPropagationStopped=Rv,this}return yt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oc)},persist:function(){},isPersistent:Oc}),t}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sy=Bn(na),ec=yt({},na,{view:0,detail:0}),cD=Bn(ec),vh,xh,wa,ef=yt({},ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wa&&(wa&&e.type==="mousemove"?(vh=e.screenX-wa.screenX,xh=e.screenY-wa.screenY):xh=vh=0,wa=e),vh)},movementY:function(e){return"movementY"in e?e.movementY:xh}}),Dv=Bn(ef),uD=yt({},ef,{dataTransfer:0}),dD=Bn(uD),fD=yt({},ec,{relatedTarget:0}),bh=Bn(fD),hD=yt({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),pD=Bn(hD),mD=yt({},na,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gD=Bn(mD),yD=yt({},na,{data:0}),Iv=Bn(yD),vD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bD[e])?!!t[e]:!1}function iy(){return wD}var SD=yt({},ec,{key:function(e){if(e.key){var t=vD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iy,charCode:function(e){return e.type==="keypress"?mu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kD=Bn(SD),ED=yt({},ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pv=Bn(ED),CD=yt({},ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iy}),TD=Bn(CD),ND=yt({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),AD=Bn(ND),jD=yt({},ef,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_D=Bn(jD),RD=[9,13,27,32],oy=Jr&&"CompositionEvent"in window,Ya=null;Jr&&"documentMode"in document&&(Ya=document.documentMode);var DD=Jr&&"TextEvent"in window&&!Ya,D1=Jr&&(!oy||Ya&&8<Ya&&11>=Ya),Ov=" ",Mv=!1;function I1(e,t){switch(e){case"keyup":return RD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var co=!1;function ID(e,t){switch(e){case"compositionend":return P1(t);case"keypress":return t.which!==32?null:(Mv=!0,Ov);case"textInput":return e=t.data,e===Ov&&Mv?null:e;default:return null}}function PD(e,t){if(co)return e==="compositionend"||!oy&&I1(e,t)?(e=R1(),pu=ry=bs=null,co=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return D1&&t.locale!=="ko"?null:t.data;default:return null}}var OD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!OD[e.type]:t==="textarea"}function O1(e,t,n,r){f1(r),t=Xu(t,"onChange"),0<t.length&&(n=new sy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qa=null,wl=null;function MD(e){G1(e,0)}function tf(e){var t=ho(e);if(i1(t))return e}function LD(e,t){if(e==="change")return t}var M1=!1;if(Jr){var wh;if(Jr){var Sh="oninput"in document;if(!Sh){var Fv=document.createElement("div");Fv.setAttribute("oninput","return;"),Sh=typeof Fv.oninput=="function"}wh=Sh}else wh=!1;M1=wh&&(!document.documentMode||9<document.documentMode)}function Bv(){Qa&&(Qa.detachEvent("onpropertychange",L1),wl=Qa=null)}function L1(e){if(e.propertyName==="value"&&tf(wl)){var t=[];O1(t,wl,e,Zg(e)),g1(MD,t)}}function FD(e,t,n){e==="focusin"?(Bv(),Qa=t,wl=n,Qa.attachEvent("onpropertychange",L1)):e==="focusout"&&Bv()}function BD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tf(wl)}function zD(e,t){if(e==="click")return tf(t)}function HD(e,t){if(e==="input"||e==="change")return tf(t)}function UD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hr=typeof Object.is=="function"?Object.is:UD;function Sl(e,t){if(hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!zp.call(t,s)||!hr(e[s],t[s]))return!1}return!0}function zv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hv(e,t){var n=zv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zv(n)}}function F1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?F1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function B1(){for(var e=window,t=$u();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$u(e.document)}return t}function ay(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VD(e){var t=B1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&F1(n.ownerDocument.documentElement,n)){if(r!==null&&ay(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Hv(n,i);var o=Hv(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $D=Jr&&"documentMode"in document&&11>=document.documentMode,uo=null,im=null,Ka=null,om=!1;function Uv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;om||uo==null||uo!==$u(r)||(r=uo,"selectionStart"in r&&ay(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ka&&Sl(Ka,r)||(Ka=r,r=Xu(im,"onSelect"),0<r.length&&(t=new sy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=uo)))}function Mc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fo={animationend:Mc("Animation","AnimationEnd"),animationiteration:Mc("Animation","AnimationIteration"),animationstart:Mc("Animation","AnimationStart"),transitionend:Mc("Transition","TransitionEnd")},kh={},z1={};Jr&&(z1=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function nf(e){if(kh[e])return kh[e];if(!fo[e])return e;var t=fo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in z1)return kh[e]=t[n];return e}var H1=nf("animationend"),U1=nf("animationiteration"),V1=nf("animationstart"),$1=nf("transitionend"),W1=new Map,Vv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ys(e,t){W1.set(e,t),zi(t,[e])}for(var Eh=0;Eh<Vv.length;Eh++){var Ch=Vv[Eh],WD=Ch.toLowerCase(),GD=Ch[0].toUpperCase()+Ch.slice(1);Ys(WD,"on"+GD)}Ys(H1,"onAnimationEnd");Ys(U1,"onAnimationIteration");Ys(V1,"onAnimationStart");Ys("dblclick","onDoubleClick");Ys("focusin","onFocus");Ys("focusout","onBlur");Ys($1,"onTransitionEnd");Lo("onMouseEnter",["mouseout","mouseover"]);Lo("onMouseLeave",["mouseout","mouseover"]);Lo("onPointerEnter",["pointerout","pointerover"]);Lo("onPointerLeave",["pointerout","pointerover"]);zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qD=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function $v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,WR(r,t,void 0,e),e.currentTarget=null}function G1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;$v(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;$v(s,a,c),i=l}}}if(Gu)throw e=tm,Gu=!1,tm=null,e}function rt(e,t){var n=t[dm];n===void 0&&(n=t[dm]=new Set);var r=e+"__bubble";n.has(r)||(q1(t,e,2,!1),n.add(r))}function Th(e,t,n){var r=0;t&&(r|=4),q1(n,e,r,t)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function kl(e){if(!e[Lc]){e[Lc]=!0,e1.forEach(function(n){n!=="selectionchange"&&(qD.has(n)||Th(n,!1,e),Th(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lc]||(t[Lc]=!0,Th("selectionchange",!1,t))}}function q1(e,t,n,r){switch(_1(t)){case 1:var s=aD;break;case 4:s=lD;break;default:s=ny}n=s.bind(null,t,n,e),s=void 0,!em||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Nh(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=mi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}g1(function(){var c=i,d=Zg(n),f=[];e:{var h=W1.get(e);if(h!==void 0){var p=sy,m=e;switch(e){case"keypress":if(mu(n)===0)break e;case"keydown":case"keyup":p=kD;break;case"focusin":m="focus",p=bh;break;case"focusout":m="blur",p=bh;break;case"beforeblur":case"afterblur":p=bh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Dv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=dD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=TD;break;case H1:case U1:case V1:p=pD;break;case $1:p=AD;break;case"scroll":p=cD;break;case"wheel":p=_D;break;case"copy":case"cut":case"paste":p=gD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Pv}var v=(t&4)!==0,b=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,w;g!==null;){w=g;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=yl(g,y),S!=null&&v.push(El(g,S,w)))),b)break;g=g.return}0<v.length&&(h=new p(h,m,null,n,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Zp&&(m=n.relatedTarget||n.fromElement)&&(mi(m)||m[es]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?mi(m):null,m!==null&&(b=Hi(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=Dv,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Pv,S="onPointerLeave",y="onPointerEnter",g="pointer"),b=p==null?h:ho(p),w=m==null?h:ho(m),h=new v(S,g+"leave",p,n,d),h.target=b,h.relatedTarget=w,S=null,mi(d)===c&&(v=new v(y,g+"enter",m,n,d),v.target=w,v.relatedTarget=b,S=v),b=S,p&&m)t:{for(v=p,y=m,g=0,w=v;w;w=so(w))g++;for(w=0,S=y;S;S=so(S))w++;for(;0<g-w;)v=so(v),g--;for(;0<w-g;)y=so(y),w--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=so(v),y=so(y)}v=null}else v=null;p!==null&&Wv(f,h,p,v,!1),m!==null&&b!==null&&Wv(f,b,m,v,!0)}}e:{if(h=c?ho(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=LD;else if(Lv(h))if(M1)k=HD;else{k=BD;var E=FD}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=zD);if(k&&(k=k(e,c))){O1(f,k,n,d);break e}E&&E(e,h,c),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&qp(h,"number",h.value)}switch(E=c?ho(c):window,e){case"focusin":(Lv(E)||E.contentEditable==="true")&&(uo=E,im=c,Ka=null);break;case"focusout":Ka=im=uo=null;break;case"mousedown":om=!0;break;case"contextmenu":case"mouseup":case"dragend":om=!1,Uv(f,n,d);break;case"selectionchange":if($D)break;case"keydown":case"keyup":Uv(f,n,d)}var C;if(oy)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else co?I1(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(D1&&n.locale!=="ko"&&(co||T!=="onCompositionStart"?T==="onCompositionEnd"&&co&&(C=R1()):(bs=d,ry="value"in bs?bs.value:bs.textContent,co=!0)),E=Xu(c,T),0<E.length&&(T=new Iv(T,e,null,n,d),f.push({event:T,listeners:E}),C?T.data=C:(C=P1(n),C!==null&&(T.data=C)))),(C=DD?ID(e,n):PD(e,n))&&(c=Xu(c,"onBeforeInput"),0<c.length&&(d=new Iv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}G1(f,t)})}function El(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=yl(e,n),i!=null&&r.unshift(El(e,i,s)),i=yl(e,t),i!=null&&r.push(El(e,i,s))),e=e.return}return r}function so(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wv(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=yl(n,i),l!=null&&o.unshift(El(n,l,a))):s||(l=yl(n,i),l!=null&&o.push(El(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var YD=/\r\n?/g,QD=/\u0000|\uFFFD/g;function Gv(e){return(typeof e=="string"?e:""+e).replace(YD,`
`).replace(QD,"")}function Fc(e,t,n){if(t=Gv(t),Gv(e)!==t&&n)throw Error(Z(425))}function Zu(){}var am=null,lm=null;function cm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var um=typeof setTimeout=="function"?setTimeout:void 0,KD=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,XD=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(e){return qv.resolve(null).then(e).catch(ZD)}:um;function ZD(e){setTimeout(function(){throw e})}function Ah(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),bl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);bl(t)}function js(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ra=Math.random().toString(36).slice(2),Ar="__reactFiber$"+ra,Cl="__reactProps$"+ra,es="__reactContainer$"+ra,dm="__reactEvents$"+ra,JD="__reactListeners$"+ra,e2="__reactHandles$"+ra;function mi(e){var t=e[Ar];if(t)return t;for(var n=e.parentNode;n;){if(t=n[es]||n[Ar]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yv(e);e!==null;){if(n=e[Ar])return n;e=Yv(e)}return t}e=n,n=e.parentNode}return null}function tc(e){return e=e[Ar]||e[es],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ho(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function rf(e){return e[Cl]||null}var fm=[],po=-1;function Qs(e){return{current:e}}function it(e){0>po||(e.current=fm[po],fm[po]=null,po--)}function tt(e,t){po++,fm[po]=e.current,e.current=t}var Bs={},rn=Qs(Bs),bn=Qs(!1),Ai=Bs;function Fo(e,t){var n=e.type.contextTypes;if(!n)return Bs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function wn(e){return e=e.childContextTypes,e!=null}function Ju(){it(bn),it(rn)}function Qv(e,t,n){if(rn.current!==Bs)throw Error(Z(168));tt(rn,t),tt(bn,n)}function Y1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Z(108,FR(e)||"Unknown",s));return yt({},n,r)}function ed(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bs,Ai=rn.current,tt(rn,e),tt(bn,bn.current),!0}function Kv(e,t,n){var r=e.stateNode;if(!r)throw Error(Z(169));n?(e=Y1(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,it(bn),it(rn),tt(rn,e)):it(bn),tt(bn,n)}var $r=null,sf=!1,jh=!1;function Q1(e){$r===null?$r=[e]:$r.push(e)}function t2(e){sf=!0,Q1(e)}function Ks(){if(!jh&&$r!==null){jh=!0;var e=0,t=Ze;try{var n=$r;for(Ze=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$r=null,sf=!1}catch(s){throw $r!==null&&($r=$r.slice(e+1)),b1(Jg,Ks),s}finally{Ze=t,jh=!1}}return null}var mo=[],go=0,td=null,nd=0,Un=[],Vn=0,ji=null,Wr=1,Gr="";function ai(e,t){mo[go++]=nd,mo[go++]=td,td=e,nd=t}function K1(e,t,n){Un[Vn++]=Wr,Un[Vn++]=Gr,Un[Vn++]=ji,ji=e;var r=Wr;e=Gr;var s=32-lr(r)-1;r&=~(1<<s),n+=1;var i=32-lr(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Wr=1<<32-lr(t)+s|n<<s|r,Gr=i+e}else Wr=1<<i|n<<s|r,Gr=e}function ly(e){e.return!==null&&(ai(e,1),K1(e,1,0))}function cy(e){for(;e===td;)td=mo[--go],mo[go]=null,nd=mo[--go],mo[go]=null;for(;e===ji;)ji=Un[--Vn],Un[Vn]=null,Gr=Un[--Vn],Un[Vn]=null,Wr=Un[--Vn],Un[Vn]=null}var Dn=null,Rn=null,ut=!1,ir=null;function X1(e,t){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dn=e,Rn=js(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dn=e,Rn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ji!==null?{id:Wr,overflow:Gr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Dn=e,Rn=null,!0):!1;default:return!1}}function hm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pm(e){if(ut){var t=Rn;if(t){var n=t;if(!Xv(e,t)){if(hm(e))throw Error(Z(418));t=js(n.nextSibling);var r=Dn;t&&Xv(e,t)?X1(r,n):(e.flags=e.flags&-4097|2,ut=!1,Dn=e)}}else{if(hm(e))throw Error(Z(418));e.flags=e.flags&-4097|2,ut=!1,Dn=e}}}function Zv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dn=e}function Bc(e){if(e!==Dn)return!1;if(!ut)return Zv(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cm(e.type,e.memoizedProps)),t&&(t=Rn)){if(hm(e))throw Z1(),Error(Z(418));for(;t;)X1(e,t),t=js(t.nextSibling)}if(Zv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Rn=js(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Rn=null}}else Rn=Dn?js(e.stateNode.nextSibling):null;return!0}function Z1(){for(var e=Rn;e;)e=js(e.nextSibling)}function Bo(){Rn=Dn=null,ut=!1}function uy(e){ir===null?ir=[e]:ir.push(e)}var n2=is.ReactCurrentBatchConfig;function Sa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,e))}return e}function zc(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jv(e){var t=e._init;return t(e._payload)}function J1(e){function t(y,g){if(e){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=Is(y,g),y.index=0,y.sibling=null,y}function i(y,g,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=2,g):w):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,g,w,S){return g===null||g.tag!==6?(g=Mh(w,y.mode,S),g.return=y,g):(g=s(g,w),g.return=y,g)}function l(y,g,w,S){var k=w.type;return k===lo?d(y,g,w.props.children,S,w.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===hs&&Jv(k)===g.type)?(S=s(g,w.props),S.ref=Sa(y,g,w),S.return=y,S):(S=Su(w.type,w.key,w.props,null,y.mode,S),S.ref=Sa(y,g,w),S.return=y,S)}function c(y,g,w,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Lh(w,y.mode,S),g.return=y,g):(g=s(g,w.children||[]),g.return=y,g)}function d(y,g,w,S,k){return g===null||g.tag!==7?(g=Ei(w,y.mode,S,k),g.return=y,g):(g=s(g,w),g.return=y,g)}function f(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Mh(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case jc:return w=Su(g.type,g.key,g.props,null,y.mode,w),w.ref=Sa(y,null,g),w.return=y,w;case ao:return g=Lh(g,y.mode,w),g.return=y,g;case hs:var S=g._init;return f(y,S(g._payload),w)}if(Fa(g)||ya(g))return g=Ei(g,y.mode,w,null),g.return=y,g;zc(y,g)}return null}function h(y,g,w,S){var k=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:a(y,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case jc:return w.key===k?l(y,g,w,S):null;case ao:return w.key===k?c(y,g,w,S):null;case hs:return k=w._init,h(y,g,k(w._payload),S)}if(Fa(w)||ya(w))return k!==null?null:d(y,g,w,S,null);zc(y,w)}return null}function p(y,g,w,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,a(g,y,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case jc:return y=y.get(S.key===null?w:S.key)||null,l(g,y,S,k);case ao:return y=y.get(S.key===null?w:S.key)||null,c(g,y,S,k);case hs:var E=S._init;return p(y,g,w,E(S._payload),k)}if(Fa(S)||ya(S))return y=y.get(w)||null,d(g,y,S,k,null);zc(g,S)}return null}function m(y,g,w,S){for(var k=null,E=null,C=g,T=g=0,N=null;C!==null&&T<w.length;T++){C.index>T?(N=C,C=null):N=C.sibling;var A=h(y,C,w[T],S);if(A===null){C===null&&(C=N);break}e&&C&&A.alternate===null&&t(y,C),g=i(A,g,T),E===null?k=A:E.sibling=A,E=A,C=N}if(T===w.length)return n(y,C),ut&&ai(y,T),k;if(C===null){for(;T<w.length;T++)C=f(y,w[T],S),C!==null&&(g=i(C,g,T),E===null?k=C:E.sibling=C,E=C);return ut&&ai(y,T),k}for(C=r(y,C);T<w.length;T++)N=p(C,y,T,w[T],S),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?T:N.key),g=i(N,g,T),E===null?k=N:E.sibling=N,E=N);return e&&C.forEach(function(R){return t(y,R)}),ut&&ai(y,T),k}function v(y,g,w,S){var k=ya(w);if(typeof k!="function")throw Error(Z(150));if(w=k.call(w),w==null)throw Error(Z(151));for(var E=k=null,C=g,T=g=0,N=null,A=w.next();C!==null&&!A.done;T++,A=w.next()){C.index>T?(N=C,C=null):N=C.sibling;var R=h(y,C,A.value,S);if(R===null){C===null&&(C=N);break}e&&C&&R.alternate===null&&t(y,C),g=i(R,g,T),E===null?k=R:E.sibling=R,E=R,C=N}if(A.done)return n(y,C),ut&&ai(y,T),k;if(C===null){for(;!A.done;T++,A=w.next())A=f(y,A.value,S),A!==null&&(g=i(A,g,T),E===null?k=A:E.sibling=A,E=A);return ut&&ai(y,T),k}for(C=r(y,C);!A.done;T++,A=w.next())A=p(C,y,T,A.value,S),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?T:A.key),g=i(A,g,T),E===null?k=A:E.sibling=A,E=A);return e&&C.forEach(function(I){return t(y,I)}),ut&&ai(y,T),k}function b(y,g,w,S){if(typeof w=="object"&&w!==null&&w.type===lo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case jc:e:{for(var k=w.key,E=g;E!==null;){if(E.key===k){if(k=w.type,k===lo){if(E.tag===7){n(y,E.sibling),g=s(E,w.props.children),g.return=y,y=g;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===hs&&Jv(k)===E.type){n(y,E.sibling),g=s(E,w.props),g.ref=Sa(y,E,w),g.return=y,y=g;break e}n(y,E);break}else t(y,E);E=E.sibling}w.type===lo?(g=Ei(w.props.children,y.mode,S,w.key),g.return=y,y=g):(S=Su(w.type,w.key,w.props,null,y.mode,S),S.ref=Sa(y,g,w),S.return=y,y=S)}return o(y);case ao:e:{for(E=w.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(y,g.sibling),g=s(g,w.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else t(y,g);g=g.sibling}g=Lh(w,y.mode,S),g.return=y,y=g}return o(y);case hs:return E=w._init,b(y,g,E(w._payload),S)}if(Fa(w))return m(y,g,w,S);if(ya(w))return v(y,g,w,S);zc(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(y,g.sibling),g=s(g,w),g.return=y,y=g):(n(y,g),g=Mh(w,y.mode,S),g.return=y,y=g),o(y)):n(y,g)}return b}var zo=J1(!0),eE=J1(!1),rd=Qs(null),sd=null,yo=null,dy=null;function fy(){dy=yo=sd=null}function hy(e){var t=rd.current;it(rd),e._currentValue=t}function mm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _o(e,t){sd=e,dy=yo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yn=!0),e.firstContext=null)}function Kn(e){var t=e._currentValue;if(dy!==e)if(e={context:e,memoizedValue:t,next:null},yo===null){if(sd===null)throw Error(Z(308));yo=e,sd.dependencies={lanes:0,firstContext:e}}else yo=yo.next=e;return t}var gi=null;function py(e){gi===null?gi=[e]:gi.push(e)}function tE(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,py(t)):(n.next=s.next,s.next=n),t.interleaved=n,ts(e,r)}function ts(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ps=!1;function my(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _s(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,We&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ts(e,n)}return s=r.interleaved,s===null?(t.next=t,py(r)):(t.next=s.next,s.next=t),r.interleaved=t,ts(e,n)}function gu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ey(e,n)}}function ex(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function id(e,t,n,r){var s=e.updateQueue;ps=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,v=a;switch(h=t,p=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=yt({},f,h);break e;case 2:ps=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ri|=o,e.lanes=o,e.memoizedState=f}}function tx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Z(191,s));s.call(r)}}}var nc={},Ir=Qs(nc),Tl=Qs(nc),Nl=Qs(nc);function yi(e){if(e===nc)throw Error(Z(174));return e}function gy(e,t){switch(tt(Nl,t),tt(Tl,e),tt(Ir,nc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qp(t,e)}it(Ir),tt(Ir,t)}function Ho(){it(Ir),it(Tl),it(Nl)}function rE(e){yi(Nl.current);var t=yi(Ir.current),n=Qp(t,e.type);t!==n&&(tt(Tl,e),tt(Ir,n))}function yy(e){Tl.current===e&&(it(Ir),it(Tl))}var ht=Qs(0);function od(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _h=[];function vy(){for(var e=0;e<_h.length;e++)_h[e]._workInProgressVersionPrimary=null;_h.length=0}var yu=is.ReactCurrentDispatcher,Rh=is.ReactCurrentBatchConfig,_i=0,mt=null,It=null,Mt=null,ad=!1,Xa=!1,Al=0,r2=0;function Wt(){throw Error(Z(321))}function xy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hr(e[n],t[n]))return!1;return!0}function by(e,t,n,r,s,i){if(_i=i,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yu.current=e===null||e.memoizedState===null?a2:l2,e=n(r,s),Xa){i=0;do{if(Xa=!1,Al=0,25<=i)throw Error(Z(301));i+=1,Mt=It=null,t.updateQueue=null,yu.current=c2,e=n(r,s)}while(Xa)}if(yu.current=ld,t=It!==null&&It.next!==null,_i=0,Mt=It=mt=null,ad=!1,t)throw Error(Z(300));return e}function wy(){var e=Al!==0;return Al=0,e}function kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?mt.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function Xn(){if(It===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var t=Mt===null?mt.memoizedState:Mt.next;if(t!==null)Mt=t,It=e;else{if(e===null)throw Error(Z(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Mt===null?mt.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function jl(e,t){return typeof t=="function"?t(e):t}function Dh(e){var t=Xn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=It,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((_i&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,mt.lanes|=d,Ri|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,hr(r,t.memoizedState)||(yn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,mt.lanes|=i,Ri|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ih(e){var t=Xn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);hr(i,t.memoizedState)||(yn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function sE(){}function iE(e,t){var n=mt,r=Xn(),s=t(),i=!hr(r.memoizedState,s);if(i&&(r.memoizedState=s,yn=!0),r=r.queue,Sy(lE.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,_l(9,aE.bind(null,n,r,s,t),void 0,null),Ft===null)throw Error(Z(349));_i&30||oE(n,t,s)}return s}function oE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function aE(e,t,n,r){t.value=n,t.getSnapshot=r,cE(t)&&uE(e)}function lE(e,t,n){return n(function(){cE(t)&&uE(e)})}function cE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hr(e,n)}catch{return!0}}function uE(e){var t=ts(e,1);t!==null&&cr(t,e,1,-1)}function nx(e){var t=kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:e},t.queue=e,e=e.dispatch=o2.bind(null,mt,e),[t.memoizedState,e]}function _l(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function dE(){return Xn().memoizedState}function vu(e,t,n,r){var s=kr();mt.flags|=e,s.memoizedState=_l(1|t,n,void 0,r===void 0?null:r)}function of(e,t,n,r){var s=Xn();r=r===void 0?null:r;var i=void 0;if(It!==null){var o=It.memoizedState;if(i=o.destroy,r!==null&&xy(r,o.deps)){s.memoizedState=_l(t,n,i,r);return}}mt.flags|=e,s.memoizedState=_l(1|t,n,i,r)}function rx(e,t){return vu(8390656,8,e,t)}function Sy(e,t){return of(2048,8,e,t)}function fE(e,t){return of(4,2,e,t)}function hE(e,t){return of(4,4,e,t)}function pE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mE(e,t,n){return n=n!=null?n.concat([e]):null,of(4,4,pE.bind(null,t,e),n)}function ky(){}function gE(e,t){var n=Xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yE(e,t){var n=Xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function vE(e,t,n){return _i&21?(hr(n,t)||(n=k1(),mt.lanes|=n,Ri|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yn=!0),e.memoizedState=n)}function s2(e,t){var n=Ze;Ze=n!==0&&4>n?n:4,e(!0);var r=Rh.transition;Rh.transition={};try{e(!1),t()}finally{Ze=n,Rh.transition=r}}function xE(){return Xn().memoizedState}function i2(e,t,n){var r=Ds(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bE(e))wE(t,n);else if(n=tE(e,t,n,r),n!==null){var s=dn();cr(n,e,r,s),SE(n,t,r)}}function o2(e,t,n){var r=Ds(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bE(e))wE(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,hr(a,o)){var l=t.interleaved;l===null?(s.next=s,py(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=tE(e,t,s,r),n!==null&&(s=dn(),cr(n,e,r,s),SE(n,t,r))}}function bE(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function wE(e,t){Xa=ad=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function SE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ey(e,n)}}var ld={readContext:Kn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},a2={readContext:Kn,useCallback:function(e,t){return kr().memoizedState=[e,t===void 0?null:t],e},useContext:Kn,useEffect:rx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vu(4194308,4,pE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vu(4194308,4,e,t)},useInsertionEffect:function(e,t){return vu(4,2,e,t)},useMemo:function(e,t){var n=kr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=kr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=i2.bind(null,mt,e),[r.memoizedState,e]},useRef:function(e){var t=kr();return e={current:e},t.memoizedState=e},useState:nx,useDebugValue:ky,useDeferredValue:function(e){return kr().memoizedState=e},useTransition:function(){var e=nx(!1),t=e[0];return e=s2.bind(null,e[1]),kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mt,s=kr();if(ut){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=t(),Ft===null)throw Error(Z(349));_i&30||oE(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,rx(lE.bind(null,r,i,e),[e]),r.flags|=2048,_l(9,aE.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=kr(),t=Ft.identifierPrefix;if(ut){var n=Gr,r=Wr;n=(r&~(1<<32-lr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Al++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=r2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},l2={readContext:Kn,useCallback:gE,useContext:Kn,useEffect:Sy,useImperativeHandle:mE,useInsertionEffect:fE,useLayoutEffect:hE,useMemo:yE,useReducer:Dh,useRef:dE,useState:function(){return Dh(jl)},useDebugValue:ky,useDeferredValue:function(e){var t=Xn();return vE(t,It.memoizedState,e)},useTransition:function(){var e=Dh(jl)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:sE,useSyncExternalStore:iE,useId:xE,unstable_isNewReconciler:!1},c2={readContext:Kn,useCallback:gE,useContext:Kn,useEffect:Sy,useImperativeHandle:mE,useInsertionEffect:fE,useLayoutEffect:hE,useMemo:yE,useReducer:Ih,useRef:dE,useState:function(){return Ih(jl)},useDebugValue:ky,useDeferredValue:function(e){var t=Xn();return It===null?t.memoizedState=e:vE(t,It.memoizedState,e)},useTransition:function(){var e=Ih(jl)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:sE,useSyncExternalStore:iE,useId:xE,unstable_isNewReconciler:!1};function nr(e,t){if(e&&e.defaultProps){t=yt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function gm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:yt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var af={isMounted:function(e){return(e=e._reactInternals)?Hi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dn(),s=Ds(e),i=Kr(r,s);i.payload=t,n!=null&&(i.callback=n),t=_s(e,i,s),t!==null&&(cr(t,e,s,r),gu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dn(),s=Ds(e),i=Kr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=_s(e,i,s),t!==null&&(cr(t,e,s,r),gu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dn(),r=Ds(e),s=Kr(n,r);s.tag=2,t!=null&&(s.callback=t),t=_s(e,s,r),t!==null&&(cr(t,e,r,n),gu(t,e,r))}};function sx(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Sl(n,r)||!Sl(s,i):!0}function kE(e,t,n){var r=!1,s=Bs,i=t.contextType;return typeof i=="object"&&i!==null?i=Kn(i):(s=wn(t)?Ai:rn.current,r=t.contextTypes,i=(r=r!=null)?Fo(e,s):Bs),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=af,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ix(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&af.enqueueReplaceState(t,t.state,null)}function ym(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},my(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Kn(i):(i=wn(t)?Ai:rn.current,s.context=Fo(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(gm(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&af.enqueueReplaceState(s,s.state,null),id(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Uo(e,t){try{var n="",r=t;do n+=LR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ph(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var u2=typeof WeakMap=="function"?WeakMap:Map;function EE(e,t,n){n=Kr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ud||(ud=!0,Am=r),vm(e,t)},n}function CE(e,t,n){n=Kr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){vm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){vm(e,t),typeof r!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ox(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new u2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=E2.bind(null,e,t,n),t.then(e,e))}function ax(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lx(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kr(-1,1),t.tag=2,_s(n,t,1))),n.lanes|=1),e)}var d2=is.ReactCurrentOwner,yn=!1;function cn(e,t,n,r){t.child=e===null?eE(t,null,n,r):zo(t,e.child,n,r)}function cx(e,t,n,r,s){n=n.render;var i=t.ref;return _o(t,s),r=by(e,t,n,r,i,s),n=wy(),e!==null&&!yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ns(e,t,s)):(ut&&n&&ly(t),t.flags|=1,cn(e,t,r,s),t.child)}function ux(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ry(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,TE(e,t,i,r,s)):(e=Su(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Sl,n(o,r)&&e.ref===t.ref)return ns(e,t,s)}return t.flags|=1,e=Is(i,r),e.ref=t.ref,e.return=t,t.child=e}function TE(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Sl(i,r)&&e.ref===t.ref)if(yn=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(yn=!0);else return t.lanes=e.lanes,ns(e,t,s)}return xm(e,t,n,r,s)}function NE(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(xo,jn),jn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(xo,jn),jn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,tt(xo,jn),jn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,tt(xo,jn),jn|=r;return cn(e,t,s,n),t.child}function AE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xm(e,t,n,r,s){var i=wn(n)?Ai:rn.current;return i=Fo(t,i),_o(t,s),n=by(e,t,n,r,i,s),r=wy(),e!==null&&!yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ns(e,t,s)):(ut&&r&&ly(t),t.flags|=1,cn(e,t,n,s),t.child)}function dx(e,t,n,r,s){if(wn(n)){var i=!0;ed(t)}else i=!1;if(_o(t,s),t.stateNode===null)xu(e,t),kE(t,n,r),ym(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Kn(c):(c=wn(n)?Ai:rn.current,c=Fo(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&ix(t,o,r,c),ps=!1;var h=t.memoizedState;o.state=h,id(t,r,o,s),l=t.memoizedState,a!==r||h!==l||bn.current||ps?(typeof d=="function"&&(gm(t,n,d,r),l=t.memoizedState),(a=ps||sx(t,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,nE(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:nr(t.type,a),o.props=c,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Kn(l):(l=wn(n)?Ai:rn.current,l=Fo(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&ix(t,o,r,l),ps=!1,h=t.memoizedState,o.state=h,id(t,r,o,s);var m=t.memoizedState;a!==f||h!==m||bn.current||ps?(typeof p=="function"&&(gm(t,n,p,r),m=t.memoizedState),(c=ps||sx(t,n,c,r,h,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return bm(e,t,n,r,i,s)}function bm(e,t,n,r,s,i){AE(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Kv(t,n,!1),ns(e,t,i);r=t.stateNode,d2.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=zo(t,e.child,null,i),t.child=zo(t,null,a,i)):cn(e,t,a,i),t.memoizedState=r.state,s&&Kv(t,n,!0),t.child}function jE(e){var t=e.stateNode;t.pendingContext?Qv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qv(e,t.context,!1),gy(e,t.containerInfo)}function fx(e,t,n,r,s){return Bo(),uy(s),t.flags|=256,cn(e,t,n,r),t.child}var wm={dehydrated:null,treeContext:null,retryLane:0};function Sm(e){return{baseLanes:e,cachePool:null,transitions:null}}function _E(e,t,n){var r=t.pendingProps,s=ht.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),tt(ht,s&1),e===null)return pm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=uf(o,r,0,null),e=Ei(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Sm(n),t.memoizedState=wm,e):Ey(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return f2(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Is(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Is(a,i):(i=Ei(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Sm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=wm,r}return i=e.child,e=i.sibling,r=Is(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ey(e,t){return t=uf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hc(e,t,n,r){return r!==null&&uy(r),zo(t,e.child,null,n),e=Ey(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function f2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ph(Error(Z(422))),Hc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=uf({mode:"visible",children:r.children},s,0,null),i=Ei(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&zo(t,e.child,null,o),t.child.memoizedState=Sm(o),t.memoizedState=wm,i);if(!(t.mode&1))return Hc(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Z(419)),r=Ph(i,r,void 0),Hc(e,t,o,r)}if(a=(o&e.childLanes)!==0,yn||a){if(r=Ft,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ts(e,s),cr(r,e,s,-1))}return _y(),r=Ph(Error(Z(421))),Hc(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=C2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Rn=js(s.nextSibling),Dn=t,ut=!0,ir=null,e!==null&&(Un[Vn++]=Wr,Un[Vn++]=Gr,Un[Vn++]=ji,Wr=e.id,Gr=e.overflow,ji=t),t=Ey(t,r.children),t.flags|=4096,t)}function hx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),mm(e.return,t,n)}function Oh(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function RE(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(cn(e,t,r.children,n),r=ht.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hx(e,n,t);else if(e.tag===19)hx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tt(ht,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&od(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Oh(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&od(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Oh(t,!0,n,null,i);break;case"together":Oh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ns(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ri|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=Is(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Is(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function h2(e,t,n){switch(t.tag){case 3:jE(t),Bo();break;case 5:rE(t);break;case 1:wn(t.type)&&ed(t);break;case 4:gy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;tt(rd,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(tt(ht,ht.current&1),t.flags|=128,null):n&t.child.childLanes?_E(e,t,n):(tt(ht,ht.current&1),e=ns(e,t,n),e!==null?e.sibling:null);tt(ht,ht.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return RE(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),tt(ht,ht.current),r)break;return null;case 22:case 23:return t.lanes=0,NE(e,t,n)}return ns(e,t,n)}var DE,km,IE,PE;DE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};km=function(){};IE=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,yi(Ir.current);var i=null;switch(n){case"input":s=Wp(e,s),r=Wp(e,r),i=[];break;case"select":s=yt({},s,{value:void 0}),r=yt({},r,{value:void 0}),i=[];break;case"textarea":s=Yp(e,s),r=Yp(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Zu)}Kp(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ml.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ml.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rt("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};PE=function(e,t,n,r){n!==r&&(t.flags|=4)};function ka(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function p2(e,t,n){var r=t.pendingProps;switch(cy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(t),null;case 1:return wn(t.type)&&Ju(),Gt(t),null;case 3:return r=t.stateNode,Ho(),it(bn),it(rn),vy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Bc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ir!==null&&(Rm(ir),ir=null))),km(e,t),Gt(t),null;case 5:yy(t);var s=yi(Nl.current);if(n=t.type,e!==null&&t.stateNode!=null)IE(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return Gt(t),null}if(e=yi(Ir.current),Bc(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ar]=t,r[Cl]=i,e=(t.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(s=0;s<za.length;s++)rt(za[s],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":Sv(r,i),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},rt("invalid",r);break;case"textarea":Ev(r,i),rt("invalid",r)}Kp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Fc(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Fc(r.textContent,a,e),s=["children",""+a]):ml.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rt("scroll",r)}switch(n){case"input":_c(r),kv(r,i,!0);break;case"textarea":_c(r),Cv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Zu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=l1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ar]=t,e[Cl]=r,DE(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xp(n,r),n){case"dialog":rt("cancel",e),rt("close",e),s=r;break;case"iframe":case"object":case"embed":rt("load",e),s=r;break;case"video":case"audio":for(s=0;s<za.length;s++)rt(za[s],e);s=r;break;case"source":rt("error",e),s=r;break;case"img":case"image":case"link":rt("error",e),rt("load",e),s=r;break;case"details":rt("toggle",e),s=r;break;case"input":Sv(e,r),s=Wp(e,r),rt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=yt({},r,{value:void 0}),rt("invalid",e);break;case"textarea":Ev(e,r),s=Yp(e,r),rt("invalid",e);break;default:s=r}Kp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?d1(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&c1(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gl(e,l):typeof l=="number"&&gl(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ml.hasOwnProperty(i)?l!=null&&i==="onScroll"&&rt("scroll",e):l!=null&&Yg(e,i,l,o))}switch(n){case"input":_c(e),kv(e,r,!1);break;case"textarea":_c(e),Cv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Fs(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?To(e,!!r.multiple,i,!1):r.defaultValue!=null&&To(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Zu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gt(t),null;case 6:if(e&&t.stateNode!=null)PE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));if(n=yi(Nl.current),yi(Ir.current),Bc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ar]=t,(i=r.nodeValue!==n)&&(e=Dn,e!==null))switch(e.tag){case 3:Fc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fc(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ar]=t,t.stateNode=r}return Gt(t),null;case 13:if(it(ht),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&Rn!==null&&t.mode&1&&!(t.flags&128))Z1(),Bo(),t.flags|=98560,i=!1;else if(i=Bc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[Ar]=t}else Bo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gt(t),i=!1}else ir!==null&&(Rm(ir),ir=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ht.current&1?Ot===0&&(Ot=3):_y())),t.updateQueue!==null&&(t.flags|=4),Gt(t),null);case 4:return Ho(),km(e,t),e===null&&kl(t.stateNode.containerInfo),Gt(t),null;case 10:return hy(t.type._context),Gt(t),null;case 17:return wn(t.type)&&Ju(),Gt(t),null;case 19:if(it(ht),i=t.memoizedState,i===null)return Gt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ka(i,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=od(e),o!==null){for(t.flags|=128,ka(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tt(ht,ht.current&1|2),t.child}e=e.sibling}i.tail!==null&&Tt()>Vo&&(t.flags|=128,r=!0,ka(i,!1),t.lanes=4194304)}else{if(!r)if(e=od(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ka(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ut)return Gt(t),null}else 2*Tt()-i.renderingStartTime>Vo&&n!==1073741824&&(t.flags|=128,r=!0,ka(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Tt(),t.sibling=null,n=ht.current,tt(ht,r?n&1|2:n&1),t):(Gt(t),null);case 22:case 23:return jy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?jn&1073741824&&(Gt(t),t.subtreeFlags&6&&(t.flags|=8192)):Gt(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function m2(e,t){switch(cy(t),t.tag){case 1:return wn(t.type)&&Ju(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ho(),it(bn),it(rn),vy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yy(t),null;case 13:if(it(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Bo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return it(ht),null;case 4:return Ho(),null;case 10:return hy(t.type._context),null;case 22:case 23:return jy(),null;case 24:return null;default:return null}}var Uc=!1,Xt=!1,g2=typeof WeakSet=="function"?WeakSet:Set,de=null;function vo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(e,t,r)}else n.current=null}function Em(e,t,n){try{n()}catch(r){bt(e,t,r)}}var px=!1;function y2(e,t){if(am=Qu,e=B1(),ay(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(lm={focusedElem:e,selectionRange:n},Qu=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,b=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:nr(t.type,v),b);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(S){bt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return m=px,px=!1,m}function Za(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Em(t,n,i)}s=s.next}while(s!==r)}}function lf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Cm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function OE(e){var t=e.alternate;t!==null&&(e.alternate=null,OE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ar],delete t[Cl],delete t[dm],delete t[JD],delete t[e2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ME(e){return e.tag===5||e.tag===3||e.tag===4}function mx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ME(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zu));else if(r!==4&&(e=e.child,e!==null))for(Tm(e,t,n),e=e.sibling;e!==null;)Tm(e,t,n),e=e.sibling}function Nm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Nm(e,t,n),e=e.sibling;e!==null;)Nm(e,t,n),e=e.sibling}var Ht=null,rr=!1;function cs(e,t,n){for(n=n.child;n!==null;)LE(e,t,n),n=n.sibling}function LE(e,t,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(Jd,n)}catch{}switch(n.tag){case 5:Xt||vo(n,t);case 6:var r=Ht,s=rr;Ht=null,cs(e,t,n),Ht=r,rr=s,Ht!==null&&(rr?(e=Ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(rr?(e=Ht,n=n.stateNode,e.nodeType===8?Ah(e.parentNode,n):e.nodeType===1&&Ah(e,n),bl(e)):Ah(Ht,n.stateNode));break;case 4:r=Ht,s=rr,Ht=n.stateNode.containerInfo,rr=!0,cs(e,t,n),Ht=r,rr=s;break;case 0:case 11:case 14:case 15:if(!Xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Em(n,t,o),s=s.next}while(s!==r)}cs(e,t,n);break;case 1:if(!Xt&&(vo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){bt(n,t,a)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:n.mode&1?(Xt=(r=Xt)||n.memoizedState!==null,cs(e,t,n),Xt=r):cs(e,t,n);break;default:cs(e,t,n)}}function gx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new g2),t.forEach(function(r){var s=T2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function er(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ht=a.stateNode,rr=!1;break e;case 3:Ht=a.stateNode.containerInfo,rr=!0;break e;case 4:Ht=a.stateNode.containerInfo,rr=!0;break e}a=a.return}if(Ht===null)throw Error(Z(160));LE(i,o,s),Ht=null,rr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){bt(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)FE(t,e),t=t.sibling}function FE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(er(t,e),wr(e),r&4){try{Za(3,e,e.return),lf(3,e)}catch(v){bt(e,e.return,v)}try{Za(5,e,e.return)}catch(v){bt(e,e.return,v)}}break;case 1:er(t,e),wr(e),r&512&&n!==null&&vo(n,n.return);break;case 5:if(er(t,e),wr(e),r&512&&n!==null&&vo(n,n.return),e.flags&32){var s=e.stateNode;try{gl(s,"")}catch(v){bt(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&o1(s,i),Xp(a,o);var c=Xp(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?d1(s,f):d==="dangerouslySetInnerHTML"?c1(s,f):d==="children"?gl(s,f):Yg(s,d,f,c)}switch(a){case"input":Gp(s,i);break;case"textarea":a1(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?To(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?To(s,!!i.multiple,i.defaultValue,!0):To(s,!!i.multiple,i.multiple?[]:"",!1))}s[Cl]=i}catch(v){bt(e,e.return,v)}}break;case 6:if(er(t,e),wr(e),r&4){if(e.stateNode===null)throw Error(Z(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){bt(e,e.return,v)}}break;case 3:if(er(t,e),wr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bl(t.containerInfo)}catch(v){bt(e,e.return,v)}break;case 4:er(t,e),wr(e);break;case 13:er(t,e),wr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ny=Tt())),r&4&&gx(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Xt=(c=Xt)||d,er(t,e),Xt=c):er(t,e),wr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(de=e,d=e.child;d!==null;){for(f=de=d;de!==null;){switch(h=de,p=h.child,h.tag){case 0:case 11:case 14:case 15:Za(4,h,h.return);break;case 1:vo(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){bt(r,n,v)}}break;case 5:vo(h,h.return);break;case 22:if(h.memoizedState!==null){vx(f);continue}}p!==null?(p.return=h,de=p):vx(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=u1("display",o))}catch(v){bt(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){bt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:er(t,e),wr(e),r&4&&gx(e);break;case 21:break;default:er(t,e),wr(e)}}function wr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ME(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gl(s,""),r.flags&=-33);var i=mx(e);Nm(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=mx(e);Tm(e,a,o);break;default:throw Error(Z(161))}}catch(l){bt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function v2(e,t,n){de=e,BE(e)}function BE(e,t,n){for(var r=(e.mode&1)!==0;de!==null;){var s=de,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Uc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Xt;a=Uc;var c=Xt;if(Uc=o,(Xt=l)&&!c)for(de=s;de!==null;)o=de,l=o.child,o.tag===22&&o.memoizedState!==null?xx(s):l!==null?(l.return=o,de=l):xx(s);for(;i!==null;)de=i,BE(i),i=i.sibling;de=s,Uc=a,Xt=c}yx(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,de=i):yx(e)}}function yx(e){for(;de!==null;){var t=de;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xt||lf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Xt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:nr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tx(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tx(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&bl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Xt||t.flags&512&&Cm(t)}catch(h){bt(t,t.return,h)}}if(t===e){de=null;break}if(n=t.sibling,n!==null){n.return=t.return,de=n;break}de=t.return}}function vx(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var n=t.sibling;if(n!==null){n.return=t.return,de=n;break}de=t.return}}function xx(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{lf(4,t)}catch(l){bt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){bt(t,s,l)}}var i=t.return;try{Cm(t)}catch(l){bt(t,i,l)}break;case 5:var o=t.return;try{Cm(t)}catch(l){bt(t,o,l)}}}catch(l){bt(t,t.return,l)}if(t===e){de=null;break}var a=t.sibling;if(a!==null){a.return=t.return,de=a;break}de=t.return}}var x2=Math.ceil,cd=is.ReactCurrentDispatcher,Cy=is.ReactCurrentOwner,Qn=is.ReactCurrentBatchConfig,We=0,Ft=null,_t=null,Vt=0,jn=0,xo=Qs(0),Ot=0,Rl=null,Ri=0,cf=0,Ty=0,Ja=null,mn=null,Ny=0,Vo=1/0,Vr=null,ud=!1,Am=null,Rs=null,Vc=!1,ws=null,dd=0,el=0,jm=null,bu=-1,wu=0;function dn(){return We&6?Tt():bu!==-1?bu:bu=Tt()}function Ds(e){return e.mode&1?We&2&&Vt!==0?Vt&-Vt:n2.transition!==null?(wu===0&&(wu=k1()),wu):(e=Ze,e!==0||(e=window.event,e=e===void 0?16:_1(e.type)),e):1}function cr(e,t,n,r){if(50<el)throw el=0,jm=null,Error(Z(185));Jl(e,n,r),(!(We&2)||e!==Ft)&&(e===Ft&&(!(We&2)&&(cf|=n),Ot===4&&ys(e,Vt)),Sn(e,r),n===1&&We===0&&!(t.mode&1)&&(Vo=Tt()+500,sf&&Ks()))}function Sn(e,t){var n=e.callbackNode;nD(e,t);var r=Yu(e,e===Ft?Vt:0);if(r===0)n!==null&&Av(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Av(n),t===1)e.tag===0?t2(bx.bind(null,e)):Q1(bx.bind(null,e)),XD(function(){!(We&6)&&Ks()}),n=null;else{switch(E1(r)){case 1:n=Jg;break;case 4:n=w1;break;case 16:n=qu;break;case 536870912:n=S1;break;default:n=qu}n=qE(n,zE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zE(e,t){if(bu=-1,wu=0,We&6)throw Error(Z(327));var n=e.callbackNode;if(Ro()&&e.callbackNode!==n)return null;var r=Yu(e,e===Ft?Vt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fd(e,r);else{t=r;var s=We;We|=2;var i=UE();(Ft!==e||Vt!==t)&&(Vr=null,Vo=Tt()+500,ki(e,t));do try{S2();break}catch(a){HE(e,a)}while(!0);fy(),cd.current=i,We=s,_t!==null?t=0:(Ft=null,Vt=0,t=Ot)}if(t!==0){if(t===2&&(s=nm(e),s!==0&&(r=s,t=_m(e,s))),t===1)throw n=Rl,ki(e,0),ys(e,r),Sn(e,Tt()),n;if(t===6)ys(e,r);else{if(s=e.current.alternate,!(r&30)&&!b2(s)&&(t=fd(e,r),t===2&&(i=nm(e),i!==0&&(r=i,t=_m(e,i))),t===1))throw n=Rl,ki(e,0),ys(e,r),Sn(e,Tt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Z(345));case 2:li(e,mn,Vr);break;case 3:if(ys(e,r),(r&130023424)===r&&(t=Ny+500-Tt(),10<t)){if(Yu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){dn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=um(li.bind(null,e,mn,Vr),t);break}li(e,mn,Vr);break;case 4:if(ys(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-lr(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*x2(r/1960))-r,10<r){e.timeoutHandle=um(li.bind(null,e,mn,Vr),r);break}li(e,mn,Vr);break;case 5:li(e,mn,Vr);break;default:throw Error(Z(329))}}}return Sn(e,Tt()),e.callbackNode===n?zE.bind(null,e):null}function _m(e,t){var n=Ja;return e.current.memoizedState.isDehydrated&&(ki(e,t).flags|=256),e=fd(e,t),e!==2&&(t=mn,mn=n,t!==null&&Rm(t)),e}function Rm(e){mn===null?mn=e:mn.push.apply(mn,e)}function b2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!hr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ys(e,t){for(t&=~Ty,t&=~cf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lr(t),r=1<<n;e[n]=-1,t&=~r}}function bx(e){if(We&6)throw Error(Z(327));Ro();var t=Yu(e,0);if(!(t&1))return Sn(e,Tt()),null;var n=fd(e,t);if(e.tag!==0&&n===2){var r=nm(e);r!==0&&(t=r,n=_m(e,r))}if(n===1)throw n=Rl,ki(e,0),ys(e,t),Sn(e,Tt()),n;if(n===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,li(e,mn,Vr),Sn(e,Tt()),null}function Ay(e,t){var n=We;We|=1;try{return e(t)}finally{We=n,We===0&&(Vo=Tt()+500,sf&&Ks())}}function Di(e){ws!==null&&ws.tag===0&&!(We&6)&&Ro();var t=We;We|=1;var n=Qn.transition,r=Ze;try{if(Qn.transition=null,Ze=1,e)return e()}finally{Ze=r,Qn.transition=n,We=t,!(We&6)&&Ks()}}function jy(){jn=xo.current,it(xo)}function ki(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,KD(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(cy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ju();break;case 3:Ho(),it(bn),it(rn),vy();break;case 5:yy(r);break;case 4:Ho();break;case 13:it(ht);break;case 19:it(ht);break;case 10:hy(r.type._context);break;case 22:case 23:jy()}n=n.return}if(Ft=e,_t=e=Is(e.current,null),Vt=jn=t,Ot=0,Rl=null,Ty=cf=Ri=0,mn=Ja=null,gi!==null){for(t=0;t<gi.length;t++)if(n=gi[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}gi=null}return e}function HE(e,t){do{var n=_t;try{if(fy(),yu.current=ld,ad){for(var r=mt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ad=!1}if(_i=0,Mt=It=mt=null,Xa=!1,Al=0,Cy.current=null,n===null||n.return===null){Ot=1,Rl=t,_t=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ax(o);if(p!==null){p.flags&=-257,lx(p,o,a,i,t),p.mode&1&&ox(i,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){ox(i,c,t),_y();break e}l=Error(Z(426))}}else if(ut&&a.mode&1){var b=ax(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),lx(b,o,a,i,t),uy(Uo(l,a));break e}}i=l=Uo(l,a),Ot!==4&&(Ot=2),Ja===null?Ja=[i]:Ja.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=EE(i,l,t);ex(i,y);break e;case 1:a=l;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Rs===null||!Rs.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=CE(i,a,t);ex(i,S);break e}}i=i.return}while(i!==null)}$E(n)}catch(k){t=k,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function UE(){var e=cd.current;return cd.current=ld,e===null?ld:e}function _y(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Ft===null||!(Ri&268435455)&&!(cf&268435455)||ys(Ft,Vt)}function fd(e,t){var n=We;We|=2;var r=UE();(Ft!==e||Vt!==t)&&(Vr=null,ki(e,t));do try{w2();break}catch(s){HE(e,s)}while(!0);if(fy(),We=n,cd.current=r,_t!==null)throw Error(Z(261));return Ft=null,Vt=0,Ot}function w2(){for(;_t!==null;)VE(_t)}function S2(){for(;_t!==null&&!qR();)VE(_t)}function VE(e){var t=GE(e.alternate,e,jn);e.memoizedProps=e.pendingProps,t===null?$E(e):_t=t,Cy.current=null}function $E(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=m2(n,t),n!==null){n.flags&=32767,_t=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ot=6,_t=null;return}}else if(n=p2(n,t,jn),n!==null){_t=n;return}if(t=t.sibling,t!==null){_t=t;return}_t=t=e}while(t!==null);Ot===0&&(Ot=5)}function li(e,t,n){var r=Ze,s=Qn.transition;try{Qn.transition=null,Ze=1,k2(e,t,n,r)}finally{Qn.transition=s,Ze=r}return null}function k2(e,t,n,r){do Ro();while(ws!==null);if(We&6)throw Error(Z(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(rD(e,i),e===Ft&&(_t=Ft=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vc||(Vc=!0,qE(qu,function(){return Ro(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qn.transition,Qn.transition=null;var o=Ze;Ze=1;var a=We;We|=4,Cy.current=null,y2(e,n),FE(n,e),VD(lm),Qu=!!am,lm=am=null,e.current=n,v2(n),YR(),We=a,Ze=o,Qn.transition=i}else e.current=n;if(Vc&&(Vc=!1,ws=e,dd=s),i=e.pendingLanes,i===0&&(Rs=null),XR(n.stateNode),Sn(e,Tt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ud)throw ud=!1,e=Am,Am=null,e;return dd&1&&e.tag!==0&&Ro(),i=e.pendingLanes,i&1?e===jm?el++:(el=0,jm=e):el=0,Ks(),null}function Ro(){if(ws!==null){var e=E1(dd),t=Qn.transition,n=Ze;try{if(Qn.transition=null,Ze=16>e?16:e,ws===null)var r=!1;else{if(e=ws,ws=null,dd=0,We&6)throw Error(Z(331));var s=We;for(We|=4,de=e.current;de!==null;){var i=de,o=i.child;if(de.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(de=c;de!==null;){var d=de;switch(d.tag){case 0:case 11:case 15:Za(8,d,i)}var f=d.child;if(f!==null)f.return=d,de=f;else for(;de!==null;){d=de;var h=d.sibling,p=d.return;if(OE(d),d===c){de=null;break}if(h!==null){h.return=p,de=h;break}de=p}}}var m=i.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}de=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,de=o;else e:for(;de!==null;){if(i=de,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Za(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,de=y;break e}de=i.return}}var g=e.current;for(de=g;de!==null;){o=de;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,de=w;else e:for(o=g;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lf(9,a)}}catch(k){bt(a,a.return,k)}if(a===o){de=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,de=S;break e}de=a.return}}if(We=s,Ks(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(Jd,e)}catch{}r=!0}return r}finally{Ze=n,Qn.transition=t}}return!1}function wx(e,t,n){t=Uo(n,t),t=EE(e,t,1),e=_s(e,t,1),t=dn(),e!==null&&(Jl(e,1,t),Sn(e,t))}function bt(e,t,n){if(e.tag===3)wx(e,e,n);else for(;t!==null;){if(t.tag===3){wx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rs===null||!Rs.has(r))){e=Uo(n,e),e=CE(t,e,1),t=_s(t,e,1),e=dn(),t!==null&&(Jl(t,1,e),Sn(t,e));break}}t=t.return}}function E2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dn(),e.pingedLanes|=e.suspendedLanes&n,Ft===e&&(Vt&n)===n&&(Ot===4||Ot===3&&(Vt&130023424)===Vt&&500>Tt()-Ny?ki(e,0):Ty|=n),Sn(e,t)}function WE(e,t){t===0&&(e.mode&1?(t=Ic,Ic<<=1,!(Ic&130023424)&&(Ic=4194304)):t=1);var n=dn();e=ts(e,t),e!==null&&(Jl(e,t,n),Sn(e,n))}function C2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),WE(e,n)}function T2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(t),WE(e,n)}var GE;GE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||bn.current)yn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yn=!1,h2(e,t,n);yn=!!(e.flags&131072)}else yn=!1,ut&&t.flags&1048576&&K1(t,nd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xu(e,t),e=t.pendingProps;var s=Fo(t,rn.current);_o(t,n),s=by(null,t,r,e,s,n);var i=wy();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wn(r)?(i=!0,ed(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,my(t),s.updater=af,t.stateNode=s,s._reactInternals=t,ym(t,r,e,n),t=bm(null,t,r,!0,i,n)):(t.tag=0,ut&&i&&ly(t),cn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=A2(r),e=nr(r,e),s){case 0:t=xm(null,t,r,e,n);break e;case 1:t=dx(null,t,r,e,n);break e;case 11:t=cx(null,t,r,e,n);break e;case 14:t=ux(null,t,r,nr(r.type,e),n);break e}throw Error(Z(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nr(r,s),xm(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nr(r,s),dx(e,t,r,s,n);case 3:e:{if(jE(t),e===null)throw Error(Z(387));r=t.pendingProps,i=t.memoizedState,s=i.element,nE(e,t),id(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Uo(Error(Z(423)),t),t=fx(e,t,r,n,s);break e}else if(r!==s){s=Uo(Error(Z(424)),t),t=fx(e,t,r,n,s);break e}else for(Rn=js(t.stateNode.containerInfo.firstChild),Dn=t,ut=!0,ir=null,n=eE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bo(),r===s){t=ns(e,t,n);break e}cn(e,t,r,n)}t=t.child}return t;case 5:return rE(t),e===null&&pm(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,cm(r,s)?o=null:i!==null&&cm(r,i)&&(t.flags|=32),AE(e,t),cn(e,t,o,n),t.child;case 6:return e===null&&pm(t),null;case 13:return _E(e,t,n);case 4:return gy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zo(t,null,r,n):cn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nr(r,s),cx(e,t,r,s,n);case 7:return cn(e,t,t.pendingProps,n),t.child;case 8:return cn(e,t,t.pendingProps.children,n),t.child;case 12:return cn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,tt(rd,r._currentValue),r._currentValue=o,i!==null)if(hr(i.value,o)){if(i.children===s.children&&!bn.current){t=ns(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Kr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),mm(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),mm(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}cn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,_o(t,n),s=Kn(s),r=r(s),t.flags|=1,cn(e,t,r,n),t.child;case 14:return r=t.type,s=nr(r,t.pendingProps),s=nr(r.type,s),ux(e,t,r,s,n);case 15:return TE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nr(r,s),xu(e,t),t.tag=1,wn(r)?(e=!0,ed(t)):e=!1,_o(t,n),kE(t,r,s),ym(t,r,s,n),bm(null,t,r,!0,e,n);case 19:return RE(e,t,n);case 22:return NE(e,t,n)}throw Error(Z(156,t.tag))};function qE(e,t){return b1(e,t)}function N2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(e,t,n,r){return new N2(e,t,n,r)}function Ry(e){return e=e.prototype,!(!e||!e.isReactComponent)}function A2(e){if(typeof e=="function")return Ry(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kg)return 11;if(e===Xg)return 14}return 2}function Is(e,t){var n=e.alternate;return n===null?(n=Wn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Su(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Ry(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case lo:return Ei(n.children,s,i,t);case Qg:o=8,s|=8;break;case Hp:return e=Wn(12,n,t,s|2),e.elementType=Hp,e.lanes=i,e;case Up:return e=Wn(13,n,t,s),e.elementType=Up,e.lanes=i,e;case Vp:return e=Wn(19,n,t,s),e.elementType=Vp,e.lanes=i,e;case r1:return uf(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case t1:o=10;break e;case n1:o=9;break e;case Kg:o=11;break e;case Xg:o=14;break e;case hs:o=16,r=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=Wn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Ei(e,t,n,r){return e=Wn(7,e,r,t),e.lanes=n,e}function uf(e,t,n,r){return e=Wn(22,e,r,t),e.elementType=r1,e.lanes=n,e.stateNode={isHidden:!1},e}function Mh(e,t,n){return e=Wn(6,e,null,t),e.lanes=n,e}function Lh(e,t,n){return t=Wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j2(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yh(0),this.expirationTimes=yh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Dy(e,t,n,r,s,i,o,a,l){return e=new j2(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Wn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},my(i),e}function _2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ao,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function YE(e){if(!e)return Bs;e=e._reactInternals;e:{if(Hi(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var n=e.type;if(wn(n))return Y1(e,n,t)}return t}function QE(e,t,n,r,s,i,o,a,l){return e=Dy(n,r,!0,e,s,i,o,a,l),e.context=YE(null),n=e.current,r=dn(),s=Ds(n),i=Kr(r,s),i.callback=t??null,_s(n,i,s),e.current.lanes=s,Jl(e,s,r),Sn(e,r),e}function df(e,t,n,r){var s=t.current,i=dn(),o=Ds(s);return n=YE(n),t.context===null?t.context=n:t.pendingContext=n,t=Kr(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_s(s,t,o),e!==null&&(cr(e,s,o,i),gu(e,s,o)),o}function hd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Iy(e,t){Sx(e,t),(e=e.alternate)&&Sx(e,t)}function R2(){return null}var KE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Py(e){this._internalRoot=e}ff.prototype.render=Py.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));df(e,t,null,null)};ff.prototype.unmount=Py.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Di(function(){df(null,e,null,null)}),t[es]=null}};function ff(e){this._internalRoot=e}ff.prototype.unstable_scheduleHydration=function(e){if(e){var t=N1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gs.length&&t!==0&&t<gs[n].priority;n++);gs.splice(n,0,e),n===0&&j1(e)}};function Oy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kx(){}function D2(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=hd(o);i.call(c)}}var o=QE(t,r,e,0,null,!1,!1,"",kx);return e._reactRootContainer=o,e[es]=o.current,kl(e.nodeType===8?e.parentNode:e),Di(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=hd(l);a.call(c)}}var l=Dy(e,0,!1,null,null,!1,!1,"",kx);return e._reactRootContainer=l,e[es]=l.current,kl(e.nodeType===8?e.parentNode:e),Di(function(){df(t,l,n,r)}),l}function pf(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=hd(o);a.call(l)}}df(t,o,e,s)}else o=D2(n,t,e,s,r);return hd(o)}C1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ba(t.pendingLanes);n!==0&&(ey(t,n|1),Sn(t,Tt()),!(We&6)&&(Vo=Tt()+500,Ks()))}break;case 13:Di(function(){var r=ts(e,1);if(r!==null){var s=dn();cr(r,e,1,s)}}),Iy(e,1)}};ty=function(e){if(e.tag===13){var t=ts(e,134217728);if(t!==null){var n=dn();cr(t,e,134217728,n)}Iy(e,134217728)}};T1=function(e){if(e.tag===13){var t=Ds(e),n=ts(e,t);if(n!==null){var r=dn();cr(n,e,t,r)}Iy(e,t)}};N1=function(){return Ze};A1=function(e,t){var n=Ze;try{return Ze=e,t()}finally{Ze=n}};Jp=function(e,t,n){switch(t){case"input":if(Gp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=rf(r);if(!s)throw Error(Z(90));i1(r),Gp(r,s)}}}break;case"textarea":a1(e,n);break;case"select":t=n.value,t!=null&&To(e,!!n.multiple,t,!1)}};p1=Ay;m1=Di;var I2={usingClientEntryPoint:!1,Events:[tc,ho,rf,f1,h1,Ay]},Ea={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P2={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=v1(e),e===null?null:e.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||R2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Jd=$c.inject(P2),Dr=$c}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I2;Fn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oy(t))throw Error(Z(200));return _2(e,t,null,n)};Fn.createRoot=function(e,t){if(!Oy(e))throw Error(Z(299));var n=!1,r="",s=KE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Dy(e,1,!1,null,null,n,!1,r,s),e[es]=t.current,kl(e.nodeType===8?e.parentNode:e),new Py(t)};Fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=v1(t),e=e===null?null:e.stateNode,e};Fn.flushSync=function(e){return Di(e)};Fn.hydrate=function(e,t,n){if(!hf(t))throw Error(Z(200));return pf(null,e,t,!0,n)};Fn.hydrateRoot=function(e,t,n){if(!Oy(e))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=KE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=QE(t,null,e,1,n??null,s,!1,i,o),e[es]=t.current,kl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ff(t)};Fn.render=function(e,t,n){if(!hf(t))throw Error(Z(200));return pf(null,e,t,!1,n)};Fn.unmountComponentAtNode=function(e){if(!hf(e))throw Error(Z(40));return e._reactRootContainer?(Di(function(){pf(null,null,e,!1,function(){e._reactRootContainer=null,e[es]=null})}),!0):!1};Fn.unstable_batchedUpdates=Ay;Fn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hf(n))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return pf(e,t,n,!1,r)};Fn.version="18.3.1-next-f1338f8080-20240426";function XE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XE)}catch(e){console.error(e)}}XE(),Xk.exports=Fn;var ur=Xk.exports;const tl=qs(ur);var ZE,Ex=ur;ZE=Ex.createRoot,Ex.hydrateRoot;const O2=e=>e.trim()?e.split(",").map(t=>t.trim().toLowerCase()).filter(Boolean):[],JE=e=>(e==null?void 0:e.trim().toLowerCase())??"",M2=(e,t)=>{if(!e)return!1;if(e==="*"||e==="all")return!0;if(e.endsWith("*"))return t.startsWith(e.slice(0,-1));if(e.startsWith("*"))return t.endsWith(e.slice(1));if(e.includes("*")){const[n,r]=e.split("*");return t.startsWith(n)&&t.endsWith(r)}return t===e||t.includes(e)},L2="linz-chat,onboarding-tour,notifications,auth,onboarding-stream,onboarding,onboarding-stream",Fh="true".toLowerCase(),F2=Fh==="true"||Fh==="1"||Fh==="yes",My=O2(L2),B2=My.some(e=>e==="*"||e==="all"),z2=My.length>0,H2=F2,eC=(e,t)=>!H2||!z2?!1:B2?!0:e?My.some(n=>M2(n,e)):!1,U2=(e,t)=>e?["["+e+"]",...t]:t,Wc=(e,t,n)=>{const r=JE(t);if(!eC(r))return;const s=U2(t,n);(console[e]??console.log)(...s)},zt=e=>{const t=JE(e);return{element:e,enabled:eC(t),log:(...n)=>Wc("log",e,n),info:(...n)=>Wc("info",e,n),warn:(...n)=>Wc("warn",e,n),error:(...n)=>Wc("error",e,n)}};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(this,arguments)}var Ss;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ss||(Ss={}));const Cx="popstate";function V2(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Dm("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:pd(s)}return W2(t,n,null,e)}function gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $2(){return Math.random().toString(36).substr(2,8)}function Tx(e,t){return{usr:e.state,key:e.key,idx:t}}function Dm(e,t,n,r){return n===void 0&&(n=null),Dl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?sa(t):t,{state:n,key:t&&t.key||r||$2()})}function pd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function sa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function W2(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ss.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Dl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Ss.Pop;let b=d(),y=b==null?null:b-c;c=b,l&&l({action:a,location:v.location,delta:y})}function h(b,y){a=Ss.Push;let g=Dm(v.location,b,y);c=d()+1;let w=Tx(g,c),S=v.createHref(g);try{o.pushState(w,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}i&&l&&l({action:a,location:v.location,delta:1})}function p(b,y){a=Ss.Replace;let g=Dm(v.location,b,y);c=d();let w=Tx(g,c),S=v.createHref(g);o.replaceState(w,"",S),i&&l&&l({action:a,location:v.location,delta:0})}function m(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof b=="string"?b:pd(b);return g=g.replace(/ $/,"%20"),gt(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let v={get action(){return a},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Cx,f),l=b,()=>{s.removeEventListener(Cx,f),l=null}},createHref(b){return t(s,b)},createURL:m,encodeLocation(b){let y=m(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(b){return o.go(b)}};return v}var Nx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nx||(Nx={}));function G2(e,t,n){return n===void 0&&(n="/"),q2(e,t,n)}function q2(e,t,n,r){let s=typeof t=="string"?sa(t):t,i=$o(s.pathname||"/",n);if(i==null)return null;let o=nC(e);Y2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=iI(i);a=rI(o[l],c)}return a}function nC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(gt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ps([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(gt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),nC(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:tI(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of rC(i.path))s(i,o,l)}),t}function rC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=rC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Y2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Q2=/^:[\w-]+$/,K2=3,X2=2,Z2=1,J2=10,eI=-2,Ax=e=>e==="*";function tI(e,t){let n=e.split("/"),r=n.length;return n.some(Ax)&&(r+=eI),t&&(r+=X2),n.filter(s=>!Ax(s)).reduce((s,i)=>s+(Q2.test(i)?K2:i===""?Z2:J2),r)}function nI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function rI(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Im({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ps([i,f.pathname]),pathnameBase:cI(Ps([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Ps([i,f.pathnameBase]))}return o}function Im(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=sI(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[f];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function sI(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),tC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function iI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $o(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function oI(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?sa(e):e;return{pathname:n?n.startsWith("/")?n:aI(n,t):t,search:uI(r),hash:dI(s)}}function aI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Bh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ly(e,t){let n=lI(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Fy(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=sa(e):(s=Dl({},e),gt(!s.pathname||!s.pathname.includes("?"),Bh("?","pathname","search",s)),gt(!s.pathname||!s.pathname.includes("#"),Bh("#","pathname","hash",s)),gt(!s.search||!s.search.includes("#"),Bh("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=oI(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ps=e=>e.join("/").replace(/\/\/+/g,"/"),cI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sC=["post","put","patch","delete"];new Set(sC);const hI=["get",...sC];new Set(hI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Il.apply(this,arguments)}const mf=x.createContext(null),iC=x.createContext(null),os=x.createContext(null),gf=x.createContext(null),as=x.createContext({outlet:null,matches:[],isDataRoute:!1}),oC=x.createContext(null);function pI(e,t){let{relative:n}=t===void 0?{}:t;ia()||gt(!1);let{basename:r,navigator:s}=x.useContext(os),{hash:i,pathname:o,search:a}=yf(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ps([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ia(){return x.useContext(gf)!=null}function gr(){return ia()||gt(!1),x.useContext(gf).location}function aC(e){x.useContext(os).static||x.useLayoutEffect(e)}function Zn(){let{isDataRoute:e}=x.useContext(as);return e?jI():mI()}function mI(){ia()||gt(!1);let e=x.useContext(mf),{basename:t,future:n,navigator:r}=x.useContext(os),{matches:s}=x.useContext(as),{pathname:i}=gr(),o=JSON.stringify(Ly(s,n.v7_relativeSplatPath)),a=x.useRef(!1);return aC(()=>{a.current=!0}),x.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Fy(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ps([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}const gI=x.createContext(null);function yI(e){let t=x.useContext(as).outlet;return t&&x.createElement(gI.Provider,{value:e},t)}function yf(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(os),{matches:s}=x.useContext(as),{pathname:i}=gr(),o=JSON.stringify(Ly(s,r.v7_relativeSplatPath));return x.useMemo(()=>Fy(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function vI(e,t){return xI(e,t)}function xI(e,t,n,r){ia()||gt(!1);let{navigator:s}=x.useContext(os),{matches:i}=x.useContext(as),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=gr(),d;if(t){var f;let b=typeof t=="string"?sa(t):t;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||gt(!1),d=b}else d=c;let h=d.pathname||"/",p=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=G2(e,{pathname:p}),v=EI(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Ps([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Ps([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return t&&v?x.createElement(gf.Provider,{value:{location:Il({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ss.Pop}},v):v}function bI(){let e=AI(),t=fI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:s},n):null,null)}const wI=x.createElement(bI,null);class SI extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(as.Provider,{value:this.props.routeContext},x.createElement(oC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kI(e){let{routeContext:t,match:n,children:r}=e,s=x.useContext(mf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(as.Provider,{value:t},r)}function EI(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||gt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,m=!1,v=null,b=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||wI,l&&(c<0&&h===0?(_I("route-fallback"),m=!0,b=null):c===h&&(m=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),g=()=>{let w;return p?w=v:m?w=b:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(kI,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(SI,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var lC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lC||{}),cC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(cC||{});function CI(e){let t=x.useContext(mf);return t||gt(!1),t}function TI(e){let t=x.useContext(iC);return t||gt(!1),t}function NI(e){let t=x.useContext(as);return t||gt(!1),t}function uC(e){let t=NI(),n=t.matches[t.matches.length-1];return n.route.id||gt(!1),n.route.id}function AI(){var e;let t=x.useContext(oC),n=TI(),r=uC();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function jI(){let{router:e}=CI(lC.UseNavigateStable),t=uC(cC.UseNavigateStable),n=x.useRef(!1);return aC(()=>{n.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Il({fromRouteId:t},i)))},[e,t])}const jx={};function _I(e,t,n){jx[e]||(jx[e]=!0)}function RI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function _x(e){let{to:t,replace:n,state:r,relative:s}=e;ia()||gt(!1);let{future:i,static:o}=x.useContext(os),{matches:a}=x.useContext(as),{pathname:l}=gr(),c=Zn(),d=Fy(t,Ly(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return x.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function DI(e){return yI(e.context)}function Ge(e){gt(!1)}function II(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ss.Pop,navigator:i,static:o=!1,future:a}=e;ia()&&gt(!1);let l=t.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:i,static:o,future:Il({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=sa(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,v=x.useMemo(()=>{let b=$o(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:m},navigationType:s}},[l,d,f,h,p,m,s]);return v==null?null:x.createElement(os.Provider,{value:c},x.createElement(gf.Provider,{children:n,value:v}))}function PI(e){let{children:t,location:n}=e;return vI(Pm(t),n)}new Promise(()=>{});function Pm(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,s)=>{if(!x.isValidElement(r))return;let i=[...t,s];if(r.type===x.Fragment){n.push.apply(n,Pm(r.props.children,i));return}r.type!==Ge&&gt(!1),!r.props.index||!r.props.children||gt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Pm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},md.apply(this,arguments)}function dC(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function OI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MI(e,t){return e.button===0&&(!t||t==="_self")&&!OI(e)}function Om(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function LI(e,t){let n=Om(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const FI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],BI=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],zI="6";try{window.__reactRouterVersion=zI}catch{}const HI=x.createContext({isTransitioning:!1}),UI="startTransition",Rx=ER[UI];function VI(e){let{basename:t,children:n,future:r,window:s}=e,i=x.useRef();i.current==null&&(i.current=V2({window:s,v5Compat:!0}));let o=i.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=x.useCallback(f=>{c&&Rx?Rx(()=>l(f)):l(f)},[l,c]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>RI(r),[r]),x.createElement(II,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const $I=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nn=x.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,h=dC(t,FI),{basename:p}=x.useContext(os),m,v=!1;if(typeof c=="string"&&WI.test(c)&&(m=c,$I))try{let w=new URL(window.location.href),S=c.startsWith("//")?new URL(w.protocol+c):new URL(c),k=$o(S.pathname,p);S.origin===w.origin&&k!=null?c=k+S.search+S.hash:v=!0}catch{}let b=pI(c,{relative:s}),y=YI(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function g(w){r&&r(w),w.defaultPrevented||y(w)}return x.createElement("a",md({},h,{href:m||b,onClick:v||i?r:g,ref:n,target:l}))}),GI=x.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:c,children:d}=t,f=dC(t,BI),h=yf(l,{relative:f.relative}),p=gr(),m=x.useContext(iC),{navigator:v,basename:b}=x.useContext(os),y=m!=null&&QI(h)&&c===!0,g=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,w=p.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(w=w.toLowerCase(),S=S?S.toLowerCase():null,g=g.toLowerCase()),S&&b&&(S=$o(S,b)||S);const k=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=w===g||!o&&w.startsWith(g)&&w.charAt(k)==="/",C=S!=null&&(S===g||!o&&S.startsWith(g)&&S.charAt(g.length)==="/"),T={isActive:E,isPending:C,isTransitioning:y},N=E?r:void 0,A;typeof i=="function"?A=i(T):A=[i,E?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(T):a;return x.createElement(nn,md({},f,{"aria-current":N,className:A,ref:n,style:R,to:l,viewTransition:c}),typeof d=="function"?d(T):d)});var Mm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Mm||(Mm={}));var Dx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dx||(Dx={}));function qI(e){let t=x.useContext(mf);return t||gt(!1),t}function YI(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=Zn(),c=gr(),d=yf(e,{relative:o});return x.useCallback(f=>{if(MI(f,n)){f.preventDefault();let h=r!==void 0?r:pd(c)===pd(d);l(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,e,i,o,a])}function vf(e){let t=x.useRef(Om(e)),n=x.useRef(!1),r=gr(),s=x.useMemo(()=>LI(r.search,n.current?null:t.current),[r.search]),i=Zn(),o=x.useCallback((a,l)=>{const c=Om(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}function QI(e,t){t===void 0&&(t={});let n=x.useContext(HI);n==null&&gt(!1);let{basename:r}=qI(Mm.useViewTransitionState),s=yf(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=$o(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=$o(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Im(s.pathname,o)!=null||Im(s.pathname,i)!=null}function fC(e,t){return function(){return e.apply(t,arguments)}}const{toString:KI}=Object.prototype,{getPrototypeOf:By}=Object,{iterator:xf,toStringTag:hC}=Symbol,bf=(e=>t=>{const n=KI.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yr=e=>(e=e.toLowerCase(),t=>bf(t)===e),wf=e=>t=>typeof t===e,{isArray:oa}=Array,Pl=wf("undefined");function rc(e){return e!==null&&!Pl(e)&&e.constructor!==null&&!Pl(e.constructor)&&kn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const pC=yr("ArrayBuffer");function XI(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&pC(e.buffer),t}const ZI=wf("string"),kn=wf("function"),mC=wf("number"),sc=e=>e!==null&&typeof e=="object",JI=e=>e===!0||e===!1,ku=e=>{if(bf(e)!=="object")return!1;const t=By(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(hC in e)&&!(xf in e)},eP=e=>{if(!sc(e)||rc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},tP=yr("Date"),nP=yr("File"),rP=yr("Blob"),sP=yr("FileList"),iP=e=>sc(e)&&kn(e.pipe),oP=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||kn(e.append)&&((t=bf(e))==="formdata"||t==="object"&&kn(e.toString)&&e.toString()==="[object FormData]"))},aP=yr("URLSearchParams"),[lP,cP,uP,dP]=["ReadableStream","Request","Response","Headers"].map(yr),fP=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ic(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),oa(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(rc(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function gC(e,t){if(rc(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const vi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yC=e=>!Pl(e)&&e!==vi;function Lm(){const{caseless:e}=yC(this)&&this||{},t={},n=(r,s)=>{const i=e&&gC(t,s)||s;ku(t[i])&&ku(r)?t[i]=Lm(t[i],r):ku(r)?t[i]=Lm({},r):oa(r)?t[i]=r.slice():t[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&ic(arguments[r],n);return t}const hP=(e,t,n,{allOwnKeys:r}={})=>(ic(t,(s,i)=>{n&&kn(s)?e[i]=fC(s,n):e[i]=s},{allOwnKeys:r}),e),pP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),mP=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},gP=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&By(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},yP=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},vP=e=>{if(!e)return null;if(oa(e))return e;let t=e.length;if(!mC(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},xP=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&By(Uint8Array)),bP=(e,t)=>{const r=(e&&e[xf]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},wP=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},SP=yr("HTMLFormElement"),kP=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Ix=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),EP=yr("RegExp"),vC=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ic(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},CP=e=>{vC(e,(t,n)=>{if(kn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(kn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},TP=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return oa(e)?r(e):r(String(e).split(t)),n},NP=()=>{},AP=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function jP(e){return!!(e&&kn(e.append)&&e[hC]==="FormData"&&e[xf])}const _P=e=>{const t=new Array(10),n=(r,s)=>{if(sc(r)){if(t.indexOf(r)>=0)return;if(rc(r))return r;if(!("toJSON"in r)){t[s]=r;const i=oa(r)?[]:{};return ic(r,(o,a)=>{const l=n(o,s+1);!Pl(l)&&(i[a]=l)}),t[s]=void 0,i}}return r};return n(e,0)},RP=yr("AsyncFunction"),DP=e=>e&&(sc(e)||kn(e))&&kn(e.then)&&kn(e.catch),xC=((e,t)=>e?setImmediate:t?((n,r)=>(vi.addEventListener("message",({source:s,data:i})=>{s===vi&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),vi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",kn(vi.postMessage)),IP=typeof queueMicrotask<"u"?queueMicrotask.bind(vi):typeof process<"u"&&process.nextTick||xC,PP=e=>e!=null&&kn(e[xf]),M={isArray:oa,isArrayBuffer:pC,isBuffer:rc,isFormData:oP,isArrayBufferView:XI,isString:ZI,isNumber:mC,isBoolean:JI,isObject:sc,isPlainObject:ku,isEmptyObject:eP,isReadableStream:lP,isRequest:cP,isResponse:uP,isHeaders:dP,isUndefined:Pl,isDate:tP,isFile:nP,isBlob:rP,isRegExp:EP,isFunction:kn,isStream:iP,isURLSearchParams:aP,isTypedArray:xP,isFileList:sP,forEach:ic,merge:Lm,extend:hP,trim:fP,stripBOM:pP,inherits:mP,toFlatObject:gP,kindOf:bf,kindOfTest:yr,endsWith:yP,toArray:vP,forEachEntry:bP,matchAll:wP,isHTMLForm:SP,hasOwnProperty:Ix,hasOwnProp:Ix,reduceDescriptors:vC,freezeMethods:CP,toObjectSet:TP,toCamelCase:kP,noop:NP,toFiniteNumber:AP,findKey:gC,global:vi,isContextDefined:yC,isSpecCompliantForm:jP,toJSONObject:_P,isAsyncFn:RP,isThenable:DP,setImmediate:xC,asap:IP,isIterable:PP};function De(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}M.inherits(De,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const bC=De.prototype,wC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wC[e]={value:e}});Object.defineProperties(De,wC);Object.defineProperty(bC,"isAxiosError",{value:!0});De.from=(e,t,n,r,s,i)=>{const o=Object.create(bC);return M.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),De.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const OP=null;function Fm(e){return M.isPlainObject(e)||M.isArray(e)}function SC(e){return M.endsWith(e,"[]")?e.slice(0,-2):e}function Px(e,t,n){return e?e.concat(t).map(function(s,i){return s=SC(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function MP(e){return M.isArray(e)&&!e.some(Fm)}const LP=M.toFlatObject(M,{},null,function(t){return/^is[A-Z]/.test(t)});function Sf(e,t,n){if(!M.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=M.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!M.isUndefined(b[v])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(t);if(!M.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(M.isDate(m))return m.toISOString();if(M.isBoolean(m))return m.toString();if(!l&&M.isBlob(m))throw new De("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(m)||M.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,v,b){let y=m;if(m&&!b&&typeof m=="object"){if(M.endsWith(v,"{}"))v=r?v:v.slice(0,-2),m=JSON.stringify(m);else if(M.isArray(m)&&MP(m)||(M.isFileList(m)||M.endsWith(v,"[]"))&&(y=M.toArray(m)))return v=SC(v),y.forEach(function(w,S){!(M.isUndefined(w)||w===null)&&t.append(o===!0?Px([v],S,i):o===null?v:v+"[]",c(w))}),!1}return Fm(m)?!0:(t.append(Px(b,v,i),c(m)),!1)}const f=[],h=Object.assign(LP,{defaultVisitor:d,convertValue:c,isVisitable:Fm});function p(m,v){if(!M.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(m),M.forEach(m,function(y,g){(!(M.isUndefined(y)||y===null)&&s.call(t,y,M.isString(g)?g.trim():g,v,h))===!0&&p(y,v?v.concat(g):[g])}),f.pop()}}if(!M.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Ox(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function zy(e,t){this._pairs=[],e&&Sf(e,this,t)}const kC=zy.prototype;kC.append=function(t,n){this._pairs.push([t,n])};kC.toString=function(t){const n=t?function(r){return t.call(this,r,Ox)}:Ox;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function FP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function EC(e,t,n){if(!t)return e;const r=n&&n.encode||FP;M.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=M.isURLSearchParams(t)?t.toString():new zy(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Mx{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){M.forEach(this.handlers,function(r){r!==null&&t(r)})}}const CC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BP=typeof URLSearchParams<"u"?URLSearchParams:zy,zP=typeof FormData<"u"?FormData:null,HP=typeof Blob<"u"?Blob:null,UP={isBrowser:!0,classes:{URLSearchParams:BP,FormData:zP,Blob:HP},protocols:["http","https","file","blob","url","data"]},Hy=typeof window<"u"&&typeof document<"u",Bm=typeof navigator=="object"&&navigator||void 0,VP=Hy&&(!Bm||["ReactNative","NativeScript","NS"].indexOf(Bm.product)<0),$P=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",WP=Hy&&window.location.href||"http://localhost",GP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hy,hasStandardBrowserEnv:VP,hasStandardBrowserWebWorkerEnv:$P,navigator:Bm,origin:WP},Symbol.toStringTag,{value:"Module"})),Zt={...GP,...UP};function qP(e,t){return Sf(e,new Zt.classes.URLSearchParams,{visitor:function(n,r,s,i){return Zt.isNode&&M.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function YP(e){return M.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function QP(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function TC(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&M.isArray(s)?s.length:o,l?(M.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!M.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&M.isArray(s[o])&&(s[o]=QP(s[o])),!a)}if(M.isFormData(e)&&M.isFunction(e.entries)){const n={};return M.forEachEntry(e,(r,s)=>{t(YP(r),s,n,0)}),n}return null}function KP(e,t,n){if(M.isString(e))try{return(t||JSON.parse)(e),M.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const oc={transitional:CC,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=M.isObject(t);if(i&&M.isHTMLForm(t)&&(t=new FormData(t)),M.isFormData(t))return s?JSON.stringify(TC(t)):t;if(M.isArrayBuffer(t)||M.isBuffer(t)||M.isStream(t)||M.isFile(t)||M.isBlob(t)||M.isReadableStream(t))return t;if(M.isArrayBufferView(t))return t.buffer;if(M.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return qP(t,this.formSerializer).toString();if((a=M.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Sf(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),KP(t)):t}],transformResponse:[function(t){const n=this.transitional||oc.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(M.isResponse(t)||M.isReadableStream(t))return t;if(t&&M.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?De.from(a,De.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zt.classes.FormData,Blob:Zt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],e=>{oc.headers[e]={}});const XP=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZP=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&XP[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Lx=Symbol("internals");function Ca(e){return e&&String(e).trim().toLowerCase()}function Eu(e){return e===!1||e==null?e:M.isArray(e)?e.map(Eu):String(e)}function JP(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const eO=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function zh(e,t,n,r,s){if(M.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!M.isString(t)){if(M.isString(r))return t.indexOf(r)!==-1;if(M.isRegExp(r))return r.test(t)}}function tO(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function nO(e,t){const n=M.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let En=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,l,c){const d=Ca(l);if(!d)throw new Error("header name must be a non-empty string");const f=M.findKey(s,d);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||l]=Eu(a))}const o=(a,l)=>M.forEach(a,(c,d)=>i(c,d,l));if(M.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(M.isString(t)&&(t=t.trim())&&!eO(t))o(ZP(t),n);else if(M.isObject(t)&&M.isIterable(t)){let a={},l,c;for(const d of t){if(!M.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(l=a[c])?M.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Ca(t),t){const r=M.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return JP(s);if(M.isFunction(n))return n.call(this,s,r);if(M.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ca(t),t){const r=M.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||zh(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Ca(o),o){const a=M.findKey(r,o);a&&(!n||zh(r,r[a],a,n))&&(delete r[a],s=!0)}}return M.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||zh(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return M.forEach(this,(s,i)=>{const o=M.findKey(r,i);if(o){n[o]=Eu(s),delete n[i];return}const a=t?tO(i):String(i).trim();a!==i&&delete n[i],n[a]=Eu(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return M.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&M.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Lx]=this[Lx]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Ca(o);r[a]||(nO(s,o),r[a]=!0)}return M.isArray(t)?t.forEach(i):i(t),this}};En.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(En.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});M.freezeMethods(En);function Hh(e,t){const n=this||oc,r=t||n,s=En.from(r.headers);let i=r.data;return M.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function NC(e){return!!(e&&e.__CANCEL__)}function aa(e,t,n){De.call(this,e??"canceled",De.ERR_CANCELED,t,n),this.name="CanceledError"}M.inherits(aa,De,{__CANCEL__:!0});function AC(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new De("Request failed with status code "+n.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function rO(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function sO(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),d=r[i];o||(o=c),n[s]=l,r[s]=c;let f=i,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const p=d&&c-d;return p?Math.round(h*1e3/p):void 0}}function iO(e,t){let n=0,r=1e3/t,s,i;const o=(c,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?o(c,d):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const gd=(e,t,n=3)=>{let r=0;const s=sO(50,250);return iO(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),d=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},Fx=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Bx=e=>(...t)=>M.asap(()=>e(...t)),oO=Zt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Zt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Zt.origin),Zt.navigator&&/(msie|trident)/i.test(Zt.navigator.userAgent)):()=>!0,aO=Zt.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];M.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),M.isString(r)&&o.push("path="+r),M.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lO(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function cO(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function jC(e,t,n){let r=!lO(t);return e&&(r||n==!1)?cO(e,t):t}const zx=e=>e instanceof En?{...e}:e;function Ii(e,t){t=t||{};const n={};function r(c,d,f,h){return M.isPlainObject(c)&&M.isPlainObject(d)?M.merge.call({caseless:h},c,d):M.isPlainObject(d)?M.merge({},d):M.isArray(d)?d.slice():d}function s(c,d,f,h){if(M.isUndefined(d)){if(!M.isUndefined(c))return r(void 0,c,f,h)}else return r(c,d,f,h)}function i(c,d){if(!M.isUndefined(d))return r(void 0,d)}function o(c,d){if(M.isUndefined(d)){if(!M.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,f){if(f in t)return r(c,d);if(f in e)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,f)=>s(zx(c),zx(d),f,!0)};return M.forEach(Object.keys({...e,...t}),function(d){const f=l[d]||s,h=f(e[d],t[d],d);M.isUndefined(h)&&f!==a||(n[d]=h)}),n}const _C=e=>{const t=Ii({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;t.headers=o=En.from(o),t.url=EC(jC(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(M.isFormData(n)){if(Zt.hasStandardBrowserEnv||Zt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(Zt.hasStandardBrowserEnv&&(r&&M.isFunction(r)&&(r=r(t)),r||r!==!1&&oO(t.url))){const c=s&&i&&aO.read(i);c&&o.set(s,c)}return t},uO=typeof XMLHttpRequest<"u",dO=uO&&function(e){return new Promise(function(n,r){const s=_C(e);let i=s.data;const o=En.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,d,f,h,p,m;function v(){p&&p(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function y(){if(!b)return;const w=En.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:w,config:e,request:b};AC(function(C){n(C),v()},function(C){r(C),v()},k),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(r(new De("Request aborted",De.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new De("Network Error",De.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||CC;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),r(new De(S,k.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&M.forEach(o.toJSON(),function(S,k){b.setRequestHeader(k,S)}),M.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),a&&a!=="json"&&(b.responseType=s.responseType),c&&([h,m]=gd(c,!0),b.addEventListener("progress",h)),l&&b.upload&&([f,p]=gd(l),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=w=>{b&&(r(!w||w.type?new aa(null,e,b):w),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const g=rO(s.url);if(g&&Zt.protocols.indexOf(g)===-1){r(new De("Unsupported protocol "+g+":",De.ERR_BAD_REQUEST,e));return}b.send(i||null)})},fO=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof De?d:new aa(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new De(`timeout ${t} of ms exceeded`,De.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>M.asap(a),l}},hO=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},pO=async function*(e,t){for await(const n of mO(e))yield*hO(n,t)},mO=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Hx=(e,t,n,r)=>{const s=pO(e,t);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await s.next();if(c){a(),l.close();return}let f=d.byteLength;if(n){let h=i+=f;n(h)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},kf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",RC=kf&&typeof ReadableStream=="function",gO=kf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),DC=(e,...t)=>{try{return!!e(...t)}catch{return!1}},yO=RC&&DC(()=>{let e=!1;const t=new Request(Zt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ux=64*1024,zm=RC&&DC(()=>M.isReadableStream(new Response("").body)),yd={stream:zm&&(e=>e.body)};kf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!yd[t]&&(yd[t]=M.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new De(`Response type '${t}' is not supported`,De.ERR_NOT_SUPPORT,r)})})})(new Response);const vO=async e=>{if(e==null)return 0;if(M.isBlob(e))return e.size;if(M.isSpecCompliantForm(e))return(await new Request(Zt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(M.isArrayBufferView(e)||M.isArrayBuffer(e))return e.byteLength;if(M.isURLSearchParams(e)&&(e=e+""),M.isString(e))return(await gO(e)).byteLength},xO=async(e,t)=>{const n=M.toFiniteNumber(e.getContentLength());return n??vO(t)},bO=kf&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:h}=_C(e);c=c?(c+"").toLowerCase():"text";let p=fO([s,i&&i.toAbortSignal()],o),m;const v=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let b;try{if(l&&yO&&n!=="get"&&n!=="head"&&(b=await xO(d,r))!==0){let k=new Request(t,{method:"POST",body:r,duplex:"half"}),E;if(M.isFormData(r)&&(E=k.headers.get("content-type"))&&d.setContentType(E),k.body){const[C,T]=Fx(b,gd(Bx(l)));r=Hx(k.body,Ux,C,T)}}M.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;m=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:y?f:void 0});let g=await fetch(m,h);const w=zm&&(c==="stream"||c==="response");if(zm&&(a||w&&v)){const k={};["status","statusText","headers"].forEach(N=>{k[N]=g[N]});const E=M.toFiniteNumber(g.headers.get("content-length")),[C,T]=a&&Fx(E,gd(Bx(a),!0))||[];g=new Response(Hx(g.body,Ux,C,()=>{T&&T(),v&&v()}),k)}c=c||"text";let S=await yd[M.findKey(yd,c)||"text"](g,e);return!w&&v&&v(),await new Promise((k,E)=>{AC(k,E,{data:S,headers:En.from(g.headers),status:g.status,statusText:g.statusText,config:e,request:m})})}catch(y){throw v&&v(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new De("Network Error",De.ERR_NETWORK,e,m),{cause:y.cause||y}):De.from(y,y&&y.code,e,m)}}),Hm={http:OP,xhr:dO,fetch:bO};M.forEach(Hm,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Vx=e=>`- ${e}`,wO=e=>M.isFunction(e)||e===null||e===!1,IC={getAdapter:e=>{e=M.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!wO(n)&&(r=Hm[(o=String(n)).toLowerCase()],r===void 0))throw new De(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Vx).join(`
`):" "+Vx(i[0]):"as no adapter specified";throw new De("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Hm};function Uh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new aa(null,e)}function $x(e){return Uh(e),e.headers=En.from(e.headers),e.data=Hh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),IC.getAdapter(e.adapter||oc.adapter)(e).then(function(r){return Uh(e),r.data=Hh.call(e,e.transformResponse,r),r.headers=En.from(r.headers),r},function(r){return NC(r)||(Uh(e),r&&r.response&&(r.response.data=Hh.call(e,e.transformResponse,r.response),r.response.headers=En.from(r.response.headers))),Promise.reject(r)})}const PC="1.11.0",Ef={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ef[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Wx={};Ef.transitional=function(t,n,r){function s(i,o){return"[Axios v"+PC+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new De(s(o," has been removed"+(n?" in "+n:"")),De.ERR_DEPRECATED);return n&&!Wx[o]&&(Wx[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};Ef.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function SO(e,t,n){if(typeof e!="object")throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new De("option "+i+" must be "+l,De.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new De("Unknown option "+i,De.ERR_BAD_OPTION)}}const Cu={assertOptions:SO,validators:Ef},Sr=Cu.validators;let Ci=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Mx,response:new Mx}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ii(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Cu.assertOptions(r,{silentJSONParsing:Sr.transitional(Sr.boolean),forcedJSONParsing:Sr.transitional(Sr.boolean),clarifyTimeoutError:Sr.transitional(Sr.boolean)},!1),s!=null&&(M.isFunction(s)?n.paramsSerializer={serialize:s}:Cu.assertOptions(s,{encode:Sr.function,serialize:Sr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Cu.assertOptions(n,{baseUrl:Sr.spelling("baseURL"),withXsrfToken:Sr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&M.merge(i.common,i[n.method]);i&&M.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=En.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let d,f=0,h;if(!l){const m=[$x.bind(this),void 0];for(m.unshift(...a),m.push(...c),h=m.length,d=Promise.resolve(n);f<h;)d=d.then(m[f++],m[f++]);return d}h=a.length;let p=n;for(f=0;f<h;){const m=a[f++],v=a[f++];try{p=m(p)}catch(b){v.call(this,b);break}}try{d=$x.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=c.length;f<h;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=Ii(this.defaults,t);const n=jC(t.baseURL,t.url,t.allowAbsoluteUrls);return EC(n,t.params,t.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(t){Ci.prototype[t]=function(n,r){return this.request(Ii(r||{},{method:t,url:n,data:(r||{}).data}))}});M.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(Ii(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ci.prototype[t]=n(),Ci.prototype[t+"Form"]=n(!0)});let kO=class OC{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new aa(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new OC(function(s){t=s}),cancel:t}}};function EO(e){return function(n){return e.apply(null,n)}}function CO(e){return M.isObject(e)&&e.isAxiosError===!0}const Um={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Um).forEach(([e,t])=>{Um[t]=e});function MC(e){const t=new Ci(e),n=fC(Ci.prototype.request,t);return M.extend(n,Ci.prototype,t,{allOwnKeys:!0}),M.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return MC(Ii(e,s))},n}const At=MC(oc);At.Axios=Ci;At.CanceledError=aa;At.CancelToken=kO;At.isCancel=NC;At.VERSION=PC;At.toFormData=Sf;At.AxiosError=De;At.Cancel=At.CanceledError;At.all=function(t){return Promise.all(t)};At.spread=EO;At.isAxiosError=CO;At.mergeConfig=Ii;At.AxiosHeaders=En;At.formToJSON=e=>TC(M.isHTMLForm(e)?new FormData(e):e);At.getAdapter=IC.getAdapter;At.HttpStatusCode=Um;At.default=At;const{Axios:SQ,AxiosError:kQ,CanceledError:EQ,isCancel:CQ,CancelToken:TQ,VERSION:NQ,all:AQ,Cancel:jQ,isAxiosError:_Q,spread:RQ,toFormData:DQ,AxiosHeaders:IQ,HttpStatusCode:PQ,formToJSON:OQ,getAdapter:MQ,mergeConfig:LQ}=At,ie=At.create({baseURL:"/api",withCredentials:!0,timeout:1e4}),LC=x.createContext(null),TO=({children:e})=>{const[t,n]=x.useState({user:null,isAuthenticated:!1,isLoading:!0,error:null}),r=zt("auth"),s=async()=>{r.log("checkAuthStatus: Starting..."),n(c=>({...c,isLoading:!0}));try{r.log("checkAuthStatus: Making /auth/me request...");const c=await ie.get("/auth/me");r.log("checkAuthStatus: /auth/me successful.",c.data),n({user:c.data,isAuthenticated:!0,isLoading:!1,error:null})}catch(c){r.error("checkAuthStatus: /auth/me failed.",c),n(d=>({...d,isLoading:!1,isAuthenticated:!1,user:null,error:null}))}};x.useEffect(()=>{s()},[]);const i=async c=>{var d,f;n(h=>({...h,isLoading:!0,error:null}));try{if(c.email==="admin@example.com"&&c.password==="password"){n({user:{id:"demo-admin",full_name:"Demo Admin",email:"admin@example.com",role:"admin",status:"active",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},isAuthenticated:!0,isLoading:!1,error:null});return}await ie.post("/auth/login",c),await s()}catch(h){const p=((f=(d=h.response)==null?void 0:d.data)==null?void 0:f.message)||h.message||"Login failed";throw n({user:null,isAuthenticated:!1,isLoading:!1,error:p}),new Error(p)}},o=async c=>{var d,f;n(h=>({...h,isLoading:!0,error:null}));try{await ie.post("/auth/register",c),await s()}catch(h){n({user:null,isAuthenticated:!1,isLoading:!1,error:((f=(d=h.response)==null?void 0:d.data)==null?void 0:f.message)||h.message||"Registration failed"})}},a=async c=>{window.location.href=`/api/auth/${c}`},l=async()=>{n(c=>({...c,isLoading:!0}));try{await ie.post("/auth/logout"),n({user:null,isAuthenticated:!1,isLoading:!1,error:null})}catch{n({user:null,isAuthenticated:!1,isLoading:!1,error:null})}};return u.jsx(LC.Provider,{value:{...t,login:i,register:o,loginWithProvider:a,logout:l,checkAuthStatus:s},children:e})},vt=()=>{const e=x.useContext(LC);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},NO=async e=>(await ie.get(`/notifications/user/${e}`)).data.map(n=>({id:n.NotificationID,userId:n.UserID,message:n.Message,readStatus:n.IsRead,createdAt:n.CreatedAt,type:n.Type,link:n.Link})),AO=async e=>{await ie.put(`/notifications/${e}/read`)},Mr=Object.create(null);Mr.open="0";Mr.close="1";Mr.ping="2";Mr.pong="3";Mr.message="4";Mr.upgrade="5";Mr.noop="6";const Tu=Object.create(null);Object.keys(Mr).forEach(e=>{Tu[Mr[e]]=e});const Vm={type:"error",data:"parser error"},FC=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",BC=typeof ArrayBuffer=="function",zC=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Uy=({type:e,data:t},n,r)=>FC&&t instanceof Blob?n?r(t):Gx(t,r):BC&&(t instanceof ArrayBuffer||zC(t))?n?r(t):Gx(new Blob([t]),r):r(Mr[e]+(t||"")),Gx=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function qx(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Vh;function jO(e,t){if(FC&&e.data instanceof Blob)return e.data.arrayBuffer().then(qx).then(t);if(BC&&(e.data instanceof ArrayBuffer||zC(e.data)))return t(qx(e.data));Uy(e,!1,n=>{Vh||(Vh=new TextEncoder),t(Vh.encode(n))})}const Yx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ha=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Yx.length;e++)Ha[Yx.charCodeAt(e)]=e;const _O=e=>{let t=e.length*.75,n=e.length,r,s=0,i,o,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),d=new Uint8Array(c);for(r=0;r<n;r+=4)i=Ha[e.charCodeAt(r)],o=Ha[e.charCodeAt(r+1)],a=Ha[e.charCodeAt(r+2)],l=Ha[e.charCodeAt(r+3)],d[s++]=i<<2|o>>4,d[s++]=(o&15)<<4|a>>2,d[s++]=(a&3)<<6|l&63;return c},RO=typeof ArrayBuffer=="function",Vy=(e,t)=>{if(typeof e!="string")return{type:"message",data:HC(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:DO(e.substring(1),t)}:Tu[n]?e.length>1?{type:Tu[n],data:e.substring(1)}:{type:Tu[n]}:Vm},DO=(e,t)=>{if(RO){const n=_O(e);return HC(n,t)}else return{base64:!0,data:e}},HC=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},UC="",IO=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,o)=>{Uy(i,!1,a=>{r[o]=a,++s===n&&t(r.join(UC))})})},PO=(e,t)=>{const n=e.split(UC),r=[];for(let s=0;s<n.length;s++){const i=Vy(n[s],t);if(r.push(i),i.type==="error")break}return r};function OO(){return new TransformStream({transform(e,t){jO(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let $h;function Gc(e){return e.reduce((t,n)=>t+n.length,0)}function qc(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function MO(e,t){$h||($h=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(Gc(n)<1)break;const l=qc(n,1);i=(l[0]&128)===128,s=l[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Gc(n)<2)break;const l=qc(n,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(Gc(n)<8)break;const l=qc(n,8),c=new DataView(l.buffer,l.byteOffset,l.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(Vm);break}s=d*Math.pow(2,32)+c.getUint32(4),r=3}else{if(Gc(n)<s)break;const l=qc(n,s);a.enqueue(Vy(i?l:$h.decode(l),t)),r=0}if(s===0||s>e){a.enqueue(Vm);break}}}})}const VC=4;function Dt(e){if(e)return LO(e)}function LO(e){for(var t in Dt.prototype)e[t]=Dt.prototype[t];return e}Dt.prototype.on=Dt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Dt.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Dt.prototype.off=Dt.prototype.removeListener=Dt.prototype.removeAllListeners=Dt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Dt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};Dt.prototype.emitReserved=Dt.prototype.emit;Dt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Dt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Cf=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),$n=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),FO="arraybuffer";function $C(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const BO=$n.setTimeout,zO=$n.clearTimeout;function Tf(e,t){t.useNativeTimers?(e.setTimeoutFn=BO.bind($n),e.clearTimeoutFn=zO.bind($n)):(e.setTimeoutFn=$n.setTimeout.bind($n),e.clearTimeoutFn=$n.clearTimeout.bind($n))}const HO=1.33;function UO(e){return typeof e=="string"?VO(e):Math.ceil((e.byteLength||e.size)*HO)}function VO(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function WC(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function $O(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function WO(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class GO extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class $y extends Dt{constructor(t){super(),this.writable=!1,Tf(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new GO(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Vy(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=$O(t);return n.length?"?"+n:""}}class qO extends $y{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};PO(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,IO(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=WC()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let GC=!1;try{GC=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const YO=GC;function QO(){}class KO extends qO{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}let Do=class Nu extends Dt{constructor(t,n,r){super(),this.createRequest=t,Tf(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=$C(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Nu.requestsCount++,Nu.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=QO,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Nu.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Do.requestsCount=0;Do.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Qx);else if(typeof addEventListener=="function"){const e="onpagehide"in $n?"pagehide":"unload";addEventListener(e,Qx,!1)}}function Qx(){for(let e in Do.requests)Do.requests.hasOwnProperty(e)&&Do.requests[e].abort()}const XO=function(){const e=qC({xdomain:!1});return e&&e.responseType!==null}();class ZO extends KO{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=XO&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Do(qC,this.uri(),t)}}function qC(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||YO))return new XMLHttpRequest}catch{}if(!t)try{return new $n[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const YC=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class JO extends $y{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=YC?{}:$C(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Uy(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&Cf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=WC()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Wh=$n.WebSocket||$n.MozWebSocket;class eM extends JO{createSocket(t,n,r){return YC?new Wh(t,n,r):n?new Wh(t,n):new Wh(t)}doWrite(t,n){this.ws.send(n)}}class tM extends $y{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=MO(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=OO();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&Cf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const nM={websocket:eM,webtransport:tM,polling:ZO},rM=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,sM=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $m(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=rM.exec(e||""),i={},o=14;for(;o--;)i[sM[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=iM(i,i.path),i.queryKey=oM(i,i.query),i}function iM(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function oM(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const Wm=typeof addEventListener=="function"&&typeof removeEventListener=="function",Au=[];Wm&&addEventListener("offline",()=>{Au.forEach(e=>e())},!1);class Os extends Dt{constructor(t,n){if(super(),this.binaryType=FO,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=$m(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=$m(n.host).host);Tf(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=WO(this.opts.query)),Wm&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Au.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=VC,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Os.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Os.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=UO(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Cf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Os.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Wm&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Au.indexOf(this._offlineEventListener);r!==-1&&Au.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Os.protocol=VC;class aM extends Os{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Os.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Os.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function i(){r||(r=!0,d(),n.close(),n=null)}const o=f=>{const h=new Error("probe error: "+f);h.transport=n.name,i(),this.emitReserved("upgradeError",h)};function a(){o("transport closed")}function l(){o("socket closed")}function c(f){n&&f.name!==n.name&&i()}const d=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let lM=class extends aM{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>nM[s]).filter(s=>!!s)),super(t,r)}};function cM(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=$m(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const uM=typeof ArrayBuffer=="function",dM=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,QC=Object.prototype.toString,fM=typeof Blob=="function"||typeof Blob<"u"&&QC.call(Blob)==="[object BlobConstructor]",hM=typeof File=="function"||typeof File<"u"&&QC.call(File)==="[object FileConstructor]";function Wy(e){return uM&&(e instanceof ArrayBuffer||dM(e))||fM&&e instanceof Blob||hM&&e instanceof File}function ju(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(ju(e[n]))return!0;return!1}if(Wy(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ju(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ju(e[n]))return!0;return!1}function pM(e){const t=[],n=e.data,r=e;return r.data=Gm(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Gm(e,t){if(!e)return e;if(Wy(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Gm(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Gm(e[r],t));return n}return e}function mM(e,t){return e.data=qm(e.data,t),delete e.attachments,e}function qm(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=qm(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=qm(e[n],t));return e}const gM=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],yM=5;var He;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(He||(He={}));class vM{constructor(t){this.replacer=t}encode(t){return(t.type===He.EVENT||t.type===He.ACK)&&ju(t)?this.encodeAsBinary({type:t.type===He.EVENT?He.BINARY_EVENT:He.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===He.BINARY_EVENT||t.type===He.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=pM(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Kx(e){return Object.prototype.toString.call(e)==="[object Object]"}class Gy extends Dt{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===He.BINARY_EVENT;r||n.type===He.BINARY_ACK?(n.type=r?He.EVENT:He.ACK,this.reconstructor=new xM(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Wy(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(He[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===He.BINARY_EVENT||r.type===He.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(Gy.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case He.CONNECT:return Kx(n);case He.DISCONNECT:return n===void 0;case He.CONNECT_ERROR:return typeof n=="string"||Kx(n);case He.EVENT:case He.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&gM.indexOf(n[0])===-1);case He.ACK:case He.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class xM{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=mM(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const bM=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Gy,Encoder:vM,get PacketType(){return He},protocol:yM},Symbol.toStringTag,{value:"Module"}));function sr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const wM=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class KC extends Dt{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[sr(t,"open",this.onopen.bind(this)),sr(t,"packet",this.onpacket.bind(this)),sr(t,"error",this.onerror.bind(this)),sr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,i;if(wM.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:He.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,f=n.pop();this._registerAckCallback(d,f),o.id=d}const a=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const i=(o,a)=>o?s(o):r(a);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:He.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case He.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case He.EVENT:case He.BINARY_EVENT:this.onevent(t);break;case He.ACK:case He.BINARY_ACK:this.onack(t);break;case He.DISCONNECT:this.ondisconnect();break;case He.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:He.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:He.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function la(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}la.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};la.prototype.reset=function(){this.attempts=0};la.prototype.setMin=function(e){this.ms=e};la.prototype.setMax=function(e){this.max=e};la.prototype.setJitter=function(e){this.jitter=e};class Ym extends Dt{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Tf(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new la({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||bM;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new lM(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=sr(n,"open",function(){r.onopen(),t&&t()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=sr(n,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(sr(t,"ping",this.onping.bind(this)),sr(t,"data",this.ondata.bind(this)),sr(t,"error",this.onerror.bind(this)),sr(t,"close",this.onclose.bind(this)),sr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Cf(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new KC(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ta={};function _u(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=cM(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=Ta[s]&&i in Ta[s].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let l;return a?l=new Ym(r,t):(Ta[s]||(Ta[s]=new Ym(r,t)),l=Ta[s]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign(_u,{Manager:Ym,Socket:KC,io:_u,connect:_u});const XC=x.createContext(null),SM=({children:e})=>{const[t,n]=x.useState([]),[r,s]=x.useState(!1),[i,o]=x.useState(null),{user:a}=vt(),l=zt("notifications"),c=async()=>{s(!0),o(null);try{if((a==null?void 0:a.id)==="demo-admin")n([{id:"1",userId:"demo-admin",message:"Welcome to the FamConomy demo!",readStatus:!1,timestamp:new Date().toISOString(),type:"system"},{id:"2",userId:"demo-admin",message:"You have a new task assigned.",readStatus:!1,timestamp:new Date().toISOString(),type:"task"}]);else if(a!=null&&a.id){const p=await NO(a.id);l.log("Fetched notifications data:",p),n(p)}else n([])}catch(p){o(p instanceof Error?p.message:"Failed to fetch notifications")}finally{s(!1)}};x.useEffect(()=>{let p;if(a&&(c(),a.id!=="demo-admin")){p=_u("https://famconomy.com",{query:{userId:a.id},transports:["websocket"]}),p.on("connect",()=>{l.log("Socket.IO connected:",p==null?void 0:p.id)}),p.on("newNotification",v=>{l.log("New notification received via WebSocket:",v),n(b=>[v,...b])}),p.on("disconnect",()=>{l.log("Socket.IO disconnected.")}),p.on("connect_error",v=>{l.error("Socket.IO connection error:",v.message)});const m=setInterval(c,3e4);return()=>{clearInterval(m),p&&p.disconnect()}}},[a]);const d=async p=>{try{(a==null?void 0:a.id)!=="demo-admin"&&await AO(p),n(m=>m.map(v=>v.id===p?{...v,readStatus:!0}:v))}catch(m){o(m instanceof Error?m.message:"Failed to mark notification as read")}},f=async()=>{try{n(p=>p.map(m=>({...m,readStatus:!0})))}catch(p){o(p instanceof Error?p.message:"Failed to mark all notifications as read")}},h=t.filter(p=>!p.readStatus).length;return u.jsx(XC.Provider,{value:{notifications:t,unreadCount:h,isLoading:r,error:i,markAsRead:d,markAllAsRead:f,fetchNotificationData:c},children:e})},ZC=()=>{const e=x.useContext(XC);if(!e)throw new Error("useNotifications must be used within a NotificationsProvider");return e};function JC(e){return t=>typeof t===e}var kM=JC("function"),EM=e=>e===null,Xx=e=>Object.prototype.toString.call(e).slice(8,-1)==="RegExp",Zx=e=>!CM(e)&&!EM(e)&&(kM(e)||typeof e=="object"),CM=JC("undefined");function TM(e,t){const{length:n}=e;if(n!==t.length)return!1;for(let r=n;r--!==0;)if(!un(e[r],t[r]))return!1;return!0}function NM(e,t){if(e.byteLength!==t.byteLength)return!1;const n=new DataView(e.buffer),r=new DataView(t.buffer);let s=e.byteLength;for(;s--;)if(n.getUint8(s)!==r.getUint8(s))return!1;return!0}function AM(e,t){if(e.size!==t.size)return!1;for(const n of e.entries())if(!t.has(n[0]))return!1;for(const n of e.entries())if(!un(n[1],t.get(n[0])))return!1;return!0}function jM(e,t){if(e.size!==t.size)return!1;for(const n of e.entries())if(!t.has(n[0]))return!1;return!0}function un(e,t){if(e===t)return!0;if(e&&Zx(e)&&t&&Zx(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return TM(e,t);if(e instanceof Map&&t instanceof Map)return AM(e,t);if(e instanceof Set&&t instanceof Set)return jM(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return NM(e,t);if(Xx(e)&&Xx(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s=n.length;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[s]))return!1;for(let s=n.length;s--!==0;){const i=n[s];if(!(i==="_owner"&&e.$$typeof)&&!un(e[i],t[i]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}var _M=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],RM=["bigint","boolean","null","number","string","symbol","undefined"];function Nf(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(DM(t))return t}function vr(e){return t=>Nf(t)===e}function DM(e){return _M.includes(e)}function ca(e){return t=>typeof t===e}function IM(e){return RM.includes(e)}var PM=["innerHTML","ownerDocument","style","attributes","nodeValue"];function le(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(le.array(e))return"Array";if(le.plainFunction(e))return"Function";const t=Nf(e);return t||"Object"}le.array=Array.isArray;le.arrayOf=(e,t)=>!le.array(e)&&!le.function(t)?!1:e.every(n=>t(n));le.asyncGeneratorFunction=e=>Nf(e)==="AsyncGeneratorFunction";le.asyncFunction=vr("AsyncFunction");le.bigint=ca("bigint");le.boolean=e=>e===!0||e===!1;le.date=vr("Date");le.defined=e=>!le.undefined(e);le.domElement=e=>le.object(e)&&!le.plainObject(e)&&e.nodeType===1&&le.string(e.nodeName)&&PM.every(t=>t in e);le.empty=e=>le.string(e)&&e.length===0||le.array(e)&&e.length===0||le.object(e)&&!le.map(e)&&!le.set(e)&&Object.keys(e).length===0||le.set(e)&&e.size===0||le.map(e)&&e.size===0;le.error=vr("Error");le.function=ca("function");le.generator=e=>le.iterable(e)&&le.function(e.next)&&le.function(e.throw);le.generatorFunction=vr("GeneratorFunction");le.instanceOf=(e,t)=>!e||!t?!1:Object.getPrototypeOf(e)===t.prototype;le.iterable=e=>!le.nullOrUndefined(e)&&le.function(e[Symbol.iterator]);le.map=vr("Map");le.nan=e=>Number.isNaN(e);le.null=e=>e===null;le.nullOrUndefined=e=>le.null(e)||le.undefined(e);le.number=e=>ca("number")(e)&&!le.nan(e);le.numericString=e=>le.string(e)&&e.length>0&&!Number.isNaN(Number(e));le.object=e=>!le.nullOrUndefined(e)&&(le.function(e)||typeof e=="object");le.oneOf=(e,t)=>le.array(e)?e.indexOf(t)>-1:!1;le.plainFunction=vr("Function");le.plainObject=e=>{if(Nf(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};le.primitive=e=>le.null(e)||IM(typeof e);le.promise=vr("Promise");le.propertyOf=(e,t,n)=>{if(!le.object(e)||!t)return!1;const r=e[t];return le.function(n)?n(r):le.defined(r)};le.regexp=vr("RegExp");le.set=vr("Set");le.string=ca("string");le.symbol=ca("symbol");le.undefined=ca("undefined");le.weakMap=vr("WeakMap");le.weakSet=vr("WeakSet");var he=le;function OM(...e){return e.every(t=>he.string(t)||he.array(t)||he.plainObject(t))}function MM(e,t,n){return eT(e,t)?[e,t].every(he.array)?!e.some(rb(n))&&t.some(rb(n)):[e,t].every(he.plainObject)?!Object.entries(e).some(nb(n))&&Object.entries(t).some(nb(n)):t===n:!1}function Jx(e,t,n){const{actual:r,key:s,previous:i,type:o}=n,a=jr(e,s),l=jr(t,s);let c=[a,l].every(he.number)&&(o==="increased"?a<l:a>l);return he.undefined(r)||(c=c&&l===r),he.undefined(i)||(c=c&&a===i),c}function eb(e,t,n){const{key:r,type:s,value:i}=n,o=jr(e,r),a=jr(t,r),l=s==="added"?o:a,c=s==="added"?a:o;if(!he.nullOrUndefined(i)){if(he.defined(l)){if(he.array(l)||he.plainObject(l))return MM(l,c,i)}else return un(c,i);return!1}return[o,a].every(he.array)?!c.every(qy(l)):[o,a].every(he.plainObject)?LM(Object.keys(l),Object.keys(c)):![o,a].every(d=>he.primitive(d)&&he.defined(d))&&(s==="added"?!he.defined(o)&&he.defined(a):he.defined(o)&&!he.defined(a))}function tb(e,t,{key:n}={}){let r=jr(e,n),s=jr(t,n);if(!eT(r,s))throw new TypeError("Inputs have different types");if(!OM(r,s))throw new TypeError("Inputs don't have length");return[r,s].every(he.plainObject)&&(r=Object.keys(r),s=Object.keys(s)),[r,s]}function nb(e){return([t,n])=>he.array(e)?un(e,n)||e.some(r=>un(r,n)||he.array(n)&&qy(n)(r)):he.plainObject(e)&&e[t]?!!e[t]&&un(e[t],n):un(e,n)}function LM(e,t){return t.some(n=>!e.includes(n))}function rb(e){return t=>he.array(e)?e.some(n=>un(n,t)||he.array(t)&&qy(t)(n)):un(e,t)}function Na(e,t){return he.array(e)?e.some(n=>un(n,t)):un(e,t)}function qy(e){return t=>e.some(n=>un(n,t))}function eT(...e){return e.every(he.array)||e.every(he.number)||e.every(he.plainObject)||e.every(he.string)}function jr(e,t){return he.plainObject(e)||he.array(e)?he.string(t)?t.split(".").reduce((r,s)=>r&&r[s],e):he.number(t)?e[t]:e:e}function vd(e,t){if([e,t].some(he.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(d=>he.plainObject(d)||he.array(d)))throw new Error("Expected plain objects or array");return{added:(d,f)=>{try{return eb(e,t,{key:d,type:"added",value:f})}catch{return!1}},changed:(d,f,h)=>{try{const p=jr(e,d),m=jr(t,d),v=he.defined(f),b=he.defined(h);if(v||b){const y=b?Na(h,p):!Na(f,p),g=Na(f,m);return y&&g}return[p,m].every(he.array)||[p,m].every(he.plainObject)?!un(p,m):p!==m}catch{return!1}},changedFrom:(d,f,h)=>{if(!he.defined(d))return!1;try{const p=jr(e,d),m=jr(t,d),v=he.defined(h);return Na(f,p)&&(v?Na(h,m):!v)}catch{return!1}},decreased:(d,f,h)=>{if(!he.defined(d))return!1;try{return Jx(e,t,{key:d,actual:f,previous:h,type:"decreased"})}catch{return!1}},emptied:d=>{try{const[f,h]=tb(e,t,{key:d});return!!f.length&&!h.length}catch{return!1}},filled:d=>{try{const[f,h]=tb(e,t,{key:d});return!f.length&&!!h.length}catch{return!1}},increased:(d,f,h)=>{if(!he.defined(d))return!1;try{return Jx(e,t,{key:d,actual:f,previous:h,type:"increased"})}catch{return!1}},removed:(d,f)=>{try{return eb(e,t,{key:d,type:"removed",value:f})}catch{return!1}}}}var FM=new Error("Element already at target scroll position"),BM=new Error("Scroll cancelled"),zM=Math.min,sb=Date.now,HM={left:ib("scrollLeft"),top:ib("scrollTop")};function ib(e){return function(n,r,s,i){s=s||{},typeof s=="function"&&(i=s,s={}),typeof i!="function"&&(i=VM);var o=sb(),a=n[e],l=s.ease||UM,c=isNaN(s.duration)?350:+s.duration,d=!1;return a===r?i(FM,n[e]):requestAnimationFrame(h),f;function f(){d=!0}function h(p){if(d)return i(BM,n[e]);var m=sb(),v=zM(1,(m-o)/c),b=l(v);n[e]=b*(r-a)+a,v<1?requestAnimationFrame(h):requestAnimationFrame(function(){i(null,n[e])})}}}function UM(e){return .5*(1-Math.cos(Math.PI*e))}function VM(){}const $M=qs(HM);var tT={exports:{}};(function(e){(function(t,n){e.exports?e.exports=n():t.Scrollparent=n()})(aR,function(){function t(r){var s=getComputedStyle(r,null).getPropertyValue("overflow");return s.indexOf("scroll")>-1||s.indexOf("auto")>-1}function n(r){if(r instanceof HTMLElement||r instanceof SVGElement){for(var s=r.parentNode;s.parentNode;){if(t(s))return s;s=s.parentNode}return document.scrollingElement||document.documentElement}}return n})})(tT);var WM=tT.exports;const nT=qs(WM);var GM=function(e){return Object.prototype.hasOwnProperty.call(e,"props")},qM=function(e,t){return e+Ol(t)},Ol=function(e){return e===null||typeof e=="boolean"||typeof e>"u"?"":typeof e=="number"?e.toString():typeof e=="string"?e:Array.isArray(e)?e.reduce(qM,""):GM(e)&&Object.prototype.hasOwnProperty.call(e.props,"children")?Ol(e.props.children):""};Ol.default=Ol;var YM=Ol;const ob=qs(YM);var QM=function(t){return KM(t)&&!XM(t)};function KM(e){return!!e&&typeof e=="object"}function XM(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||eL(e)}var ZM=typeof Symbol=="function"&&Symbol.for,JM=ZM?Symbol.for("react.element"):60103;function eL(e){return e.$$typeof===JM}function tL(e){return Array.isArray(e)?[]:{}}function Ml(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Wo(tL(e),e,t):e}function nL(e,t,n){return e.concat(t).map(function(r){return Ml(r,n)})}function rL(e,t){if(!t.customMerge)return Wo;var n=t.customMerge(e);return typeof n=="function"?n:Wo}function sL(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function ab(e){return Object.keys(e).concat(sL(e))}function rT(e,t){try{return t in e}catch{return!1}}function iL(e,t){return rT(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function oL(e,t,n){var r={};return n.isMergeableObject(e)&&ab(e).forEach(function(s){r[s]=Ml(e[s],n)}),ab(t).forEach(function(s){iL(e,s)||(rT(e,s)&&n.isMergeableObject(t[s])?r[s]=rL(s,n)(e[s],t[s],n):r[s]=Ml(t[s],n))}),r}function Wo(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||nL,n.isMergeableObject=n.isMergeableObject||QM,n.cloneUnlessOtherwiseSpecified=Ml;var r=Array.isArray(t),s=Array.isArray(e),i=r===s;return i?r?n.arrayMerge(e,t,n):oL(e,t,n):Ml(t,n)}Wo.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,s){return Wo(r,s,n)},{})};var aL=Wo,lL=aL;const ar=qs(lL);var sT={exports:{}},cL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uL=cL,dL=uL;function iT(){}function oT(){}oT.resetWarningCache=iT;var fL=function(){function e(r,s,i,o,a,l){if(l!==dL){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:oT,resetWarningCache:iT};return n.PropTypes=n,n};sT.exports=fL();var Yy=sT.exports;const oe=qs(Yy);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var ac=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",hL=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(ac&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();function pL(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function mL(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},hL))}}var gL=ac&&window.Promise,yL=gL?pL:mL;function aT(e){var t={};return e&&t.toString.call(e)==="[object Function]"}function Ui(e,t){if(e.nodeType!==1)return[];var n=e.ownerDocument.defaultView,r=n.getComputedStyle(e,null);return t?r[t]:r}function Qy(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function lc(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Ui(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/(auto|scroll|overlay)/.test(n+s+r)?e:lc(Qy(e))}function lT(e){return e&&e.referenceNode?e.referenceNode:e}var lb=ac&&!!(window.MSInputMethodContext&&document.documentMode),cb=ac&&/MSIE 10/.test(navigator.userAgent);function ua(e){return e===11?lb:e===10?cb:lb||cb}function Go(e){if(!e)return document.documentElement;for(var t=ua(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&Ui(n,"position")==="static"?Go(n):n}function vL(e){var t=e.nodeName;return t==="BODY"?!1:t==="HTML"||Go(e.firstElementChild)===e}function Qm(e){return e.parentNode!==null?Qm(e.parentNode):e}function xd(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,s=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(s,0);var o=i.commonAncestorContainer;if(e!==o&&t!==o||r.contains(s))return vL(o)?o:Go(o);var a=Qm(e);return a.host?xd(a.host,t):xd(e,Qm(t).host)}function qo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=t==="top"?"scrollTop":"scrollLeft",r=e.nodeName;if(r==="BODY"||r==="HTML"){var s=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||s;return i[n]}return e[n]}function xL(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=qo(t,"top"),s=qo(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=s*i,e.right+=s*i,e}function ub(e,t){var n=t==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function db(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],ua(10)?parseInt(n["offset"+e])+parseInt(r["margin"+(e==="Height"?"Top":"Left")])+parseInt(r["margin"+(e==="Height"?"Bottom":"Right")]):0)}function cT(e){var t=e.body,n=e.documentElement,r=ua(10)&&getComputedStyle(n);return{height:db("Height",t,n,r),width:db("Width",t,n,r)}}var bL=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},wL=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Yo=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function zs(e){return Gn({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Km(e){var t={};try{if(ua(10)){t=e.getBoundingClientRect();var n=qo(e,"top"),r=qo(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch{}var s={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i=e.nodeName==="HTML"?cT(e.ownerDocument):{},o=i.width||e.clientWidth||s.width,a=i.height||e.clientHeight||s.height,l=e.offsetWidth-o,c=e.offsetHeight-a;if(l||c){var d=Ui(e);l-=ub(d,"x"),c-=ub(d,"y"),s.width-=l,s.height-=c}return zs(s)}function Ky(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=ua(10),s=t.nodeName==="HTML",i=Km(e),o=Km(t),a=lc(e),l=Ui(t),c=parseFloat(l.borderTopWidth),d=parseFloat(l.borderLeftWidth);n&&s&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var f=zs({top:i.top-o.top-c,left:i.left-o.left-d,width:i.width,height:i.height});if(f.marginTop=0,f.marginLeft=0,!r&&s){var h=parseFloat(l.marginTop),p=parseFloat(l.marginLeft);f.top-=c-h,f.bottom-=c-h,f.left-=d-p,f.right-=d-p,f.marginTop=h,f.marginLeft=p}return(r&&!n?t.contains(a):t===a&&a.nodeName!=="BODY")&&(f=xL(f,t)),f}function SL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=e.ownerDocument.documentElement,r=Ky(e,n),s=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:qo(n),a=t?0:qo(n,"left"),l={top:o-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:s,height:i};return zs(l)}function uT(e){var t=e.nodeName;if(t==="BODY"||t==="HTML")return!1;if(Ui(e,"position")==="fixed")return!0;var n=Qy(e);return n?uT(n):!1}function dT(e){if(!e||!e.parentElement||ua())return document.documentElement;for(var t=e.parentElement;t&&Ui(t,"transform")==="none";)t=t.parentElement;return t||document.documentElement}function Xy(e,t,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,i={top:0,left:0},o=s?dT(e):xd(e,lT(t));if(r==="viewport")i=SL(o,s);else{var a=void 0;r==="scrollParent"?(a=lc(Qy(t)),a.nodeName==="BODY"&&(a=e.ownerDocument.documentElement)):r==="window"?a=e.ownerDocument.documentElement:a=r;var l=Ky(a,o,s);if(a.nodeName==="HTML"&&!uT(o)){var c=cT(e.ownerDocument),d=c.height,f=c.width;i.top+=l.top-l.marginTop,i.bottom=d+l.top,i.left+=l.left-l.marginLeft,i.right=f+l.left}else i=l}n=n||0;var h=typeof n=="number";return i.left+=h?n:n.left||0,i.top+=h?n:n.top||0,i.right-=h?n:n.right||0,i.bottom-=h?n:n.bottom||0,i}function kL(e){var t=e.width,n=e.height;return t*n}function fT(e,t,n,r,s){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var o=Xy(n,r,i,s),a={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},l=Object.keys(a).map(function(h){return Gn({key:h},a[h],{area:kL(a[h])})}).sort(function(h,p){return p.area-h.area}),c=l.filter(function(h){var p=h.width,m=h.height;return p>=n.clientWidth&&m>=n.clientHeight}),d=c.length>0?c[0].key:l[0].key,f=e.split("-")[1];return d+(f?"-"+f:"")}function hT(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=r?dT(t):xd(t,lT(n));return Ky(n,s,r)}function pT(e){var t=e.ownerDocument.defaultView,n=t.getComputedStyle(e),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),s=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),i={width:e.offsetWidth+s,height:e.offsetHeight+r};return i}function bd(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(n){return t[n]})}function mT(e,t,n){n=n.split("-")[0];var r=pT(e),s={width:r.width,height:r.height},i=["right","left"].indexOf(n)!==-1,o=i?"top":"left",a=i?"left":"top",l=i?"height":"width",c=i?"width":"height";return s[o]=t[o]+t[l]/2-r[l]/2,n===a?s[a]=t[a]-r[c]:s[a]=t[bd(a)],s}function cc(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function EL(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(s){return s[t]===n});var r=cc(e,function(s){return s[t]===n});return e.indexOf(r)}function gT(e,t,n){var r=n===void 0?e:e.slice(0,EL(e,"name",n));return r.forEach(function(s){s.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=s.function||s.fn;s.enabled&&aT(i)&&(t.offsets.popper=zs(t.offsets.popper),t.offsets.reference=zs(t.offsets.reference),t=i(t,s))}),t}function CL(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=hT(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=fT(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=mT(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=gT(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function yT(e,t){return e.some(function(n){var r=n.name,s=n.enabled;return s&&r===t})}function Zy(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var s=t[r],i=s?""+s+n:e;if(typeof document.body.style[i]<"u")return i}return null}function TL(){return this.state.isDestroyed=!0,yT(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Zy("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function vT(e){var t=e.ownerDocument;return t?t.defaultView:window}function xT(e,t,n,r){var s=e.nodeName==="BODY",i=s?e.ownerDocument.defaultView:e;i.addEventListener(t,n,{passive:!0}),s||xT(lc(i.parentNode),t,n,r),r.push(i)}function NL(e,t,n,r){n.updateBound=r,vT(e).addEventListener("resize",n.updateBound,{passive:!0});var s=lc(e);return xT(s,"scroll",n.updateBound,n.scrollParents),n.scrollElement=s,n.eventsEnabled=!0,n}function AL(){this.state.eventsEnabled||(this.state=NL(this.reference,this.options,this.state,this.scheduleUpdate))}function jL(e,t){return vT(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(n){n.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function _L(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=jL(this.reference,this.state))}function Jy(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function Xm(e,t){Object.keys(t).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&Jy(t[n])&&(r="px"),e.style[n]=t[n]+r})}function RL(e,t){Object.keys(t).forEach(function(n){var r=t[n];r!==!1?e.setAttribute(n,t[n]):e.removeAttribute(n)})}function DL(e){return Xm(e.instance.popper,e.styles),RL(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&Xm(e.arrowElement,e.arrowStyles),e}function IL(e,t,n,r,s){var i=hT(s,t,e,n.positionFixed),o=fT(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),Xm(t,{position:n.positionFixed?"fixed":"absolute"}),n}function PL(e,t){var n=e.offsets,r=n.popper,s=n.reference,i=Math.round,o=Math.floor,a=function(y){return y},l=i(s.width),c=i(r.width),d=["left","right"].indexOf(e.placement)!==-1,f=e.placement.indexOf("-")!==-1,h=l%2===c%2,p=l%2===1&&c%2===1,m=t?d||f||h?i:o:a,v=t?i:a;return{left:m(p&&!f&&t?r.left-1:r.left),top:v(r.top),bottom:v(r.bottom),right:m(r.right)}}var OL=ac&&/Firefox/i.test(navigator.userAgent);function ML(e,t){var n=t.x,r=t.y,s=e.offsets.popper,i=cc(e.instance.modifiers,function(w){return w.name==="applyStyle"}).gpuAcceleration;i!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=i!==void 0?i:t.gpuAcceleration,a=Go(e.instance.popper),l=Km(a),c={position:s.position},d=PL(e,window.devicePixelRatio<2||!OL),f=n==="bottom"?"top":"bottom",h=r==="right"?"left":"right",p=Zy("transform"),m=void 0,v=void 0;if(f==="bottom"?a.nodeName==="HTML"?v=-a.clientHeight+d.bottom:v=-l.height+d.bottom:v=d.top,h==="right"?a.nodeName==="HTML"?m=-a.clientWidth+d.right:m=-l.width+d.right:m=d.left,o&&p)c[p]="translate3d("+m+"px, "+v+"px, 0)",c[f]=0,c[h]=0,c.willChange="transform";else{var b=f==="bottom"?-1:1,y=h==="right"?-1:1;c[f]=v*b,c[h]=m*y,c.willChange=f+", "+h}var g={"x-placement":e.placement};return e.attributes=Gn({},g,e.attributes),e.styles=Gn({},c,e.styles),e.arrowStyles=Gn({},e.offsets.arrow,e.arrowStyles),e}function bT(e,t,n){var r=cc(e,function(a){var l=a.name;return l===t}),s=!!r&&e.some(function(a){return a.name===n&&a.enabled&&a.order<r.order});if(!s){var i="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return s}function LL(e,t){var n;if(!bT(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if(typeof r=="string"){if(r=e.instance.popper.querySelector(r),!r)return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var s=e.placement.split("-")[0],i=e.offsets,o=i.popper,a=i.reference,l=["left","right"].indexOf(s)!==-1,c=l?"height":"width",d=l?"Top":"Left",f=d.toLowerCase(),h=l?"left":"top",p=l?"bottom":"right",m=pT(r)[c];a[p]-m<o[f]&&(e.offsets.popper[f]-=o[f]-(a[p]-m)),a[f]+m>o[p]&&(e.offsets.popper[f]+=a[f]+m-o[p]),e.offsets.popper=zs(e.offsets.popper);var v=a[f]+a[c]/2-m/2,b=Ui(e.instance.popper),y=parseFloat(b["margin"+d]),g=parseFloat(b["border"+d+"Width"]),w=v-e.offsets.popper[f]-y-g;return w=Math.max(Math.min(o[c]-m,w),0),e.arrowElement=r,e.offsets.arrow=(n={},Yo(n,f,Math.round(w)),Yo(n,h,""),n),e}function FL(e){return e==="end"?"start":e==="start"?"end":e}var wT=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Gh=wT.slice(3);function fb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=Gh.indexOf(e),r=Gh.slice(n+1).concat(Gh.slice(0,n));return t?r.reverse():r}var qh={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function BL(e,t){if(yT(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var n=Xy(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],s=bd(r),i=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case qh.FLIP:o=[r,s];break;case qh.CLOCKWISE:o=fb(r);break;case qh.COUNTERCLOCKWISE:o=fb(r,!0);break;default:o=t.behavior}return o.forEach(function(a,l){if(r!==a||o.length===l+1)return e;r=e.placement.split("-")[0],s=bd(r);var c=e.offsets.popper,d=e.offsets.reference,f=Math.floor,h=r==="left"&&f(c.right)>f(d.left)||r==="right"&&f(c.left)<f(d.right)||r==="top"&&f(c.bottom)>f(d.top)||r==="bottom"&&f(c.top)<f(d.bottom),p=f(c.left)<f(n.left),m=f(c.right)>f(n.right),v=f(c.top)<f(n.top),b=f(c.bottom)>f(n.bottom),y=r==="left"&&p||r==="right"&&m||r==="top"&&v||r==="bottom"&&b,g=["top","bottom"].indexOf(r)!==-1,w=!!t.flipVariations&&(g&&i==="start"&&p||g&&i==="end"&&m||!g&&i==="start"&&v||!g&&i==="end"&&b),S=!!t.flipVariationsByContent&&(g&&i==="start"&&m||g&&i==="end"&&p||!g&&i==="start"&&b||!g&&i==="end"&&v),k=w||S;(h||y||k)&&(e.flipped=!0,(h||y)&&(r=o[l+1]),k&&(i=FL(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=Gn({},e.offsets.popper,mT(e.instance.popper,e.offsets.reference,e.placement)),e=gT(e.instance.modifiers,e,"flip"))}),e}function zL(e){var t=e.offsets,n=t.popper,r=t.reference,s=e.placement.split("-")[0],i=Math.floor,o=["top","bottom"].indexOf(s)!==-1,a=o?"right":"bottom",l=o?"left":"top",c=o?"width":"height";return n[a]<i(r[l])&&(e.offsets.popper[l]=i(r[l])-n[c]),n[l]>i(r[a])&&(e.offsets.popper[l]=i(r[a])),e}function HL(e,t,n,r){var s=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+s[1],o=s[2];if(!i)return e;if(o.indexOf("%")===0){var a=void 0;switch(o){case"%p":a=n;break;case"%":case"%r":default:a=r}var l=zs(a);return l[t]/100*i}else if(o==="vh"||o==="vw"){var c=void 0;return o==="vh"?c=Math.max(document.documentElement.clientHeight,window.innerHeight||0):c=Math.max(document.documentElement.clientWidth,window.innerWidth||0),c/100*i}else return i}function UL(e,t,n,r){var s=[0,0],i=["right","left"].indexOf(r)!==-1,o=e.split(/(\+|\-)/).map(function(d){return d.trim()}),a=o.indexOf(cc(o,function(d){return d.search(/,|\s/)!==-1}));o[a]&&o[a].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=a!==-1?[o.slice(0,a).concat([o[a].split(l)[0]]),[o[a].split(l)[1]].concat(o.slice(a+1))]:[o];return c=c.map(function(d,f){var h=(f===1?!i:i)?"height":"width",p=!1;return d.reduce(function(m,v){return m[m.length-1]===""&&["+","-"].indexOf(v)!==-1?(m[m.length-1]=v,p=!0,m):p?(m[m.length-1]+=v,p=!1,m):m.concat(v)},[]).map(function(m){return HL(m,h,t,n)})}),c.forEach(function(d,f){d.forEach(function(h,p){Jy(h)&&(s[f]+=h*(d[p-1]==="-"?-1:1))})}),s}function VL(e,t){var n=t.offset,r=e.placement,s=e.offsets,i=s.popper,o=s.reference,a=r.split("-")[0],l=void 0;return Jy(+n)?l=[+n,0]:l=UL(n,i,o,a),a==="left"?(i.top+=l[0],i.left-=l[1]):a==="right"?(i.top+=l[0],i.left+=l[1]):a==="top"?(i.left+=l[0],i.top-=l[1]):a==="bottom"&&(i.left+=l[0],i.top+=l[1]),e.popper=i,e}function $L(e,t){var n=t.boundariesElement||Go(e.instance.popper);e.instance.reference===n&&(n=Go(n));var r=Zy("transform"),s=e.instance.popper.style,i=s.top,o=s.left,a=s[r];s.top="",s.left="",s[r]="";var l=Xy(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);s.top=i,s.left=o,s[r]=a,t.boundaries=l;var c=t.priority,d=e.offsets.popper,f={primary:function(p){var m=d[p];return d[p]<l[p]&&!t.escapeWithReference&&(m=Math.max(d[p],l[p])),Yo({},p,m)},secondary:function(p){var m=p==="right"?"left":"top",v=d[m];return d[p]>l[p]&&!t.escapeWithReference&&(v=Math.min(d[m],l[p]-(p==="right"?d.width:d.height))),Yo({},m,v)}};return c.forEach(function(h){var p=["left","top"].indexOf(h)!==-1?"primary":"secondary";d=Gn({},d,f[p](h))}),e.offsets.popper=d,e}function WL(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var s=e.offsets,i=s.reference,o=s.popper,a=["bottom","top"].indexOf(n)!==-1,l=a?"left":"top",c=a?"width":"height",d={start:Yo({},l,i[l]),end:Yo({},l,i[l]+i[c]-o[c])};e.offsets.popper=Gn({},o,d[r])}return e}function GL(e){if(!bT(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=cc(e.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function qL(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,s=r.popper,i=r.reference,o=["left","right"].indexOf(n)!==-1,a=["top","left"].indexOf(n)===-1;return s[o?"left":"top"]=i[n]-(a?s[o?"width":"height"]:0),e.placement=bd(t),e.offsets.popper=zs(s),e}var YL={shift:{order:100,enabled:!0,fn:WL},offset:{order:200,enabled:!0,fn:VL,offset:0},preventOverflow:{order:300,enabled:!0,fn:$L,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:zL},arrow:{order:500,enabled:!0,fn:LL,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:BL,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:qL},hide:{order:800,enabled:!0,fn:GL},computeStyle:{order:850,enabled:!0,fn:ML,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:DL,onLoad:IL,gpuAcceleration:void 0}},QL={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:YL},Ll=function(){function e(t,n){var r=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};bL(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=yL(this.update.bind(this)),this.options=Gn({},e.Defaults,s),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Gn({},e.Defaults.modifiers,s.modifiers)).forEach(function(o){r.options.modifiers[o]=Gn({},e.Defaults.modifiers[o]||{},s.modifiers?s.modifiers[o]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(o){return Gn({name:o},r.options.modifiers[o])}).sort(function(o,a){return o.order-a.order}),this.modifiers.forEach(function(o){o.enabled&&aT(o.onLoad)&&o.onLoad(r.reference,r.popper,r.options,o,r.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return wL(e,[{key:"update",value:function(){return CL.call(this)}},{key:"destroy",value:function(){return TL.call(this)}},{key:"enableEventListeners",value:function(){return AL.call(this)}},{key:"disableEventListeners",value:function(){return _L.call(this)}}]),e}();Ll.Utils=(typeof window<"u"?window:global).PopperUtils;Ll.placements=wT;Ll.Defaults=QL;var KL=["innerHTML","ownerDocument","style","attributes","nodeValue"],XL=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],ZL=["bigint","boolean","null","number","string","symbol","undefined"];function Af(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(JL(t))return t}function xr(e){return function(t){return Af(t)===e}}function JL(e){return XL.includes(e)}function da(e){return function(t){return typeof t===e}}function eF(e){return ZL.includes(e)}function z(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(z.array(e))return"Array";if(z.plainFunction(e))return"Function";var t=Af(e);return t||"Object"}z.array=Array.isArray;z.arrayOf=function(e,t){return!z.array(e)&&!z.function(t)?!1:e.every(function(n){return t(n)})};z.asyncGeneratorFunction=function(e){return Af(e)==="AsyncGeneratorFunction"};z.asyncFunction=xr("AsyncFunction");z.bigint=da("bigint");z.boolean=function(e){return e===!0||e===!1};z.date=xr("Date");z.defined=function(e){return!z.undefined(e)};z.domElement=function(e){return z.object(e)&&!z.plainObject(e)&&e.nodeType===1&&z.string(e.nodeName)&&KL.every(function(t){return t in e})};z.empty=function(e){return z.string(e)&&e.length===0||z.array(e)&&e.length===0||z.object(e)&&!z.map(e)&&!z.set(e)&&Object.keys(e).length===0||z.set(e)&&e.size===0||z.map(e)&&e.size===0};z.error=xr("Error");z.function=da("function");z.generator=function(e){return z.iterable(e)&&z.function(e.next)&&z.function(e.throw)};z.generatorFunction=xr("GeneratorFunction");z.instanceOf=function(e,t){return!e||!t?!1:Object.getPrototypeOf(e)===t.prototype};z.iterable=function(e){return!z.nullOrUndefined(e)&&z.function(e[Symbol.iterator])};z.map=xr("Map");z.nan=function(e){return Number.isNaN(e)};z.null=function(e){return e===null};z.nullOrUndefined=function(e){return z.null(e)||z.undefined(e)};z.number=function(e){return da("number")(e)&&!z.nan(e)};z.numericString=function(e){return z.string(e)&&e.length>0&&!Number.isNaN(Number(e))};z.object=function(e){return!z.nullOrUndefined(e)&&(z.function(e)||typeof e=="object")};z.oneOf=function(e,t){return z.array(e)?e.indexOf(t)>-1:!1};z.plainFunction=xr("Function");z.plainObject=function(e){if(Af(e)!=="Object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};z.primitive=function(e){return z.null(e)||eF(typeof e)};z.promise=xr("Promise");z.propertyOf=function(e,t,n){if(!z.object(e)||!t)return!1;var r=e[t];return z.function(n)?n(r):z.defined(r)};z.regexp=xr("RegExp");z.set=xr("Set");z.string=da("string");z.symbol=da("symbol");z.undefined=da("undefined");z.weakMap=xr("WeakMap");z.weakSet=xr("WeakSet");function ST(e){return function(t){return typeof t===e}}var tF=ST("function"),nF=function(e){return e===null},hb=function(e){return Object.prototype.toString.call(e).slice(8,-1)==="RegExp"},pb=function(e){return!rF(e)&&!nF(e)&&(tF(e)||typeof e=="object")},rF=ST("undefined"),Zm=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function sF(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=n;r--!==0;)if(!vn(e[r],t[r]))return!1;return!0}function iF(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e.buffer),r=new DataView(t.buffer),s=e.byteLength;s--;)if(n.getUint8(s)!==r.getUint8(s))return!1;return!0}function oF(e,t){var n,r,s,i;if(e.size!==t.size)return!1;try{for(var o=Zm(e.entries()),a=o.next();!a.done;a=o.next()){var l=a.value;if(!t.has(l[0]))return!1}}catch(f){n={error:f}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var c=Zm(e.entries()),d=c.next();!d.done;d=c.next()){var l=d.value;if(!vn(l[1],t.get(l[0])))return!1}}catch(f){s={error:f}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(s)throw s.error}}return!0}function aF(e,t){var n,r;if(e.size!==t.size)return!1;try{for(var s=Zm(e.entries()),i=s.next();!i.done;i=s.next()){var o=i.value;if(!t.has(o[0]))return!1}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return!0}function vn(e,t){if(e===t)return!0;if(e&&pb(e)&&t&&pb(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return sF(e,t);if(e instanceof Map&&t instanceof Map)return oF(e,t);if(e instanceof Set&&t instanceof Set)return aF(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return iF(e,t);if(hb(e)&&hb(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var s=n.length;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[s]))return!1;for(var s=n.length;s--!==0;){var i=n[s];if(!(i==="_owner"&&e.$$typeof)&&!vn(e[i],t[i]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}function lF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(function(n){return z.string(n)||z.array(n)||z.plainObject(n)})}function cF(e,t,n){return kT(e,t)?[e,t].every(z.array)?!e.some(xb(n))&&t.some(xb(n)):[e,t].every(z.plainObject)?!Object.entries(e).some(vb(n))&&Object.entries(t).some(vb(n)):t===n:!1}function mb(e,t,n){var r=n.actual,s=n.key,i=n.previous,o=n.type,a=_r(e,s),l=_r(t,s),c=[a,l].every(z.number)&&(o==="increased"?a<l:a>l);return z.undefined(r)||(c=c&&l===r),z.undefined(i)||(c=c&&a===i),c}function gb(e,t,n){var r=n.key,s=n.type,i=n.value,o=_r(e,r),a=_r(t,r),l=s==="added"?o:a,c=s==="added"?a:o;if(!z.nullOrUndefined(i)){if(z.defined(l)){if(z.array(l)||z.plainObject(l))return cF(l,c,i)}else return vn(c,i);return!1}return[o,a].every(z.array)?!c.every(e0(l)):[o,a].every(z.plainObject)?uF(Object.keys(l),Object.keys(c)):![o,a].every(function(d){return z.primitive(d)&&z.defined(d)})&&(s==="added"?!z.defined(o)&&z.defined(a):z.defined(o)&&!z.defined(a))}function yb(e,t,n){var r=n===void 0?{}:n,s=r.key,i=_r(e,s),o=_r(t,s);if(!kT(i,o))throw new TypeError("Inputs have different types");if(!lF(i,o))throw new TypeError("Inputs don't have length");return[i,o].every(z.plainObject)&&(i=Object.keys(i),o=Object.keys(o)),[i,o]}function vb(e){return function(t){var n=t[0],r=t[1];return z.array(e)?vn(e,r)||e.some(function(s){return vn(s,r)||z.array(r)&&e0(r)(s)}):z.plainObject(e)&&e[n]?!!e[n]&&vn(e[n],r):vn(e,r)}}function uF(e,t){return t.some(function(n){return!e.includes(n)})}function xb(e){return function(t){return z.array(e)?e.some(function(n){return vn(n,t)||z.array(t)&&e0(t)(n)}):vn(e,t)}}function Aa(e,t){return z.array(e)?e.some(function(n){return vn(n,t)}):vn(e,t)}function e0(e){return function(t){return e.some(function(n){return vn(n,t)})}}function kT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(z.array)||e.every(z.number)||e.every(z.plainObject)||e.every(z.string)}function _r(e,t){if(z.plainObject(e)||z.array(e)){if(z.string(t)){var n=t.split(".");return n.reduce(function(r,s){return r&&r[s]},e)}return z.number(t)?e[t]:e}return e}function dF(e,t){if([e,t].some(z.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(function(f){return z.plainObject(f)||z.array(f)}))throw new Error("Expected plain objects or array");var n=function(f,h){try{return gb(e,t,{key:f,type:"added",value:h})}catch{return!1}},r=function(f,h,p){try{var m=_r(e,f),v=_r(t,f),b=z.defined(h),y=z.defined(p);if(b||y){var g=y?Aa(p,m):!Aa(h,m),w=Aa(h,v);return g&&w}return[m,v].every(z.array)||[m,v].every(z.plainObject)?!vn(m,v):m!==v}catch{return!1}},s=function(f,h,p){if(!z.defined(f))return!1;try{var m=_r(e,f),v=_r(t,f),b=z.defined(p);return Aa(h,m)&&(b?Aa(p,v):!b)}catch{return!1}},i=function(f,h){return z.defined(f)?r(f,h):!1},o=function(f,h,p){if(!z.defined(f))return!1;try{return mb(e,t,{key:f,actual:h,previous:p,type:"decreased"})}catch{return!1}},a=function(f){try{var h=yb(e,t,{key:f}),p=h[0],m=h[1];return!!p.length&&!m.length}catch{return!1}},l=function(f){try{var h=yb(e,t,{key:f}),p=h[0],m=h[1];return!p.length&&!!m.length}catch{return!1}},c=function(f,h,p){if(!z.defined(f))return!1;try{return mb(e,t,{key:f,actual:h,previous:p,type:"increased"})}catch{return!1}},d=function(f,h){try{return gb(e,t,{key:f,type:"removed",value:h})}catch{return!1}};return{added:n,changed:r,changedFrom:s,changedTo:i,decreased:o,emptied:a,filled:l,increased:c,removed:d}}function bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bb(Object(n),!0).forEach(function(r){Kt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CT(r.key),r)}}function dc(e,t,n){return t&&fF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kt(e,t,n){return t=CT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jm(e,t)}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wd(e)}function Jm(e,t){return Jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Jm(e,t)}function hF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pF(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function ET(e,t){if(e==null)return{};var n=pF(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ur(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mF(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ur(e)}function hc(e){var t=hF();return function(){var r=wd(e),s;if(t){var i=wd(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return mF(this,s)}}function gF(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CT(e){var t=gF(e,"string");return typeof t=="symbol"?t:String(t)}var yF={flip:{padding:20},preventOverflow:{padding:10}},vF="The typeValidator argument must be a function with the signature function(props, propName, componentName).",xF="The error message is optional, but must be a string if provided.";function bF(e,t,n,r){return typeof e=="boolean"?e:typeof e=="function"?e(t,n,r):e?!!e:!1}function wF(e,t){return Object.hasOwnProperty.call(e,t)}function SF(e,t,n,r){return new Error("Required ".concat(e[t]," `").concat(t,"` was not specified in `").concat(n,"`."))}function kF(e,t){if(typeof e!="function")throw new TypeError(vF);if(t&&typeof t!="string")throw new TypeError(xF)}function wb(e,t,n){return kF(e,n),function(r,s,i){for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return bF(t,r,s,i)?wF(r,s)?e.apply(void 0,[r,s,i].concat(a)):SF(r,s,i):e.apply(void 0,[r,s,i].concat(a))}}var Ve={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},ja=tl.createPortal!==void 0;function Er(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Yh(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function Yc(e){var t=e.title,n=e.data,r=e.warn,s=r===void 0?!1:r,i=e.debug,o=i===void 0?!1:i,a=s?console.warn||console.error:console.log;o&&t&&n&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach(function(l){z.plainObject(l)&&l.key?a.apply(console,[l.key,l.value]):a.apply(console,[l])}):a.apply(console,[n]),console.groupEnd())}function EF(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.addEventListener(t,n,r)}function CF(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.removeEventListener(t,n,r)}function TF(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s;s=function(o){n(o),CF(e,t,s)},EF(e,t,s,r)}function Sb(){}var TT=function(e){fc(n,e);var t=hc(n);function n(){return uc(this,n),t.apply(this,arguments)}return dc(n,[{key:"componentDidMount",value:function(){Er()&&(this.node||this.appendNode(),ja||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Er()&&(ja||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!Er()||!this.node||(ja||tl.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var s=this.props,i=s.id,o=s.zIndex;this.node||(this.node=document.createElement("div"),i&&(this.node.id=i),o&&(this.node.style.zIndex=o),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!Er())return null;var s=this.props,i=s.children,o=s.setRef;if(this.node||this.appendNode(),ja)return tl.createPortal(i,this.node);var a=tl.unstable_renderSubtreeIntoContainer(this,i.length>1?H.createElement("div",null,i):i[0],this.node);return o(a),null}},{key:"renderReact16",value:function(){var s=this.props,i=s.hasChildren,o=s.placement,a=s.target;return i?this.renderPortal():a||o==="center"?this.renderPortal():null}},{key:"render",value:function(){return ja?this.renderReact16():null}}]),n}(H.Component);Kt(TT,"propTypes",{children:oe.oneOfType([oe.element,oe.array]),hasChildren:oe.bool,id:oe.oneOfType([oe.string,oe.number]),placement:oe.string,setRef:oe.func.isRequired,target:oe.oneOfType([oe.object,oe.string]),zIndex:oe.number});var NT=function(e){fc(n,e);var t=hc(n);function n(){return uc(this,n),t.apply(this,arguments)}return dc(n,[{key:"parentStyle",get:function(){var s=this.props,i=s.placement,o=s.styles,a=o.arrow.length,l={pointerEvents:"none",position:"absolute",width:"100%"};return i.startsWith("top")?(l.bottom=0,l.left=0,l.right=0,l.height=a):i.startsWith("bottom")?(l.left=0,l.right=0,l.top=0,l.height=a):i.startsWith("left")?(l.right=0,l.top=0,l.bottom=0):i.startsWith("right")&&(l.left=0,l.top=0),l}},{key:"render",value:function(){var s=this.props,i=s.placement,o=s.setArrowRef,a=s.styles,l=a.arrow,c=l.color,d=l.display,f=l.length,h=l.margin,p=l.position,m=l.spread,v={display:d,position:p},b,y=m,g=f;return i.startsWith("top")?(b="0,0 ".concat(y/2,",").concat(g," ").concat(y,",0"),v.bottom=0,v.marginLeft=h,v.marginRight=h):i.startsWith("bottom")?(b="".concat(y,",").concat(g," ").concat(y/2,",0 0,").concat(g),v.top=0,v.marginLeft=h,v.marginRight=h):i.startsWith("left")?(g=m,y=f,b="0,0 ".concat(y,",").concat(g/2," 0,").concat(g),v.right=0,v.marginTop=h,v.marginBottom=h):i.startsWith("right")&&(g=m,y=f,b="".concat(y,",").concat(g," ").concat(y,",0 0,").concat(g/2),v.left=0,v.marginTop=h,v.marginBottom=h),H.createElement("div",{className:"__floater__arrow",style:this.parentStyle},H.createElement("span",{ref:o,style:v},H.createElement("svg",{width:y,height:g,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},H.createElement("polygon",{points:b,fill:c}))))}}]),n}(H.Component);Kt(NT,"propTypes",{placement:oe.string.isRequired,setArrowRef:oe.func.isRequired,styles:oe.object.isRequired});var NF=["color","height","width"];function AT(e){var t=e.handleClick,n=e.styles,r=n.color,s=n.height,i=n.width,o=ET(n,NF);return H.createElement("button",{"aria-label":"close",onClick:t,style:o,type:"button"},H.createElement("svg",{width:"".concat(i,"px"),height:"".concat(s,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},H.createElement("g",null,H.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}AT.propTypes={handleClick:oe.func.isRequired,styles:oe.object.isRequired};function jT(e){var t=e.content,n=e.footer,r=e.handleClick,s=e.open,i=e.positionWrapper,o=e.showCloseButton,a=e.title,l=e.styles,c={content:H.isValidElement(t)?t:H.createElement("div",{className:"__floater__content",style:l.content},t)};return a&&(c.title=H.isValidElement(a)?a:H.createElement("div",{className:"__floater__title",style:l.title},a)),n&&(c.footer=H.isValidElement(n)?n:H.createElement("div",{className:"__floater__footer",style:l.footer},n)),(o||i)&&!z.boolean(s)&&(c.close=H.createElement(AT,{styles:l.close,handleClick:r})),H.createElement("div",{className:"__floater__container",style:l.container},c.close,c.title,c.content,c.footer)}jT.propTypes={content:oe.node.isRequired,footer:oe.node,handleClick:oe.func.isRequired,open:oe.bool,positionWrapper:oe.bool.isRequired,showCloseButton:oe.bool.isRequired,styles:oe.object.isRequired,title:oe.node};var _T=function(e){fc(n,e);var t=hc(n);function n(){return uc(this,n),t.apply(this,arguments)}return dc(n,[{key:"style",get:function(){var s=this.props,i=s.disableAnimation,o=s.component,a=s.placement,l=s.hideArrow,c=s.status,d=s.styles,f=d.arrow.length,h=d.floater,p=d.floaterCentered,m=d.floaterClosing,v=d.floaterOpening,b=d.floaterWithAnimation,y=d.floaterWithComponent,g={};return l||(a.startsWith("top")?g.padding="0 0 ".concat(f,"px"):a.startsWith("bottom")?g.padding="".concat(f,"px 0 0"):a.startsWith("left")?g.padding="0 ".concat(f,"px 0 0"):a.startsWith("right")&&(g.padding="0 0 0 ".concat(f,"px"))),[Ve.OPENING,Ve.OPEN].indexOf(c)!==-1&&(g=lt(lt({},g),v)),c===Ve.CLOSING&&(g=lt(lt({},g),m)),c===Ve.OPEN&&!i&&(g=lt(lt({},g),b)),a==="center"&&(g=lt(lt({},g),p)),o&&(g=lt(lt({},g),y)),lt(lt({},h),g)}},{key:"render",value:function(){var s=this.props,i=s.component,o=s.handleClick,a=s.hideArrow,l=s.setFloaterRef,c=s.status,d={},f=["__floater"];return i?H.isValidElement(i)?d.content=H.cloneElement(i,{closeFn:o}):d.content=i({closeFn:o}):d.content=H.createElement(jT,this.props),c===Ve.OPEN&&f.push("__floater__open"),a||(d.arrow=H.createElement(NT,this.props)),H.createElement("div",{ref:l,className:f.join(" "),style:this.style},H.createElement("div",{className:"__floater__body"},d.content,d.arrow))}}]),n}(H.Component);Kt(_T,"propTypes",{component:oe.oneOfType([oe.func,oe.element]),content:oe.node,disableAnimation:oe.bool.isRequired,footer:oe.node,handleClick:oe.func.isRequired,hideArrow:oe.bool.isRequired,open:oe.bool,placement:oe.string.isRequired,positionWrapper:oe.bool.isRequired,setArrowRef:oe.func.isRequired,setFloaterRef:oe.func.isRequired,showCloseButton:oe.bool,status:oe.string.isRequired,styles:oe.object.isRequired,title:oe.node});var RT=function(e){fc(n,e);var t=hc(n);function n(){return uc(this,n),t.apply(this,arguments)}return dc(n,[{key:"render",value:function(){var s=this.props,i=s.children,o=s.handleClick,a=s.handleMouseEnter,l=s.handleMouseLeave,c=s.setChildRef,d=s.setWrapperRef,f=s.style,h=s.styles,p;if(i)if(H.Children.count(i)===1)if(!H.isValidElement(i))p=H.createElement("span",null,i);else{var m=z.function(i.type)?"innerRef":"ref";p=H.cloneElement(H.Children.only(i),Kt({},m,c))}else p=i;return p?H.createElement("span",{ref:d,style:lt(lt({},h),f),onClick:o,onMouseEnter:a,onMouseLeave:l},p):null}}]),n}(H.Component);Kt(RT,"propTypes",{children:oe.node,handleClick:oe.func.isRequired,handleMouseEnter:oe.func.isRequired,handleMouseLeave:oe.func.isRequired,setChildRef:oe.func.isRequired,setWrapperRef:oe.func.isRequired,style:oe.object,styles:oe.object.isRequired});var AF={zIndex:100};function jF(e){var t=ar(AF,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}var _F=["arrow","flip","offset"],RF=["position","top","right","bottom","left"],t0=function(e){fc(n,e);var t=hc(n);function n(r){var s;return uc(this,n),s=t.call(this,r),Kt(Ur(s),"setArrowRef",function(i){s.arrowRef=i}),Kt(Ur(s),"setChildRef",function(i){s.childRef=i}),Kt(Ur(s),"setFloaterRef",function(i){s.floaterRef=i}),Kt(Ur(s),"setWrapperRef",function(i){s.wrapperRef=i}),Kt(Ur(s),"handleTransitionEnd",function(){var i=s.state.status,o=s.props.callback;s.wrapperPopper&&s.wrapperPopper.instance.update(),s.setState({status:i===Ve.OPENING?Ve.OPEN:Ve.IDLE},function(){var a=s.state.status;o(a===Ve.OPEN?"open":"close",s.props)})}),Kt(Ur(s),"handleClick",function(){var i=s.props,o=i.event,a=i.open;if(!z.boolean(a)){var l=s.state,c=l.positionWrapper,d=l.status;(s.event==="click"||s.event==="hover"&&c)&&(Yc({title:"click",data:[{event:o,status:d===Ve.OPEN?"closing":"opening"}],debug:s.debug}),s.toggle())}}),Kt(Ur(s),"handleMouseEnter",function(){var i=s.props,o=i.event,a=i.open;if(!(z.boolean(a)||Yh())){var l=s.state.status;s.event==="hover"&&l===Ve.IDLE&&(Yc({title:"mouseEnter",data:[{key:"originalEvent",value:o}],debug:s.debug}),clearTimeout(s.eventDelayTimeout),s.toggle())}}),Kt(Ur(s),"handleMouseLeave",function(){var i=s.props,o=i.event,a=i.eventDelay,l=i.open;if(!(z.boolean(l)||Yh())){var c=s.state,d=c.status,f=c.positionWrapper;s.event==="hover"&&(Yc({title:"mouseLeave",data:[{key:"originalEvent",value:o}],debug:s.debug}),a?[Ve.OPENING,Ve.OPEN].indexOf(d)!==-1&&!f&&!s.eventDelayTimeout&&(s.eventDelayTimeout=setTimeout(function(){delete s.eventDelayTimeout,s.toggle()},a*1e3)):s.toggle(Ve.IDLE))}}),s.state={currentPlacement:r.placement,needsUpdate:!1,positionWrapper:r.wrapperOptions.position&&!!r.target,status:Ve.INIT,statusWrapper:Ve.INIT},s._isMounted=!1,s.hasMounted=!1,Er()&&window.addEventListener("load",function(){s.popper&&s.popper.instance.update(),s.wrapperPopper&&s.wrapperPopper.instance.update()}),s}return dc(n,[{key:"componentDidMount",value:function(){if(Er()){var s=this.state.positionWrapper,i=this.props,o=i.children,a=i.open,l=i.target;this._isMounted=!0,Yc({title:"init",data:{hasChildren:!!o,hasTarget:!!l,isControlled:z.boolean(a),positionWrapper:s,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!o&&l&&z.boolean(a)}}},{key:"componentDidUpdate",value:function(s,i){if(Er()){var o=this.props,a=o.autoOpen,l=o.open,c=o.target,d=o.wrapperOptions,f=dF(i,this.state),h=f.changedFrom,p=f.changed;if(s.open!==l){var m;z.boolean(l)&&(m=l?Ve.OPENING:Ve.CLOSING),this.toggle(m)}(s.wrapperOptions.position!==d.position||s.target!==c)&&this.changeWrapperPosition(this.props),p("status",Ve.IDLE)&&l?this.toggle(Ve.OPEN):h("status",Ve.INIT,Ve.IDLE)&&a&&this.toggle(Ve.OPEN),this.popper&&p("status",Ve.OPENING)&&this.popper.instance.update(),this.floaterRef&&(p("status",Ve.OPENING)||p("status",Ve.CLOSING))&&TF(this.floaterRef,"transitionend",this.handleTransitionEnd),p("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){Er()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var s=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,o=this.state.positionWrapper,a=this.props,l=a.disableFlip,c=a.getPopper,d=a.hideArrow,f=a.offset,h=a.placement,p=a.wrapperOptions,m=h==="top"||h==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(h==="center")this.setState({status:Ve.IDLE});else if(i&&this.floaterRef){var v=this.options,b=v.arrow,y=v.flip,g=v.offset,w=ET(v,_F);new Ll(i,this.floaterRef,{placement:h,modifiers:lt({arrow:lt({enabled:!d,element:this.arrowRef},b),flip:lt({enabled:!l,behavior:m},y),offset:lt({offset:"0, ".concat(f,"px")},g)},w),onCreate:function(E){var C;if(s.popper=E,!((C=s.floaterRef)!==null&&C!==void 0&&C.isConnected)){s.setState({needsUpdate:!0});return}c(E,"floater"),s._isMounted&&s.setState({currentPlacement:E.placement,status:Ve.IDLE}),h!==E.placement&&setTimeout(function(){E.instance.update()},1)},onUpdate:function(E){s.popper=E;var C=s.state.currentPlacement;s._isMounted&&E.placement!==C&&s.setState({currentPlacement:E.placement})}})}if(o){var S=z.undefined(p.offset)?0:p.offset;new Ll(this.target,this.wrapperRef,{placement:p.placement||h,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(S,"px")},flip:{enabled:!1}},onCreate:function(E){s.wrapperPopper=E,s._isMounted&&s.setState({statusWrapper:Ve.IDLE}),c(E,"wrapper"),h!==E.placement&&setTimeout(function(){E.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var s=this;this.floaterRefInterval=setInterval(function(){var i;(i=s.floaterRef)!==null&&i!==void 0&&i.isConnected&&(clearInterval(s.floaterRefInterval),s.setState({needsUpdate:!1}),s.initPopper())},50)}},{key:"changeWrapperPosition",value:function(s){var i=s.target,o=s.wrapperOptions;this.setState({positionWrapper:o.position&&!!i})}},{key:"toggle",value:function(s){var i=this.state.status,o=i===Ve.OPEN?Ve.CLOSING:Ve.OPENING;z.undefined(s)||(o=s),this.setState({status:o})}},{key:"debug",get:function(){var s=this.props.debug;return s||Er()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var s=this.props,i=s.disableHoverToClick,o=s.event;return o==="hover"&&Yh()&&!i?"click":o}},{key:"options",get:function(){var s=this.props.options;return ar(yF,s||{})}},{key:"styles",get:function(){var s=this,i=this.state,o=i.status,a=i.positionWrapper,l=i.statusWrapper,c=this.props.styles,d=ar(jF(c),c);if(a){var f;[Ve.IDLE].indexOf(o)===-1||[Ve.IDLE].indexOf(l)===-1?f=d.wrapperPosition:f=this.wrapperPopper.styles,d.wrapper=lt(lt({},d.wrapper),f)}if(this.target){var h=window.getComputedStyle(this.target);this.wrapperStyles?d.wrapper=lt(lt({},d.wrapper),this.wrapperStyles):["relative","static"].indexOf(h.position)===-1&&(this.wrapperStyles={},a||(RF.forEach(function(p){s.wrapperStyles[p]=h[p]}),d.wrapper=lt(lt({},d.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return d}},{key:"target",get:function(){if(!Er())return null;var s=this.props.target;return s?z.domElement(s)?s:document.querySelector(s):this.childRef||this.wrapperRef}},{key:"render",value:function(){var s=this.state,i=s.currentPlacement,o=s.positionWrapper,a=s.status,l=this.props,c=l.children,d=l.component,f=l.content,h=l.disableAnimation,p=l.footer,m=l.hideArrow,v=l.id,b=l.open,y=l.showCloseButton,g=l.style,w=l.target,S=l.title,k=H.createElement(RT,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:g,styles:this.styles.wrapper},c),E={};return o?E.wrapperInPortal=k:E.wrapperAsChildren=k,H.createElement("span",null,H.createElement(TT,{hasChildren:!!c,id:v,placement:i,setRef:this.setFloaterRef,target:w,zIndex:this.styles.options.zIndex},H.createElement(_T,{component:d,content:f,disableAnimation:h,footer:p,handleClick:this.handleClick,hideArrow:m||i==="center",open:b,placement:i,positionWrapper:o,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:y,status:a,styles:this.styles,title:S}),E.wrapperInPortal),E.wrapperAsChildren)}}]),n}(H.Component);Kt(t0,"propTypes",{autoOpen:oe.bool,callback:oe.func,children:oe.node,component:wb(oe.oneOfType([oe.func,oe.element]),function(e){return!e.content}),content:wb(oe.node,function(e){return!e.component}),debug:oe.bool,disableAnimation:oe.bool,disableFlip:oe.bool,disableHoverToClick:oe.bool,event:oe.oneOf(["hover","click"]),eventDelay:oe.number,footer:oe.node,getPopper:oe.func,hideArrow:oe.bool,id:oe.oneOfType([oe.string,oe.number]),offset:oe.number,open:oe.bool,options:oe.object,placement:oe.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:oe.bool,style:oe.object,styles:oe.object,target:oe.oneOfType([oe.object,oe.string]),title:oe.node,wrapperOptions:oe.shape({offset:oe.number,placement:oe.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:oe.bool})});Kt(t0,"defaultProps",{autoOpen:!1,callback:Sb,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:Sb,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var DF=Object.defineProperty,IF=(e,t,n)=>t in e?DF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,me=(e,t,n)=>IF(e,typeof t!="symbol"?t+"":t,n),Ke={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},or={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},Re={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},Fe={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function vs(){var e;return!!(typeof window<"u"&&((e=window.document)!=null&&e.createElement))}function DT(e){return e?e.getBoundingClientRect():null}function PF(e=!1){const{body:t,documentElement:n}=document;if(!t||!n)return 0;if(e){const r=[t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight].sort((i,o)=>i-o),s=Math.floor(r.length/2);return r.length%2===0?(r[s-1]+r[s])/2:r[s]}return Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function qr(e){if(typeof e=="string")try{return document.querySelector(e)}catch{return null}return e}function OF(e){return!e||e.nodeType!==1?null:getComputedStyle(e)}function Fl(e,t,n){if(!e)return xi();const r=nT(e);if(r){if(r.isSameNode(xi()))return n?document:xi();if(!(r.scrollHeight>r.offsetHeight)&&!t)return r.style.overflow="initial",xi()}return r}function jf(e,t){if(!e)return!1;const n=Fl(e,t);return n?!n.isSameNode(xi()):!1}function MF(e){return e.offsetParent!==document.body}function Qo(e,t="fixed"){if(!e||!(e instanceof HTMLElement))return!1;const{nodeName:n}=e,r=OF(e);return n==="BODY"||n==="HTML"?!1:r&&r.position===t?!0:e.parentNode?Qo(e.parentNode,t):!1}function LF(e){var t;if(!e)return!1;let n=e;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:r,visibility:s}=getComputedStyle(n);if(r==="none"||s==="hidden")return!1}n=(t=n.parentElement)!=null?t:null}return!0}function FF(e,t,n){var r,s,i;const o=DT(e),a=Fl(e,n),l=jf(e,n),c=Qo(e);let d=0,f=(r=o==null?void 0:o.top)!=null?r:0;if(l&&c){const h=(s=e==null?void 0:e.offsetTop)!=null?s:0,p=(i=a==null?void 0:a.scrollTop)!=null?i:0;f=h-p}else a instanceof HTMLElement&&(d=a.scrollTop,!l&&!Qo(e)&&(f+=d),a.isSameNode(xi())||(f+=xi().scrollTop));return Math.floor(f-t)}function BF(e,t,n){var r;if(!e)return 0;const{offsetTop:s=0,scrollTop:i=0}=(r=nT(e))!=null?r:{};let o=e.getBoundingClientRect().top+i;s&&(jf(e,n)||MF(e))&&(o-=s);const a=Math.floor(o-t);return a<0?0:a}function xi(){var e;return(e=document.scrollingElement)!=null?e:document.documentElement}function zF(e,t){const{duration:n,element:r}=t;return new Promise((s,i)=>{const{scrollTop:o}=r,a=e>o?e-o:o-e;$M.top(r,e,{duration:a<100?50:n},l=>l&&l.message!=="Element already at target scroll position"?i(l):s())})}var _a=ur.createPortal!==void 0;function IT(e=navigator.userAgent){let t=e;return typeof window>"u"?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":window.opera||e.includes(" OPR/")?t="opera":typeof window.InstallTrigger<"u"?t="firefox":window.chrome?t="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function Ru(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function Cr(e,t={}){const{defaultValue:n,step:r,steps:s}=t;let i=ob(e);if(i)(i.includes("{step}")||i.includes("{steps}"))&&r&&s&&(i=i.replace("{step}",r.toString()).replace("{steps}",s.toString()));else if(x.isValidElement(e)&&!Object.values(e.props).length&&Ru(e.type)==="function"){const o=e.type({});i=Cr(o,t)}else i=ob(n);return i}function HF(e,t){return!he.plainObject(e)||!he.array(t)?!1:Object.keys(e).every(n=>t.includes(n))}function UF(e){const t=/^#?([\da-f])([\da-f])([\da-f])$/i,n=e.replace(t,(s,i,o,a)=>i+i+o+o+a+a),r=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(n);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function kb(e){return e.disableBeacon||e.placement==="center"}function Eb(){return!["chrome","safari","firefox","opera"].includes(IT())}function Pi({data:e,debug:t=!1,title:n,warn:r=!1}){const s=r?console.warn||console.error:console.log;t&&(n&&e?(console.groupCollapsed(`%creact-joyride: ${n}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(e)?e.forEach(i=>{he.plainObject(i)&&i.key?s.apply(console,[i.key,i.value]):s.apply(console,[i])}):s.apply(console,[e]),console.groupEnd()):console.error("Missing title or data props"))}function VF(e){return Object.keys(e)}function PT(e,...t){if(!he.plainObject(e))throw new TypeError("Expected an object");const n={};for(const r in e)({}).hasOwnProperty.call(e,r)&&(t.includes(r)||(n[r]=e[r]));return n}function $F(e,...t){if(!he.plainObject(e))throw new TypeError("Expected an object");if(!t.length)return e;const n={};for(const r in e)({}).hasOwnProperty.call(e,r)&&t.includes(r)&&(n[r]=e[r]);return n}function eg(e,t,n){const r=i=>i.replace("{step}",String(t)).replace("{steps}",String(n));if(Ru(e)==="string")return r(e);if(!x.isValidElement(e))return e;const{children:s}=e.props;if(Ru(s)==="string"&&s.includes("{step}"))return x.cloneElement(e,{children:r(s)});if(Array.isArray(s))return x.cloneElement(e,{children:s.map(i=>typeof i=="string"?r(i):eg(i,t,n))});if(Ru(e.type)==="function"&&!Object.values(e.props).length){const i=e.type({});return eg(i,t,n)}return e}function WF(e){const{isFirstStep:t,lifecycle:n,previousLifecycle:r,scrollToFirstStep:s,step:i,target:o}=e;return!i.disableScrolling&&(!t||s||n===Re.TOOLTIP)&&i.placement!=="center"&&(!i.isFixed||!Qo(o))&&r!==n&&[Re.BEACON,Re.TOOLTIP].includes(n)}var GF={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},OT={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},qF={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:OT,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},YF={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},QF={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},Ra={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},Cb={borderRadius:4,position:"absolute"};function KF(e,t){var n,r,s,i,o;const{floaterProps:a,styles:l}=e,c=ar((n=t.floaterProps)!=null?n:{},a??{}),d=ar(l??{},(r=t.styles)!=null?r:{}),f=ar(QF,d.options||{}),h=t.placement==="center"||t.disableBeacon;let{width:p}=f;window.innerWidth>480&&(p=380),"width"in f&&(p=typeof f.width=="number"&&window.innerWidth<f.width?window.innerWidth-30:f.width);const m={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:f.zIndex},v={beacon:{...Ra,display:h?"none":"inline-block",height:f.beaconSize,position:"relative",width:f.beaconSize,zIndex:f.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:f.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${UF(f.primaryColor).join(",")}, 0.2)`,border:`2px solid ${f.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:f.backgroundColor,borderRadius:5,boxSizing:"border-box",color:f.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:p},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...Ra,backgroundColor:f.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...Ra,color:f.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...Ra,color:f.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...Ra,color:f.textColor,fontSize:14},overlay:{...m,backgroundColor:f.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...m},overlayLegacyCenter:{...m,backgroundColor:f.overlayColor},spotlight:{...Cb,backgroundColor:"gray"},spotlightLegacy:{...Cb,boxShadow:`0 0 0 9999px ${f.overlayColor}, ${f.spotlightShadow}`},floaterStyles:{arrow:{color:(o=(i=(s=c==null?void 0:c.styles)==null?void 0:s.arrow)==null?void 0:i.color)!=null?o:f.arrowColor},options:{zIndex:f.zIndex+100}},options:f};return ar(v,d)}function XF(e){return $F(e,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function io(e,t){var n,r,s,i,o,a;const l=t??{},c=ar.all([qF,XF(e),l],{isMergeableObject:he.plainObject}),d=KF(e,c),f=jf(qr(c.target),c.disableScrollParentFix),h=ar.all([GF,(n=e.floaterProps)!=null?n:{},(r=c.floaterProps)!=null?r:{}]);return h.offset=c.offset,h.styles=ar((s=h.styles)!=null?s:{},d.floaterStyles),h.offset+=(o=(i=e.spotlightPadding)!=null?i:c.spotlightPadding)!=null?o:0,c.placementBeacon&&h.wrapperOptions&&(h.wrapperOptions.placement=c.placementBeacon),f&&h.options.preventOverflow&&(h.options.preventOverflow.boundariesElement="window"),{...c,locale:ar.all([OT,(a=e.locale)!=null?a:{},c.locale||{}]),floaterProps:h,styles:PT(d,"floaterStyles")}}function MT(e,t=!1){return he.plainObject(e)?e.target?!0:(Pi({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(Pi({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function Tb(e,t=!1){return he.array(e)?e.every(n=>MT(n,t)):(Pi({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var LT={action:"init",controlled:!1,index:0,lifecycle:Re.INIT,origin:null,size:0,status:Fe.IDLE},Nb=VF(PT(LT,"controlled","size")),ZF=class{constructor(t){me(this,"beaconPopper"),me(this,"tooltipPopper"),me(this,"data",new Map),me(this,"listener"),me(this,"store",new Map),me(this,"addListener",i=>{this.listener=i}),me(this,"setSteps",i=>{const{size:o,status:a}=this.getState(),l={size:i.length,status:a};this.data.set("steps",i),a===Fe.WAITING&&!o&&i.length&&(l.status=Fe.RUNNING),this.setState(l)}),me(this,"getPopper",i=>i==="beacon"?this.beaconPopper:this.tooltipPopper),me(this,"setPopper",(i,o)=>{i==="beacon"?this.beaconPopper=o:this.tooltipPopper=o}),me(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),me(this,"close",(i=null)=>{const{index:o,status:a}=this.getState();a===Fe.RUNNING&&this.setState({...this.getNextState({action:Ke.CLOSE,index:o+1,origin:i})})}),me(this,"go",i=>{const{controlled:o,status:a}=this.getState();if(o||a!==Fe.RUNNING)return;const l=this.getSteps()[i];this.setState({...this.getNextState({action:Ke.GO,index:i}),status:l?a:Fe.FINISHED})}),me(this,"info",()=>this.getState()),me(this,"next",()=>{const{index:i,status:o}=this.getState();o===Fe.RUNNING&&this.setState(this.getNextState({action:Ke.NEXT,index:i+1}))}),me(this,"open",()=>{const{status:i}=this.getState();i===Fe.RUNNING&&this.setState({...this.getNextState({action:Ke.UPDATE,lifecycle:Re.TOOLTIP})})}),me(this,"prev",()=>{const{index:i,status:o}=this.getState();o===Fe.RUNNING&&this.setState({...this.getNextState({action:Ke.PREV,index:i-1})})}),me(this,"reset",(i=!1)=>{const{controlled:o}=this.getState();o||this.setState({...this.getNextState({action:Ke.RESET,index:0}),status:i?Fe.RUNNING:Fe.READY})}),me(this,"skip",()=>{const{status:i}=this.getState();i===Fe.RUNNING&&this.setState({action:Ke.SKIP,lifecycle:Re.INIT,status:Fe.SKIPPED})}),me(this,"start",i=>{const{index:o,size:a}=this.getState();this.setState({...this.getNextState({action:Ke.START,index:he.number(i)?i:o},!0),status:a?Fe.RUNNING:Fe.WAITING})}),me(this,"stop",(i=!1)=>{const{index:o,status:a}=this.getState();[Fe.FINISHED,Fe.SKIPPED].includes(a)||this.setState({...this.getNextState({action:Ke.STOP,index:o+(i?1:0)}),status:Fe.PAUSED})}),me(this,"update",i=>{var o,a;if(!HF(i,Nb))throw new Error(`State is not valid. Valid keys: ${Nb.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...i,action:(o=i.action)!=null?o:Ke.UPDATE,origin:(a=i.origin)!=null?a:null},!0)})});const{continuous:n=!1,stepIndex:r,steps:s=[]}=t??{};this.setState({action:Ke.INIT,controlled:he.number(r),continuous:n,index:he.number(r)?r:0,lifecycle:Re.INIT,origin:null,status:s.length?Fe.READY:Fe.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(s)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...LT}}getNextState(t,n=!1){var r,s,i,o,a;const{action:l,controlled:c,index:d,size:f,status:h}=this.getState(),p=he.number(t.index)?t.index:d,m=c&&!n?d:Math.min(Math.max(p,0),f);return{action:(r=t.action)!=null?r:l,controlled:c,index:m,lifecycle:(s=t.lifecycle)!=null?s:Re.INIT,origin:(i=t.origin)!=null?i:null,size:(o=t.size)!=null?o:f,status:m===f?Fe.FINISHED:(a=t.status)!=null?a:h}}getSteps(){const t=this.data.get("steps");return Array.isArray(t)?t:[]}hasUpdatedState(t){const n=JSON.stringify(t),r=JSON.stringify(this.getState());return n!==r}setState(t,n=!1){const r=this.getState(),{action:s,index:i,lifecycle:o,origin:a=null,size:l,status:c}={...r,...t};this.store.set("action",s),this.store.set("index",i),this.store.set("lifecycle",o),this.store.set("origin",a),this.store.set("size",l),this.store.set("status",c),n&&(this.store.set("controlled",t.controlled),this.store.set("continuous",t.continuous)),this.listener&&this.hasUpdatedState(r)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function JF(e){return new ZF(e)}function e4({styles:e}){return x.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:e})}var t4=e4,n4=class extends x.Component{constructor(){super(...arguments),me(this,"isActive",!1),me(this,"resizeTimeout"),me(this,"scrollTimeout"),me(this,"scrollParent"),me(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),me(this,"hideSpotlight",()=>{const{continuous:e,disableOverlay:t,lifecycle:n}=this.props,r=[Re.INIT,Re.BEACON,Re.COMPLETE,Re.ERROR];return t||(e?r.includes(n):n!==Re.TOOLTIP)}),me(this,"handleMouseMove",e=>{const{mouseOverSpotlight:t}=this.state,{height:n,left:r,position:s,top:i,width:o}=this.spotlightStyles,a=s==="fixed"?e.clientY:e.pageY,l=s==="fixed"?e.clientX:e.pageX,c=a>=i&&a<=i+n,f=l>=r&&l<=r+o&&c;f!==t&&this.updateState({mouseOverSpotlight:f})}),me(this,"handleScroll",()=>{const{target:e}=this.props,t=qr(e);if(this.scrollParent!==document){const{isScrolling:n}=this.state;n||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else Qo(t,"sticky")&&this.updateState({})}),me(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:e,disableScrolling:t,disableScrollParentFix:n=!1,target:r}=this.props,s=qr(r);this.scrollParent=Fl(s??document.body,n,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){var t;const{disableScrollParentFix:n,lifecycle:r,spotlightClicks:s,target:i}=this.props,{changed:o}=vd(e,this.props);if(o("target")||o("disableScrollParentFix")){const a=qr(i);this.scrollParent=Fl(a??document.body,n,!0)}o("lifecycle",Re.TOOLTIP)&&((t=this.scrollParent)==null||t.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:a}=this.state;a||this.updateState({showSpotlight:!0})},100)),(o("spotlightClicks")||o("disableOverlay")||o("lifecycle"))&&(s&&r===Re.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==Re.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var e;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(e=this.scrollParent)==null||e.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:e}=this.state,{disableOverlayClose:t,placement:n,styles:r}=this.props;let s=r.overlay;return Eb()&&(s=n==="center"?r.overlayLegacyCenter:r.overlayLegacy),{cursor:t?"default":"pointer",height:PF(),pointerEvents:e?"none":"auto",...s}}get spotlightStyles(){var e,t,n;const{showSpotlight:r}=this.state,{disableScrollParentFix:s=!1,spotlightClicks:i,spotlightPadding:o=0,styles:a,target:l}=this.props,c=qr(l),d=DT(c),f=Qo(c),h=FF(c,o,s);return{...Eb()?a.spotlightLegacy:a.spotlight,height:Math.round(((e=d==null?void 0:d.height)!=null?e:0)+o*2),left:Math.round(((t=d==null?void 0:d.left)!=null?t:0)-o),opacity:r?1:0,pointerEvents:i?"none":"auto",position:f?"fixed":"absolute",top:h,transition:"opacity 0.2s",width:Math.round(((n=d==null?void 0:d.width)!=null?n:0)+o*2)}}updateState(e){this.isActive&&this.setState(t=>({...t,...e}))}render(){const{showSpotlight:e}=this.state,{onClickOverlay:t,placement:n}=this.props,{hideSpotlight:r,overlayStyles:s,spotlightStyles:i}=this;if(r())return null;let o=n!=="center"&&e&&x.createElement(t4,{styles:i});if(IT()==="safari"){const{mixBlendMode:a,zIndex:l,...c}=s;o=x.createElement("div",{style:{...c}},o),delete s.backgroundColor}return x.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:t,role:"presentation",style:s},o)}},r4=class extends x.Component{constructor(){super(...arguments),me(this,"node",null)}componentDidMount(){const{id:e}=this.props;vs()&&(this.node=document.createElement("div"),this.node.id=e,document.body.appendChild(this.node),_a||this.renderReact15())}componentDidUpdate(){vs()&&(_a||this.renderReact15())}componentWillUnmount(){!vs()||!this.node||(_a||ur.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!vs())return;const{children:e}=this.props;this.node&&ur.unstable_renderSubtreeIntoContainer(this,e,this.node)}renderReact16(){if(!vs()||!_a)return null;const{children:e}=this.props;return this.node?ur.createPortal(e,this.node):null}render(){return _a?this.renderReact16():null}},s4=class{constructor(e,t){if(me(this,"element"),me(this,"options"),me(this,"canBeTabbed",n=>{const{tabIndex:r}=n;return r===null||r<0?!1:this.canHaveFocus(n)}),me(this,"canHaveFocus",n=>{const r=/input|select|textarea|button|object/,s=n.nodeName.toLowerCase();return(r.test(s)&&!n.getAttribute("disabled")||s==="a"&&!!n.getAttribute("href"))&&this.isVisible(n)}),me(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),me(this,"handleKeyDown",n=>{const{code:r="Tab"}=this.options;n.code===r&&this.interceptTab(n)}),me(this,"interceptTab",n=>{n.preventDefault();const r=this.findValidTabElements(),{shiftKey:s}=n;if(!r.length)return;let i=document.activeElement?r.indexOf(document.activeElement):0;i===-1||!s&&i+1===r.length?i=0:s&&i===0?i=r.length-1:i+=s?-1:1,r[i].focus()}),me(this,"isHidden",n=>{const r=n.offsetWidth<=0&&n.offsetHeight<=0,s=window.getComputedStyle(n);return r&&!n.innerHTML?!0:r&&s.getPropertyValue("overflow")!=="visible"||s.getPropertyValue("display")==="none"}),me(this,"isVisible",n=>{let r=n;for(;r;)if(r instanceof HTMLElement){if(r===document.body)break;if(this.isHidden(r))return!1;r=r.parentNode}return!0}),me(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),me(this,"checkFocus",n=>{document.activeElement!==n&&(n.focus(),window.requestAnimationFrame(()=>this.checkFocus(n)))}),me(this,"setFocus",()=>{const{selector:n}=this.options;if(!n)return;const r=this.element.querySelector(n);r&&window.requestAnimationFrame(()=>this.checkFocus(r))}),!(e instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=e,this.options=t,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},i4=class extends x.Component{constructor(e){if(super(e),me(this,"beacon",null),me(this,"setBeaconRef",s=>{this.beacon=s}),e.beaconComponent)return;const t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",e.nonce&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),t.appendChild(n)}componentDidMount(){const{shouldFocus:e}=this.props;setTimeout(()=>{he.domElement(this.beacon)&&e&&this.beacon.focus()},0)}componentWillUnmount(){const e=document.getElementById("joyride-beacon-animation");e!=null&&e.parentNode&&e.parentNode.removeChild(e)}render(){const{beaconComponent:e,continuous:t,index:n,isLastStep:r,locale:s,onClickOrHover:i,size:o,step:a,styles:l}=this.props,c=Cr(s.open),d={"aria-label":c,onClick:i,onMouseEnter:i,ref:this.setBeaconRef,title:c};let f;if(e){const h=e;f=x.createElement(h,{continuous:t,index:n,isLastStep:r,size:o,step:a,...d})}else f=x.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:l.beacon,type:"button",...d},x.createElement("span",{style:l.beaconInner}),x.createElement("span",{style:l.beaconOuter}));return f}};function o4({styles:e,...t}){const{color:n,height:r,width:s,...i}=e;return H.createElement("button",{style:i,type:"button",...t},H.createElement("svg",{height:typeof r=="number"?`${r}px`:r,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof s=="number"?`${s}px`:s,xmlns:"http://www.w3.org/2000/svg"},H.createElement("g",null,H.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}var a4=o4;function l4(e){const{backProps:t,closeProps:n,index:r,isLastStep:s,primaryProps:i,skipProps:o,step:a,tooltipProps:l}=e,{content:c,hideBackButton:d,hideCloseButton:f,hideFooter:h,showSkipButton:p,styles:m,title:v}=a,b={};return b.primary=x.createElement("button",{"data-test-id":"button-primary",style:m.buttonNext,type:"button",...i}),p&&!s&&(b.skip=x.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:m.buttonSkip,type:"button",...o})),!d&&r>0&&(b.back=x.createElement("button",{"data-test-id":"button-back",style:m.buttonBack,type:"button",...t})),b.close=!f&&x.createElement(a4,{"data-test-id":"button-close",styles:m.buttonClose,...n}),x.createElement("div",{key:"JoyrideTooltip","aria-label":Cr(v??c),className:"react-joyride__tooltip",style:m.tooltip,...l},x.createElement("div",{style:m.tooltipContainer},v&&x.createElement("h1",{"aria-label":Cr(v),style:m.tooltipTitle},v),x.createElement("div",{style:m.tooltipContent},c)),!h&&x.createElement("div",{style:m.tooltipFooter},x.createElement("div",{style:m.tooltipFooterSpacer},b.skip),b.back,b.primary),b.close)}var c4=l4,u4=class extends x.Component{constructor(){super(...arguments),me(this,"handleClickBack",e=>{e.preventDefault();const{helpers:t}=this.props;t.prev()}),me(this,"handleClickClose",e=>{e.preventDefault();const{helpers:t}=this.props;t.close("button_close")}),me(this,"handleClickPrimary",e=>{e.preventDefault();const{continuous:t,helpers:n}=this.props;if(!t){n.close("button_primary");return}n.next()}),me(this,"handleClickSkip",e=>{e.preventDefault();const{helpers:t}=this.props;t.skip()}),me(this,"getElementsProps",()=>{const{continuous:e,index:t,isLastStep:n,setTooltipRef:r,size:s,step:i}=this.props,{back:o,close:a,last:l,next:c,nextLabelWithProgress:d,skip:f}=i.locale,h=Cr(o),p=Cr(a),m=Cr(l),v=Cr(c),b=Cr(f);let y=a,g=p;if(e){if(y=c,g=v,i.showProgress&&!n){const w=Cr(d,{step:t+1,steps:s});y=eg(d,t+1,s),g=w}n&&(y=l,g=m)}return{backProps:{"aria-label":h,children:o,"data-action":"back",onClick:this.handleClickBack,role:"button",title:h},closeProps:{"aria-label":p,children:a,"data-action":"close",onClick:this.handleClickClose,role:"button",title:p},primaryProps:{"aria-label":g,children:y,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:g},skipProps:{"aria-label":b,children:f,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:b},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}})}render(){const{continuous:e,index:t,isLastStep:n,setTooltipRef:r,size:s,step:i}=this.props,{beaconComponent:o,tooltipComponent:a,...l}=i;let c;if(a){const d={...this.getElementsProps(),continuous:e,index:t,isLastStep:n,size:s,step:l,setTooltipRef:r},f=a;c=x.createElement(f,{...d})}else c=x.createElement(c4,{...this.getElementsProps(),continuous:e,index:t,isLastStep:n,size:s,step:i});return c}},d4=class extends x.Component{constructor(){super(...arguments),me(this,"scope",null),me(this,"tooltip",null),me(this,"handleClickHoverBeacon",e=>{const{step:t,store:n}=this.props;e.type==="mouseenter"&&t.event!=="hover"||n.update({lifecycle:Re.TOOLTIP})}),me(this,"setTooltipRef",e=>{this.tooltip=e}),me(this,"setPopper",(e,t)=>{var n;const{action:r,lifecycle:s,step:i,store:o}=this.props;t==="wrapper"?o.setPopper("beacon",e):o.setPopper("tooltip",e),o.getPopper("beacon")&&(o.getPopper("tooltip")||i.placement==="center")&&s===Re.INIT&&o.update({action:r,lifecycle:Re.READY}),(n=i.floaterProps)!=null&&n.getPopper&&i.floaterProps.getPopper(e,t)}),me(this,"renderTooltip",e=>{const{continuous:t,helpers:n,index:r,size:s,step:i}=this.props;return x.createElement(u4,{continuous:t,helpers:n,index:r,isLastStep:r+1===s,setTooltipRef:this.setTooltipRef,size:s,step:i,...e})})}componentDidMount(){const{debug:e,index:t}=this.props;Pi({title:`step:${t}`,data:[{key:"props",value:this.props}],debug:e})}componentDidUpdate(e){var t;const{action:n,callback:r,continuous:s,controlled:i,debug:o,helpers:a,index:l,lifecycle:c,shouldScroll:d,status:f,step:h,store:p}=this.props,{changed:m,changedFrom:v}=vd(e,this.props),b=a.info(),y=s&&n!==Ke.CLOSE&&(l>0||n===Ke.PREV),g=m("action")||m("index")||m("lifecycle")||m("status"),w=v("lifecycle",[Re.TOOLTIP,Re.INIT],Re.INIT),S=m("action",[Ke.NEXT,Ke.PREV,Ke.SKIP,Ke.CLOSE]),k=i&&l===e.index;if(S&&(w||k)&&r({...b,index:e.index,lifecycle:Re.COMPLETE,step:e.step,type:or.STEP_AFTER}),h.placement==="center"&&f===Fe.RUNNING&&m("index")&&n!==Ke.START&&c===Re.INIT&&p.update({lifecycle:Re.READY}),g){const E=qr(h.target),C=!!E;C&&LF(E)?(v("status",Fe.READY,Fe.RUNNING)||v("lifecycle",Re.INIT,Re.READY))&&r({...b,step:h,type:or.STEP_BEFORE}):(console.warn(C?"Target not visible":"Target not mounted",h),r({...b,type:or.TARGET_NOT_FOUND,step:h}),i||p.update({index:l+(n===Ke.PREV?-1:1)}))}v("lifecycle",Re.INIT,Re.READY)&&p.update({lifecycle:kb(h)||y?Re.TOOLTIP:Re.BEACON}),m("index")&&Pi({title:`step:${c}`,data:[{key:"props",value:this.props}],debug:o}),m("lifecycle",Re.BEACON)&&r({...b,step:h,type:or.BEACON}),m("lifecycle",Re.TOOLTIP)&&(r({...b,step:h,type:or.TOOLTIP}),d&&this.tooltip&&(this.scope=new s4(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),v("lifecycle",[Re.TOOLTIP,Re.INIT],Re.INIT)&&((t=this.scope)==null||t.removeScope(),p.cleanupPoppers())}componentWillUnmount(){var e;(e=this.scope)==null||e.removeScope()}get open(){const{lifecycle:e,step:t}=this.props;return kb(t)||e===Re.TOOLTIP}render(){const{continuous:e,debug:t,index:n,nonce:r,shouldScroll:s,size:i,step:o}=this.props,a=qr(o.target);return!MT(o)||!he.domElement(a)?null:x.createElement("div",{key:`JoyrideStep-${n}`,className:"react-joyride__step"},x.createElement(t0,{...o.floaterProps,component:this.renderTooltip,debug:t,getPopper:this.setPopper,id:`react-joyride-step-${n}`,open:this.open,placement:o.placement,target:o.target},x.createElement(i4,{beaconComponent:o.beaconComponent,continuous:e,index:n,isLastStep:n+1===i,locale:o.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:s,size:i,step:o,styles:o.styles})))}},FT=class extends x.Component{constructor(e){super(e),me(this,"helpers"),me(this,"store"),me(this,"callback",o=>{const{callback:a}=this.props;he.function(a)&&a(o)}),me(this,"handleKeyboard",o=>{const{index:a,lifecycle:l}=this.state,{steps:c}=this.props,d=c[a];l===Re.TOOLTIP&&o.code==="Escape"&&d&&!d.disableCloseOnEsc&&this.store.close("keyboard")}),me(this,"handleClickOverlay",()=>{const{index:o}=this.state,{steps:a}=this.props;io(this.props,a[o]).disableOverlayClose||this.helpers.close("overlay")}),me(this,"syncState",o=>{this.setState(o)});const{debug:t,getHelpers:n,run:r=!0,stepIndex:s}=e;this.store=JF({...e,controlled:r&&he.number(s)}),this.helpers=this.store.getHelpers();const{addListener:i}=this.store;Pi({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:t}),i(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!vs())return;const{debug:e,disableCloseOnEsc:t,run:n,steps:r}=this.props,{start:s}=this.store;Tb(r,e)&&n&&s(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(e,t){if(!vs())return;const{action:n,controlled:r,index:s,status:i}=this.state,{debug:o,run:a,stepIndex:l,steps:c}=this.props,{stepIndex:d,steps:f}=e,{reset:h,setSteps:p,start:m,stop:v,update:b}=this.store,{changed:y}=vd(e,this.props),{changed:g,changedFrom:w}=vd(t,this.state),S=io(this.props,c[s]),k=!un(f,c),E=he.number(l)&&y("stepIndex"),C=qr(S.target);if(k&&(Tb(c,o)?p(c):console.warn("Steps are not valid",c)),y("run")&&(a?m(l):v()),E){let A=he.number(d)&&d<l?Ke.NEXT:Ke.PREV;n===Ke.STOP&&(A=Ke.START),[Fe.FINISHED,Fe.SKIPPED].includes(i)||b({action:n===Ke.CLOSE?Ke.CLOSE:A,index:l,lifecycle:Re.INIT})}!r&&i===Fe.RUNNING&&s===0&&!C&&(this.store.update({index:s+1}),this.callback({...this.state,type:or.TARGET_NOT_FOUND,step:S}));const T={...this.state,index:s,step:S};if(g("action",[Ke.NEXT,Ke.PREV,Ke.SKIP,Ke.CLOSE])&&g("status",Fe.PAUSED)){const A=io(this.props,c[t.index]);this.callback({...T,index:t.index,lifecycle:Re.COMPLETE,step:A,type:or.STEP_AFTER})}if(g("status",[Fe.FINISHED,Fe.SKIPPED])){const A=io(this.props,c[t.index]);r||this.callback({...T,index:t.index,lifecycle:Re.COMPLETE,step:A,type:or.STEP_AFTER}),this.callback({...T,type:or.TOUR_END,step:A,index:t.index}),h()}else w("status",[Fe.IDLE,Fe.READY],Fe.RUNNING)?this.callback({...T,type:or.TOUR_START}):(g("status")||g("action",Ke.RESET))&&this.callback({...T,type:or.TOUR_STATUS});this.scrollToStep(t)}componentWillUnmount(){const{disableCloseOnEsc:e}=this.props;e||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(e){const{index:t,lifecycle:n,status:r}=this.state,{debug:s,disableScrollParentFix:i=!1,scrollDuration:o,scrollOffset:a=20,scrollToFirstStep:l=!1,steps:c}=this.props,d=io(this.props,c[t]),f=qr(d.target),h=WF({isFirstStep:t===0,lifecycle:n,previousLifecycle:e.lifecycle,scrollToFirstStep:l,step:d,target:f});if(r===Fe.RUNNING&&h){const p=jf(f,i),m=Fl(f,i);let v=Math.floor(BF(f,a,i))||0;Pi({title:"scrollToStep",data:[{key:"index",value:t},{key:"lifecycle",value:n},{key:"status",value:r}],debug:s});const b=this.store.getPopper("beacon"),y=this.store.getPopper("tooltip");if(n===Re.BEACON&&b){const{offsets:g,placement:w}=b;!["bottom"].includes(w)&&!p&&(v=Math.floor(g.popper.top-a))}else if(n===Re.TOOLTIP&&y){const{flipped:g,offsets:w,placement:S}=y;["top","right","left"].includes(S)&&!g&&!p?v=Math.floor(w.popper.top-a):v-=d.spotlightPadding}v=v>=0?v:0,r===Fe.RUNNING&&zF(v,{element:m,duration:o}).then(()=>{setTimeout(()=>{var g;(g=this.store.getPopper("tooltip"))==null||g.instance.update()},10)})}}render(){if(!vs())return null;const{index:e,lifecycle:t,status:n}=this.state,{continuous:r=!1,debug:s=!1,nonce:i,scrollToFirstStep:o=!1,steps:a}=this.props,l=n===Fe.RUNNING,c={};if(l&&a[e]){const d=io(this.props,a[e]);c.step=x.createElement(d4,{...this.state,callback:this.callback,continuous:r,debug:s,helpers:this.helpers,nonce:i,shouldScroll:!d.disableScrolling&&(e!==0||o),step:d,store:this.store}),c.overlay=x.createElement(r4,{id:"react-joyride-portal"},x.createElement(n4,{...d,continuous:r,debug:s,lifecycle:t,onClickOverlay:this.handleClickOverlay}))}return x.createElement("div",{className:"react-joyride"},c.step,c.overlay)}};me(FT,"defaultProps",YF);var f4=FT;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ee=(e,t)=>{const n=x.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>x.createElement("svg",{ref:d,...h4,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${p4(e)}`,a].join(" "),...c},[...t.map(([f,h])=>x.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=Ee("BookHeart",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["path",{d:"M16 8.2C16 7 15 6 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9C9 6 8 7 8 8.2c0 .6.3 1.2.7 1.6h0C10 11.1 12 13 12 13s2-1.9 3.3-3.1h0c.4-.4.7-1 .7-1.7z",key:"1dlbw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=Ee("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=Ee("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=Ee("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Ee("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=Ee("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Ee("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=Ee("ChevronsDown",[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=Ee("ChevronsUp",[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=Ee("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=Ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=Ee("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=Ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=Ee("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=Ee("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=Ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=Ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=Ee("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=Ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=Ee("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=Ee("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=Ee("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=Ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=Ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=Ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Ee("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=Ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=Ee("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jb="/app/assets/Logo-BrCGK4jM.png",Mi=({size:e="md",variant:t="full"})=>{const n={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12"},r={sm:"text-lg",md:"text-xl",lg:"text-2xl"};return t==="icon"?u.jsx("div",{className:`${n[e]} flex items-center justify-center`,children:u.jsx("img",{src:jb,alt:"FamConomy Logo",className:"w-full h-full object-contain"})}):u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`${n[e]} flex items-center justify-center`,children:u.jsx("img",{src:jb,alt:"FamConomy Logo",className:"w-full h-full object-contain"})}),u.jsx("span",{className:`ml-3 font-semibold bg-gradient-to-r from-primary-500 via-secondary-500 to-accent-500 bg-clip-text text-transparent ${r[e]}`,children:"FamConomy"})]})},F4=({isOpen:e,onClose:t,onSubmit:n})=>{const[r,s]=x.useState("general"),[i,o]=x.useState(""),[a,l]=x.useState(),c=x.useRef(null),d=h=>{h.preventDefault(),n(r,i,a),o(""),l(void 0),t()},f=h=>{h.target.files&&h.target.files.length>0&&l(h.target.files[0])};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:u.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl p-6 w-full max-w-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-neutral-800 dark:text-neutral-200",children:"Submit Feedback"}),u.jsx("button",{onClick:t,className:"text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200",children:u.jsx(Oi,{size:24})})]}),u.jsxs("form",{onSubmit:d,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"feedbackType",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Feedback Type"}),u.jsxs("select",{id:"feedbackType",value:r,onChange:h=>s(h.target.value),className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-700 text-neutral-900 dark:text-neutral-200 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[u.jsx("option",{value:"general",children:"General Feedback"}),u.jsx("option",{value:"bug",children:"Report a Bug"}),u.jsx("option",{value:"feature",children:"Feature Request"})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Message"}),u.jsx("textarea",{id:"message",rows:4,value:i,onChange:h=>o(h.target.value),className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-700 text-neutral-900 dark:text-neutral-200 focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Screenshot (optional)"}),u.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-neutral-300 dark:border-neutral-600 border-dashed rounded-md",children:u.jsxs("div",{className:"space-y-1 text-center",children:[u.jsx("svg",{className:"mx-auto h-12 w-12 text-neutral-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:u.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),u.jsxs("div",{className:"flex text-sm text-neutral-600 dark:text-neutral-400",children:[u.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white dark:bg-neutral-700 rounded-md font-medium text-primary-600 hover:text-primary-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-primary-500",children:[u.jsx("span",{children:"Upload a file"}),u.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:f,ref:c,accept:"image/*"})]}),u.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-500",children:"PNG, JPG, GIF up to 10MB"})]})}),a&&u.jsxs("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mt-2",children:["Selected file: ",a.name]})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md text-sm font-medium text-neutral-700 dark:text-neutral-200 hover:bg-neutral-50 dark:hover:bg-neutral-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-neutral-500",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Submit"})]})]})]})}):null},B4=async(e,t,n)=>{const r=new FormData;return r.append("feedbackType",e),r.append("message",t),n&&r.append("screenshot",n),ie.post("/feedback",r,{headers:{"Content-Type":"multipart/form-data"}})},z4=({onNavigate:e,collapsed:t,onCollapsedChange:n})=>{const[r,s]=x.useState(!1),[i,o]=x.useState(!1),{logout:a,user:l}=vt(),c=Zn(),d=x.useMemo(()=>zt("sidebar"),[]),f=()=>{s(!r),document.documentElement.classList.toggle("dark")},h=()=>{c("/"),e==null||e()},p=async(b,y,g)=>{try{await B4(b,y,g),alert("Feedback submitted successfully!")}catch(w){d.error("Error submitting feedback:",w),alert("There was an error submitting your feedback. Please try again.")}},m=[{id:"nav-dashboard",name:"Dashboard",path:"/",icon:u.jsx(E4,{size:20}),color:"hover:bg-primary-100 hover:text-primary-600 dark:hover:bg-primary-900/30 dark:hover:text-primary-400"},{id:"nav-calendar",name:"Calendar",path:"/calendar",icon:u.jsx(ng,{size:20}),color:"hover:bg-secondary-100 hover:text-secondary-600 dark:hover:bg-secondary-900/30 dark:hover:text-secondary-400"},{id:"nav-tasks",name:"Tasks",path:"/tasks",icon:u.jsx(rg,{size:20}),color:"hover:bg-accent-100 hover:text-accent-600 dark:hover:bg-accent-900/30 dark:hover:text-accent-400"},{id:"nav-gigs",name:"Gigs",path:"/gigs",icon:u.jsx(y4,{size:20}),color:"hover:bg-highlight-yellow/20 hover:text-highlight-yellow dark:hover:bg-highlight-yellow/30"},{id:"nav-messages",name:"Messages",path:"/messages",icon:u.jsx(VT,{size:20}),color:"hover:bg-highlight-teal/20 hover:text-highlight-teal dark:hover:bg-highlight-teal/30"},{id:"nav-shopping",name:"Shopping",path:"/shopping",icon:u.jsx(Sd,{size:20}),color:"hover:bg-primary-100 hover:text-primary-600 dark:hover:bg-primary-900/30 dark:hover:text-primary-400"},{id:"nav-budget",name:"Finance",path:"/budget",icon:u.jsx(WT,{size:20}),color:"hover:bg-secondary-100 hover:text-secondary-600 dark:hover:bg-secondary-900/30 dark:hover:text-secondary-400"},{id:"nav-family",name:"Family",path:"/family",icon:u.jsx(kd,{size:20}),color:"hover:bg-accent-100 hover:text-accent-600 dark:hover:bg-accent-900/30 dark:hover:text-accent-400"},{id:"nav-journal",name:"Journal",path:"/journal",icon:u.jsx(BT,{size:20}),color:"hover:bg-highlight-teal/20 hover:text-highlight-teal dark:hover:bg-highlight-teal/30"},{id:"nav-settings",name:"Settings",path:"/settings",icon:u.jsx(GT,{size:20}),color:"hover:bg-neutral-100 hover:text-neutral-600 dark:hover:bg-neutral-700 dark:hover:text-neutral-300"}],v=()=>{e==null||e()};return u.jsxs(u.Fragment,{children:[u.jsxs("aside",{className:`bg-white/80 dark:bg-neutral-800/80 backdrop-blur-lg h-screen border-r border-neutral-200 dark:border-neutral-700 transition-all duration-300 flex flex-col ${t?"w-20":"w-64"}`,children:[u.jsxs("div",{className:"flex items-center p-4 border-b border-neutral-200 dark:border-neutral-700 h-16",children:[u.jsx("button",{onClick:h,className:"flex-1",children:t?u.jsx(Mi,{variant:"icon",size:"sm"}):u.jsx(Mi,{size:"md"})}),u.jsx("button",{onClick:()=>n(!t),className:"p-1 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-700 text-neutral-500 dark:text-neutral-400",children:t?u.jsx(r0,{size:18}):u.jsx(_f,{size:18})})]}),u.jsx("nav",{className:"flex-1 py-4 overflow-y-auto",children:u.jsx("ul",{className:"px-2 space-y-1",children:m.map(b=>u.jsx("li",{children:u.jsxs(GI,{id:b.id,to:b.path,onClick:v,className:({isActive:y})=>`
                      flex items-center px-3 py-2 rounded-2xl transition-colors ${y?"bg-primary-50 text-primary-500 dark:bg-primary-900/50 dark:text-primary-400":`text-neutral-600 dark:text-neutral-400 ${b.color}`}
                    `,children:[u.jsx("span",{className:"flex-shrink-0",children:b.icon}),!t&&u.jsx("span",{className:"ml-3",children:b.name})]})},b.path))})}),u.jsxs("div",{className:"p-4 border-t border-neutral-200 dark:border-neutral-700 space-y-2",children:[u.jsxs("button",{id:"sidebar-feedback",onClick:()=>o(!0),className:"flex items-center w-full px-3 py-2 text-neutral-600 dark:text-neutral-400 rounded-2xl hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:[u.jsx(A4,{size:20}),!t&&u.jsx("span",{className:"ml-3",children:"Feedback"})]}),u.jsxs("button",{onClick:f,className:"flex items-center w-full px-3 py-2 text-neutral-600 dark:text-neutral-400 rounded-2xl hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:[r?u.jsx(I4,{size:20}):u.jsx(j4,{size:20}),!t&&u.jsx("span",{className:"ml-3",children:"Theme"})]}),u.jsxs("button",{onClick:a,className:"flex items-center w-full px-3 py-2 text-neutral-600 dark:text-neutral-400 rounded-2xl hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:[u.jsx(UT,{size:20}),!t&&u.jsx("span",{className:"ml-3",children:"Logout"})]})]})]}),u.jsx(F4,{isOpen:i,onClose:()=>o(!1),onSubmit:p})]})},H4=({onMenuToggle:e,isMobileMenuOpen:t})=>{var f;const{user:n,logout:r}=vt(),[s,i]=x.useState(!1),[o,a]=x.useState(!1),{notifications:l,markAsRead:c}=ZC(),d=l.filter(h=>!h.readStatus).length;return u.jsxs("header",{className:"bg-white dark:bg-neutral-800 border-b border-neutral-200 dark:border-neutral-700 h-16 px-4 flex items-center justify-between",children:[u.jsx("div",{className:"lg:hidden flex items-center",children:u.jsx("button",{onClick:e,className:"p-2 rounded-2xl text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:t?u.jsx(Oi,{size:20}):u.jsx(N4,{size:20})})}),u.jsx("div",{className:"lg:hidden",children:u.jsx(Mi,{size:"sm"})}),u.jsx("div",{className:"hidden md:flex items-center flex-1 max-w-xl",children:u.jsxs("div",{className:"relative w-full",children:[u.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-2 rounded-2xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"}),u.jsx(s0,{className:"absolute left-3 top-2.5 text-neutral-400 dark:text-neutral-500",size:18})]})}),u.jsxs("div",{className:"flex items-center ml-auto space-x-4",children:[u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>a(!o),className:"p-2 rounded-2xl hover:bg-neutral-100 dark:hover:bg-neutral-700 relative",children:[u.jsx(tg,{size:20,className:"text-neutral-600 dark:text-neutral-400"}),d>0&&u.jsx("span",{className:"absolute top-0 right-0 h-5 w-5 text-xs flex items-center justify-center bg-accent-400 text-white rounded-full",children:d>9?"9+":d})]}),o&&u.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-neutral-800 rounded-2xl shadow-dropdown border border-neutral-200 dark:border-neutral-700 py-2 z-10 animate-fade-in",children:[u.jsx("div",{className:"px-4 py-2 border-b border-neutral-200 dark:border-neutral-700",children:u.jsx("h3",{className:"font-medium text-neutral-900 dark:text-white",children:"Notifications"})}),u.jsx("div",{className:"max-h-96 overflow-y-auto",children:l.length>0?l.slice(0,5).map(h=>!h||!h.createdAt?null:u.jsxs(nn,{to:h.link||"/notifications",onClick:()=>c(h.id),className:`block px-4 py-3 border-b border-neutral-100 dark:border-neutral-700 hover:bg-neutral-50 dark:hover:bg-neutral-700/50 ${h.readStatus?"":"bg-primary-50 dark:bg-primary-900/30"}`,children:[u.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:h.message}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-500 mt-1",children:new Date(h.createdAt).toLocaleString()})]},h.id)):u.jsx("div",{className:"px-4 py-3 text-sm text-neutral-500 dark:text-neutral-400",children:"No notifications"})})]})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>i(!s),className:"flex items-center space-x-2 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-2xl p-2",children:[u.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center text-primary-500 dark:text-primary-400",children:((f=n==null?void 0:n.fullName)==null?void 0:f.charAt(0))||"U"}),u.jsx("span",{className:"hidden md:block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:(n==null?void 0:n.fullName)||"User"})]}),s&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-neutral-800 rounded-2xl shadow-dropdown border border-neutral-200 dark:border-neutral-700 py-1 z-10 animate-fade-in",children:[u.jsx(nn,{to:"/profile",className:"block px-4 py-2 text-sm text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:"Your Profile"}),u.jsx(nn,{to:"/settings",className:"block px-4 py-2 text-sm text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:"Settings"}),u.jsx("hr",{className:"my-1 border-neutral-200 dark:border-neutral-700"}),u.jsx("button",{onClick:r,className:"block w-full text-left px-4 py-2 text-sm text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:"Sign out"})]})]})]})]})},qT=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Rf=x.createContext({}),Df=x.createContext(null),If=typeof document<"u",o0=If?x.useLayoutEffect:x.useEffect,YT=x.createContext({strict:!1}),a0=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),U4="framerAppearId",QT="data-"+a0(U4);function V4(e,t,n,r){const{visualElement:s}=x.useContext(Rf),i=x.useContext(YT),o=x.useContext(Df),a=x.useContext(qT).reducedMotion,l=x.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;x.useInsertionEffect(()=>{c&&c.update(n,o)});const d=x.useRef(!!(n[QT]&&!window.HandoffComplete));return o0(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),x.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function bo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function $4(e,t,n){return x.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):bo(n)&&(n.current=r))},[t])}function Bl(e){return typeof e=="string"||Array.isArray(e)}function Pf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const l0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],c0=["initial",...l0];function Of(e){return Pf(e.animate)||c0.some(t=>Bl(e[t]))}function KT(e){return!!(Of(e)||e.variants)}function W4(e,t){if(Of(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Bl(n)?n:void 0,animate:Bl(r)?r:void 0}}return e.inherit!==!1?t:{}}function G4(e){const{initial:t,animate:n}=W4(e,x.useContext(Rf));return x.useMemo(()=>({initial:t,animate:n}),[_b(t),_b(n)])}function _b(e){return Array.isArray(e)?e.join(" "):e}const Rb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zl={};for(const e in Rb)zl[e]={isEnabled:t=>Rb[e].some(n=>!!t[n])};function q4(e){for(const t in e)zl[t]={...zl[t],...e[t]}}const u0=x.createContext({}),XT=x.createContext({}),Y4=Symbol.for("motionComponentSymbol");function Q4({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&q4(e);function i(a,l){let c;const d={...x.useContext(qT),...a,layoutId:K4(a)},{isStatic:f}=d,h=G4(a),p=r(a,f);if(!f&&If){h.visualElement=V4(s,p,d,t);const m=x.useContext(XT),v=x.useContext(YT).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,v,e,m))}return x.createElement(Rf.Provider,{value:h},c&&h.visualElement?x.createElement(c,{visualElement:h.visualElement,...d}):null,n(s,a,$4(p,h.visualElement,l),p,f,h.visualElement))}const o=x.forwardRef(i);return o[Y4]=s,o}function K4({layoutId:e}){const t=x.useContext(u0).id;return t&&e!==void 0?t+"-"+e:e}function X4(e){function t(r,s={}){return Q4(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const Z4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function d0(e){return typeof e!="string"||e.includes("-")?!1:!!(Z4.indexOf(e)>-1||/[A-Z]/.test(e))}const Ed={};function J4(e){Object.assign(Ed,e)}const mc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vi=new Set(mc);function ZT(e,{layout:t,layoutId:n}){return Vi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ed[e]||e==="opacity")}const Nn=e=>!!(e&&e.getVelocity),e3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},t3=mc.length;function n3(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<t3;o++){const a=mc[o];if(e[a]!==void 0){const l=e3[a]||a;i+=`${l}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const JT=e=>t=>typeof t=="string"&&t.startsWith(e),eN=JT("--"),og=JT("var(--"),r3=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,s3=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Us=(e,t,n)=>Math.min(Math.max(n,e),t),$i={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},nl={...$i,transform:e=>Us(0,1,e)},Kc={...$i,default:1},rl=e=>Math.round(e*1e5)/1e5,Mf=/(-)?([\d]*\.?[\d])+/g,tN=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,i3=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function gc(e){return typeof e=="string"}const yc=e=>({test:t=>gc(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fs=yc("deg"),Pr=yc("%"),Se=yc("px"),o3=yc("vh"),a3=yc("vw"),Db={...Pr,parse:e=>Pr.parse(e)/100,transform:e=>Pr.transform(e*100)},Ib={...$i,transform:Math.round},nN={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,size:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,rotate:fs,rotateX:fs,rotateY:fs,rotateZ:fs,scale:Kc,scaleX:Kc,scaleY:Kc,scaleZ:Kc,skew:fs,skewX:fs,skewY:fs,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:nl,originX:Db,originY:Db,originZ:Se,zIndex:Ib,fillOpacity:nl,strokeOpacity:nl,numOctaves:Ib};function f0(e,t,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=e;let l=!1,c=!1,d=!0;for(const f in t){const h=t[f];if(eN(f)){i[f]=h;continue}const p=nN[f],m=s3(h,p);if(Vi.has(f)){if(l=!0,o[f]=m,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,a[f]=m):s[f]=m}if(t.transform||(l||r?s.transform=n3(e.transform,n,d,r):s.transform&&(s.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:p=0}=a;s.transformOrigin=`${f} ${h} ${p}`}}const h0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rN(e,t,n){for(const r in t)!Nn(t[r])&&!ZT(r,n)&&(e[r]=t[r])}function l3({transformTemplate:e},t,n){return x.useMemo(()=>{const r=h0();return f0(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function c3(e,t,n){const r=e.style||{},s={};return rN(s,r,e),Object.assign(s,l3(e,t,n)),e.transformValues?e.transformValues(s):s}function u3(e,t,n){const r={},s=c3(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const d3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||d3.has(e)}let sN=e=>!Cd(e);function f3(e){e&&(sN=t=>t.startsWith("on")?!Cd(t):e(t))}try{f3(require("@emotion/is-prop-valid").default)}catch{}function h3(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(sN(s)||n===!0&&Cd(s)||!t&&!Cd(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Pb(e,t,n){return typeof e=="string"?e:Se.transform(t+n*e)}function p3(e,t,n){const r=Pb(t,e.x,e.width),s=Pb(n,e.y,e.height);return`${r} ${s}`}const m3={offset:"stroke-dashoffset",array:"stroke-dasharray"},g3={offset:"strokeDashoffset",array:"strokeDasharray"};function y3(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?m3:g3;e[i.offset]=Se.transform(-r);const o=Se.transform(t),a=Se.transform(n);e[i.array]=`${o} ${a}`}function p0(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,f,h){if(f0(e,c,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:v}=e;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=p3(v,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&y3(p,o,a,l,!1)}const iN=()=>({...h0(),attrs:{}}),m0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function v3(e,t,n,r){const s=x.useMemo(()=>{const i=iN();return p0(i,t,{enableHardwareAcceleration:!1},m0(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};rN(i,e.style,e),s.style={...i,...s.style}}return s}function x3(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(d0(n)?v3:u3)(r,i,o,n),d={...h3(r,typeof n=="string",e),...l,ref:s},{children:f}=r,h=x.useMemo(()=>Nn(f)?f.get():f,[f]);return x.createElement(n,{...d,children:h})}}function oN(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const aN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lN(e,t,n,r){oN(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(aN.has(s)?s:a0(s),t.attrs[s])}function g0(e,t){const{style:n}=e,r={};for(const s in n)(Nn(n[s])||t.style&&Nn(t.style[s])||ZT(s,e))&&(r[s]=n[s]);return r}function cN(e,t){const n=g0(e,t);for(const r in e)if(Nn(e[r])||Nn(t[r])){const s=mc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function y0(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function uN(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const Td=e=>Array.isArray(e),b3=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),w3=e=>Td(e)?e[e.length-1]||0:e;function Du(e){const t=Nn(e)?e.get():e;return b3(t)?t.toValue():t}function S3({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const o={latestValues:k3(r,s,i,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const dN=e=>(t,n)=>{const r=x.useContext(Rf),s=x.useContext(Df),i=()=>S3(e,t,r,s);return n?i():uN(i)};function k3(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=Du(i[h]);let{initial:o,animate:a}=e;const l=Of(e),c=KT(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;return f&&typeof f!="boolean"&&!Pf(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=y0(e,p);if(!m)return;const{transitionEnd:v,transition:b,...y}=m;for(const g in y){let w=y[g];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(s[g]=w)}for(const g in v)s[g]=v[g]}),s}const Nt=e=>e;class Ob{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function E3(e){let t=new Ob,n=new Ob,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const f=d&&s,h=f?t:n;return c&&o.add(l),h.add(l)&&f&&s&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),o.has(d)&&(a.schedule(d),e())}s=!1,i&&(i=!1,a.process(l))}};return a}const Xc=["prepare","read","update","preRender","render","postRender"],C3=40;function T3(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Xc.reduce((f,h)=>(f[h]=E3(()=>n=!0),f),{}),o=f=>i[f].process(s),a=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,C3),1),s.timestamp=f,s.isProcessing=!0,Xc.forEach(o),s.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,s.isProcessing||e(a)};return{schedule:Xc.reduce((f,h)=>{const p=i[h];return f[h]=(m,v=!1,b=!1)=>(n||l(),p.schedule(m,v,b)),f},{}),cancel:f=>Xc.forEach(h=>i[h].cancel(f)),state:s,steps:i}}const{schedule:nt,cancel:rs,state:Qt,steps:Qh}=T3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nt,!0),N3={useVisualState:dN({scrapeMotionValuesFromProps:cN,createRenderState:iN,onMount:(e,t,{renderState:n,latestValues:r})=>{nt.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),nt.render(()=>{p0(n,r,{enableHardwareAcceleration:!1},m0(t.tagName),e.transformTemplate),lN(t,n)})}})},A3={useVisualState:dN({scrapeMotionValuesFromProps:g0,createRenderState:h0})};function j3(e,{forwardMotionProps:t=!1},n,r){return{...d0(e)?N3:A3,preloadedFeatures:n,useRender:x3(t),createVisualElement:r,Component:e}}function Yr(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const fN=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Lf(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const _3=e=>t=>fN(t)&&e(t,Lf(t));function Xr(e,t,n,r){return Yr(e,t,_3(n),r)}const R3=(e,t)=>n=>t(e(n)),Ms=(...e)=>e.reduce(R3);function hN(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Mb=hN("dragHorizontal"),Lb=hN("dragVertical");function pN(e){let t=!1;if(e==="y")t=Lb();else if(e==="x")t=Mb();else{const n=Mb(),r=Lb();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function mN(){const e=pN(!0);return e?(e(),!1):!0}class Xs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Fb(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||mN())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&nt.update(()=>a[r](i,o))};return Xr(e.current,n,s,{passive:!e.getProps()[r]})}class D3 extends Xs{mount(){this.unmount=Ms(Fb(this.node,!0),Fb(this.node,!1))}unmount(){}}class I3 extends Xs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ms(Yr(this.node.current,"focus",()=>this.onFocus()),Yr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const gN=(e,t)=>t?e===t?!0:gN(e,t.parentElement):!1;function Kh(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Lf(n))}class P3 extends Xs{constructor(){super(...arguments),this.removeStartListeners=Nt,this.removeEndListeners=Nt,this.removeAccessibleListeners=Nt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Xr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();nt.update(()=>{!f&&!gN(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Xr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ms(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Kh("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&nt.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Yr(this.node.current,"keyup",o),Kh("down",(a,l)=>{this.startPress(a,l)})},n=Yr(this.node.current,"keydown",t),r=()=>{this.isPressing&&Kh("cancel",(i,o)=>this.cancelPress(i,o))},s=Yr(this.node.current,"blur",r);this.removeAccessibleListeners=Ms(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&nt.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!mN()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&nt.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Xr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Yr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ms(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ag=new WeakMap,Xh=new WeakMap,O3=e=>{const t=ag.get(e.target);t&&t(e)},M3=e=>{e.forEach(O3)};function L3({root:e,...t}){const n=e||document;Xh.has(n)||Xh.set(n,{});const r=Xh.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(M3,{root:e,...t})),r[s]}function F3(e,t,n){const r=L3(t);return ag.set(e,n),r.observe(e),()=>{ag.delete(e),r.unobserve(e)}}const B3={some:0,all:1};class z3 extends Xs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:B3[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return F3(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(H3(t,n))&&this.startObserver()}unmount(){}}function H3({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const U3={inView:{Feature:z3},tap:{Feature:P3},focus:{Feature:I3},hover:{Feature:D3}};function yN(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function V3(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function $3(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Ff(e,t,n){const r=e.getProps();return y0(r,t,n!==void 0?n:r.custom,V3(e),$3(e))}let v0=Nt;const Ti=e=>e*1e3,Zr=e=>e/1e3,W3={current:!1},vN=e=>Array.isArray(e)&&typeof e[0]=="number";function xN(e){return!!(!e||typeof e=="string"&&bN[e]||vN(e)||Array.isArray(e)&&e.every(xN))}const Ua=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,bN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ua([0,.65,.55,1]),circOut:Ua([.55,0,1,.45]),backIn:Ua([.31,.01,.66,-.59]),backOut:Ua([.33,1.53,.69,.99])};function wN(e){if(e)return vN(e)?Ua(e):Array.isArray(e)?e.map(wN):bN[e]}function G3(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=wN(a);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function q3(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const SN=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Y3=1e-7,Q3=12;function K3(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=SN(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>Y3&&++a<Q3);return o}function vc(e,t,n,r){if(e===t&&n===r)return Nt;const s=i=>K3(i,0,1,e,n);return i=>i===0||i===1?i:SN(s(i),t,r)}const X3=vc(.42,0,1,1),Z3=vc(0,0,.58,1),kN=vc(.42,0,.58,1),J3=e=>Array.isArray(e)&&typeof e[0]!="number",EN=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,CN=e=>t=>1-e(1-t),x0=e=>1-Math.sin(Math.acos(e)),TN=CN(x0),e5=EN(x0),NN=vc(.33,1.53,.69,.99),b0=CN(NN),t5=EN(b0),n5=e=>(e*=2)<1?.5*b0(e):.5*(2-Math.pow(2,-10*(e-1))),r5={linear:Nt,easeIn:X3,easeInOut:kN,easeOut:Z3,circIn:x0,circInOut:e5,circOut:TN,backIn:b0,backInOut:t5,backOut:NN,anticipate:n5},Bb=e=>{if(Array.isArray(e)){v0(e.length===4);const[t,n,r,s]=e;return vc(t,n,r,s)}else if(typeof e=="string")return r5[e];return e},w0=(e,t)=>n=>!!(gc(n)&&i3.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),AN=(e,t,n)=>r=>{if(!gc(r))return r;const[s,i,o,a]=r.match(Mf);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},s5=e=>Us(0,255,e),Zh={...$i,transform:e=>Math.round(s5(e))},bi={test:w0("rgb","red"),parse:AN("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Zh.transform(e)+", "+Zh.transform(t)+", "+Zh.transform(n)+", "+rl(nl.transform(r))+")"};function i5(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const lg={test:w0("#"),parse:i5,transform:bi.transform},wo={test:w0("hsl","hue"),parse:AN("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Pr.transform(rl(t))+", "+Pr.transform(rl(n))+", "+rl(nl.transform(r))+")"},ln={test:e=>bi.test(e)||lg.test(e)||wo.test(e),parse:e=>bi.test(e)?bi.parse(e):wo.test(e)?wo.parse(e):lg.parse(e),transform:e=>gc(e)?e:e.hasOwnProperty("red")?bi.transform(e):wo.transform(e)},pt=(e,t,n)=>-n*e+n*t+e;function Jh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function o5({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=Jh(l,a,e+1/3),i=Jh(l,a,e),o=Jh(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const ep=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},a5=[lg,bi,wo],l5=e=>a5.find(t=>t.test(e));function zb(e){const t=l5(e);let n=t.parse(e);return t===wo&&(n=o5(n)),n}const jN=(e,t)=>{const n=zb(e),r=zb(t),s={...n};return i=>(s.red=ep(n.red,r.red,i),s.green=ep(n.green,r.green,i),s.blue=ep(n.blue,r.blue,i),s.alpha=pt(n.alpha,r.alpha,i),bi.transform(s))};function c5(e){var t,n;return isNaN(e)&&gc(e)&&(((t=e.match(Mf))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(tN))===null||n===void 0?void 0:n.length)||0)>0}const _N={regex:r3,countKey:"Vars",token:"${v}",parse:Nt},RN={regex:tN,countKey:"Colors",token:"${c}",parse:ln.parse},DN={regex:Mf,countKey:"Numbers",token:"${n}",parse:$i.parse};function tp(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function Nd(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&tp(n,_N),tp(n,RN),tp(n,DN),n}function IN(e){return Nd(e).values}function PN(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Nd(e),i=t.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(_N.token,o[l]):l<r+n?a=a.replace(RN.token,ln.transform(o[l])):a=a.replace(DN.token,rl(o[l]));return a}}const u5=e=>typeof e=="number"?0:e;function d5(e){const t=IN(e);return PN(e)(t.map(u5))}const Vs={test:c5,parse:IN,createTransformer:PN,getAnimatableNone:d5},ON=(e,t)=>n=>`${n>0?t:e}`;function MN(e,t){return typeof e=="number"?n=>pt(e,t,n):ln.test(e)?jN(e,t):e.startsWith("var(")?ON(e,t):FN(e,t)}const LN=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,o)=>MN(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},f5=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=MN(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},FN=(e,t)=>{const n=Vs.createTransformer(t),r=Nd(e),s=Nd(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Ms(LN(r.values,s.values),n):ON(e,t)},Hl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Hb=(e,t)=>n=>pt(e,t,n);function h5(e){return typeof e=="number"?Hb:typeof e=="string"?ln.test(e)?jN:FN:Array.isArray(e)?LN:typeof e=="object"?f5:Hb}function p5(e,t,n){const r=[],s=n||h5(e[0]),i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Nt:t;a=Ms(l,a)}r.push(a)}return r}function BN(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(v0(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=p5(t,r,s),a=o.length,l=c=>{let d=0;if(a>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=Hl(e[d],e[d+1],c);return o[d](f)};return n?c=>l(Us(e[0],e[i-1],c)):l}function m5(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Hl(0,t,r);e.push(pt(n,1,s))}}function g5(e){const t=[0];return m5(t,e.length-1),t}function y5(e,t){return e.map(n=>n*t)}function v5(e,t){return e.map(()=>t||kN).splice(0,e.length-1)}function Ad({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=J3(r)?r.map(Bb):Bb(r),i={done:!1,value:t[0]},o=y5(n&&n.length===t.length?n:g5(t),e),a=BN(o,t,{ease:Array.isArray(s)?s:v5(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}function zN(e,t){return t?e*(1e3/t):0}const x5=5;function HN(e,t,n){const r=Math.max(t-x5,0);return zN(n-e(r),t-r)}const np=.001,b5=.01,w5=10,S5=.05,k5=1;function E5({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i,o=1-t;o=Us(S5,k5,o),e=Us(b5,w5,Zr(e)),o<1?(s=c=>{const d=c*o,f=d*e,h=d-n,p=cg(c,o),m=Math.exp(-f);return np-h/p*m},i=c=>{const f=c*o*e,h=f*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,m=Math.exp(-f),v=cg(Math.pow(c,2),o);return(-s(c)+np>0?-1:1)*((h-p)*m)/v}):(s=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-np+d*f},i=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const a=5/e,l=T5(s,i,a);if(e=Ti(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const C5=12;function T5(e,t,n){let r=n;for(let s=1;s<C5;s++)r=r-e(r)/t(r);return r}function cg(e,t){return e*Math.sqrt(1-t*t)}const N5=["duration","bounce"],A5=["stiffness","damping","mass"];function Ub(e,t){return t.some(n=>e[n]!==void 0)}function j5(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Ub(e,A5)&&Ub(e,N5)){const n=E5(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function UN({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=j5({...r,velocity:-Zr(r.velocity||0)}),p=f||0,m=l/(2*Math.sqrt(a*c)),v=i-s,b=Zr(Math.sqrt(a/c)),y=Math.abs(v)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let g;if(m<1){const w=cg(b,m);g=S=>{const k=Math.exp(-m*b*S);return i-k*((p+m*b*v)/w*Math.sin(w*S)+v*Math.cos(w*S))}}else if(m===1)g=w=>i-Math.exp(-b*w)*(v+(p+b*v)*w);else{const w=b*Math.sqrt(m*m-1);g=S=>{const k=Math.exp(-m*b*S),E=Math.min(w*S,300);return i-k*((p+m*b*v)*Math.sinh(E)+w*v*Math.cosh(E))/w}}return{calculatedDuration:h&&d||null,next:w=>{const S=g(w);if(h)o.done=w>=d;else{let k=p;w!==0&&(m<1?k=HN(g,w,S):k=0);const E=Math.abs(k)<=n,C=Math.abs(i-S)<=t;o.done=E&&C}return o.value=o.done?i:S,o}}}function Vb({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=T=>a!==void 0&&T<a||l!==void 0&&T>l,m=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let v=n*t;const b=f+v,y=o===void 0?b:o(b);y!==b&&(v=y-f);const g=T=>-v*Math.exp(-T/r),w=T=>y+g(T),S=T=>{const N=g(T),A=w(T);h.done=Math.abs(N)<=c,h.value=h.done?y:A};let k,E;const C=T=>{p(h.value)&&(k=T,E=UN({keyframes:[h.value,m(h.value)],velocity:HN(w,T,h.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:T=>{let N=!1;return!E&&k===void 0&&(N=!0,S(T),C(T)),k!==void 0&&T>k?E.next(T-k):(!N&&S(T),h)}}}const _5=e=>{const t=({timestamp:n})=>e(n);return{start:()=>nt.update(t,!0),stop:()=>rs(t),now:()=>Qt.isProcessing?Qt.timestamp:performance.now()}},$b=2e4;function Wb(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<$b;)t+=n,r=e.next(t);return t>=$b?1/0:t}const R5={decay:Vb,inertia:Vb,tween:Ad,keyframes:Ad,spring:UN};function jd({autoplay:e=!0,delay:t=0,driver:n=_5,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...h}){let p=1,m=!1,v,b;const y=()=>{b=new Promise(K=>{v=K})};y();let g;const w=R5[s]||Ad;let S;w!==Ad&&typeof r[0]!="number"&&(S=BN([0,100],r,{clamp:!1}),r=[0,100]);const k=w({...h,keyframes:r});let E;a==="mirror"&&(E=w({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let C="idle",T=null,N=null,A=null;k.calculatedDuration===null&&i&&(k.calculatedDuration=Wb(k));const{calculatedDuration:R}=k;let I=1/0,O=1/0;R!==null&&(I=R+o,O=I*(i+1)-o);let j=0;const B=K=>{if(N===null)return;p>0&&(N=Math.min(N,K)),p<0&&(N=Math.min(K-O/p,N)),T!==null?j=T:j=Math.round(K-N)*p;const ee=j-t*(p>=0?1:-1),ce=p>=0?ee<0:ee>O;j=Math.max(ee,0),C==="finished"&&T===null&&(j=O);let te=j,V=k;if(i){const ae=Math.min(j,O)/I;let W=Math.floor(ae),J=ae%1;!J&&ae>=1&&(J=1),J===1&&W--,W=Math.min(W,i+1),!!(W%2)&&(a==="reverse"?(J=1-J,o&&(J-=o/I)):a==="mirror"&&(V=E)),te=Us(0,1,J)*I}const fe=ce?{done:!1,value:r[0]}:V.next(te);S&&(fe.value=S(fe.value));let{done:Ce}=fe;!ce&&R!==null&&(Ce=p>=0?j>=O:j<=0);const q=T===null&&(C==="finished"||C==="running"&&Ce);return f&&f(fe.value),q&&L(),fe},U=()=>{g&&g.stop(),g=void 0},X=()=>{C="idle",U(),v(),y(),N=A=null},L=()=>{C="finished",d&&d(),U(),v()},$=()=>{if(m)return;g||(g=n(B));const K=g.now();l&&l(),T!==null?N=K-T:(!N||C==="finished")&&(N=K),C==="finished"&&y(),A=N,T=null,C="running",g.start()};e&&$();const ne={then(K,ee){return b.then(K,ee)},get time(){return Zr(j)},set time(K){K=Ti(K),j=K,T!==null||!g||p===0?T=K:N=g.now()-K/p},get duration(){const K=k.calculatedDuration===null?Wb(k):k.calculatedDuration;return Zr(K)},get speed(){return p},set speed(K){K===p||!g||(p=K,ne.time=Zr(j))},get state(){return C},play:$,pause:()=>{C="paused",T=j},stop:()=>{m=!0,C!=="idle"&&(C="idle",c&&c(),X())},cancel:()=>{A!==null&&B(A),X()},complete:()=>{C="finished"},sample:K=>(N=0,B(K))};return ne}function D5(e){let t;return()=>(t===void 0&&(t=e()),t)}const I5=D5(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),P5=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Zc=10,O5=2e4,M5=(e,t)=>t.type==="spring"||e==="backgroundColor"||!xN(t.ease);function L5(e,t,{onUpdate:n,onComplete:r,...s}){if(!(I5()&&P5.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const d=()=>{l=new Promise(w=>{a=w})};d();let{keyframes:f,duration:h=300,ease:p,times:m}=s;if(M5(t,s)){const w=jd({...s,repeat:0,delay:0});let S={done:!1,value:f[0]};const k=[];let E=0;for(;!S.done&&E<O5;)S=w.sample(E),k.push(S.value),E+=Zc;m=void 0,f=k,h=E-Zc,p="linear"}const v=G3(e.owner.current,t,f,{...s,duration:h,ease:p,times:m}),b=()=>{c=!1,v.cancel()},y=()=>{c=!0,nt.update(b),a(),d()};return v.onfinish=()=>{c||(e.set(q3(f,s)),r&&r(),y())},{then(w,S){return l.then(w,S)},attachTimeline(w){return v.timeline=w,v.onfinish=null,Nt},get time(){return Zr(v.currentTime||0)},set time(w){v.currentTime=Ti(w)},get speed(){return v.playbackRate},set speed(w){v.playbackRate=w},get duration(){return Zr(h)},play:()=>{o||(v.play(),rs(b))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:w}=v;if(w){const S=jd({...s,autoplay:!1});e.setWithVelocity(S.sample(w-Zc).value,S.sample(w).value,Zc)}y()},complete:()=>{c||v.finish()},cancel:y}}function F5({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Nt,pause:Nt,stop:Nt,then:i=>(i(),Promise.resolve()),cancel:Nt,complete:Nt});return t?jd({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const B5={type:"spring",stiffness:500,damping:25,restSpeed:10},z5=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),H5={type:"keyframes",duration:.8},U5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},V5=(e,{keyframes:t})=>t.length>2?H5:Vi.has(e)?e.startsWith("scale")?z5(t[1]):B5:U5,ug=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vs.test(t)||t==="0")&&!t.startsWith("url(")),$5=new Set(["brightness","contrast","saturate","opacity"]);function W5(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Mf)||[];if(!r)return e;const s=n.replace(r,"");let i=$5.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const G5=/([a-z-]*)\(.*?\)/g,dg={...Vs,getAnimatableNone:e=>{const t=e.match(G5);return t?t.map(W5).join(" "):e}},q5={...nN,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:dg,WebkitFilter:dg},S0=e=>q5[e];function VN(e,t){let n=S0(e);return n!==dg&&(n=Vs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const $N=e=>/^0[^.\s]+$/.test(e);function Y5(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||$N(e)}function Q5(e,t,n,r){const s=ug(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),Y5(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];i[d]=VN(t,a)}return i}function K5({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function k0(e,t){return e[t]||e.default||e}const X5={skipAnimations:!1},E0=(e,t,n,r={})=>s=>{const i=k0(r,e)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Ti(o);const l=Q5(t,e,n,i),c=l[0],d=l[l.length-1],f=ug(e,c),h=ug(e,d);let p={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:m=>{t.set(m),i.onUpdate&&i.onUpdate(m)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(K5(i)||(p={...p,...V5(e,p)}),p.duration&&(p.duration=Ti(p.duration)),p.repeatDelay&&(p.repeatDelay=Ti(p.repeatDelay)),!f||!h||W3.current||i.type===!1||X5.skipAnimations)return F5(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const m=L5(t,e,p);if(m)return m}return jd(p)};function _d(e){return!!(Nn(e)&&e.add)}const WN=e=>/^\-?\d*\.?\d+$/.test(e);function C0(e,t){e.indexOf(t)===-1&&e.push(t)}function T0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class N0{constructor(){this.subscriptions=[]}add(t){return C0(this.subscriptions,t),()=>T0(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Z5=e=>!isNaN(parseFloat(e));class J5{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Qt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,nt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>nt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Z5(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new N0);const r=this.events[t].add(n);return t==="change"?()=>{r(),nt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?zN(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ko(e,t){return new J5(e,t)}const GN=e=>t=>t.test(e),eB={test:e=>e==="auto",parse:e=>e},qN=[$i,Se,Pr,fs,a3,o3,eB],Da=e=>qN.find(GN(e)),tB=[...qN,ln,Vs],nB=e=>tB.find(GN(e));function rB(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ko(n))}function sB(e,t){const n=Ff(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=w3(i[o]);rB(e,o,a)}}function iB(e,t,n){var r,s;const i=Object.keys(t).filter(a=>!e.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(s=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&s!==void 0?s:t[l]),d!=null&&(typeof d=="string"&&(WN(d)||$N(d))?d=parseFloat(d):!nB(d)&&Vs.test(c)&&(d=VN(l,c)),e.addValue(l,Ko(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function oB(e,t){return t?(t[e]||t.default||t).from:void 0}function aB(e,t,n){const r={};for(const s in e){const i=oB(s,t);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function lB({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function cB(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function YN(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const c=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in a){const h=e.getValue(f),p=a[f];if(!h||p===void 0||d&&lB(d,f))continue;const m={delay:n,elapsed:0,...k0(i||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[QT];if(y){const g=window.HandoffAppearAnimations(y,f,h,nt);g!==null&&(m.elapsed=g,m.isHandoff=!0)}}let v=!m.isHandoff&&!cB(h,p);if(m.type==="spring"&&(h.getVelocity()||m.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(E0(f,h,p,e.shouldReduceMotion&&Vi.has(f)?{type:!1}:m));const b=h.animation;_d(l)&&(l.add(f),b.then(()=>l.remove(f))),c.push(b)}return o&&Promise.all(c).then(()=>{o&&sB(e,o)}),c}function fg(e,t,n={}){const r=Ff(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(YN(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return uB(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function uB(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(dB).forEach((c,d)=>{c.notify("AnimationStart",t),o.push(fg(c,t,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function dB(e,t){return e.sortNodePosition(t)}function fB(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>fg(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=fg(e,t,n);else{const s=typeof t=="function"?Ff(e,t,n.custom):t;r=Promise.all(YN(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const hB=[...l0].reverse(),pB=l0.length;function mB(e){return t=>Promise.all(t.map(({animation:n,options:r})=>fB(e,n,r)))}function gB(e){let t=mB(e);const n=vB();let r=!0;const s=(l,c)=>{const d=Ff(e,c);if(d){const{transition:f,transitionEnd:h,...p}=d;l={...l,...p,...h}}return l};function i(l){t=l(e)}function o(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],p=new Set;let m={},v=1/0;for(let y=0;y<pB;y++){const g=hB[y],w=n[g],S=d[g]!==void 0?d[g]:f[g],k=Bl(S),E=g===c?w.isActive:null;E===!1&&(v=y);let C=S===f[g]&&S!==d[g]&&k;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={...m},!w.isActive&&E===null||!S&&!w.prevProp||Pf(S)||typeof S=="boolean")continue;let N=yB(w.prevProp,S)||g===c&&w.isActive&&!C&&k||y>v&&k,A=!1;const R=Array.isArray(S)?S:[S];let I=R.reduce(s,{});E===!1&&(I={});const{prevResolvedValues:O={}}=w,j={...O,...I},B=U=>{N=!0,p.has(U)&&(A=!0,p.delete(U)),w.needsAnimating[U]=!0};for(const U in j){const X=I[U],L=O[U];if(m.hasOwnProperty(U))continue;let $=!1;Td(X)&&Td(L)?$=!yN(X,L):$=X!==L,$?X!==void 0?B(U):p.add(U):X!==void 0&&p.has(U)?B(U):w.protectedKeys[U]=!0}w.prevProp=S,w.prevResolvedValues=I,w.isActive&&(m={...m,...I}),r&&e.blockInitialAnimation&&(N=!1),N&&(!C||A)&&h.push(...R.map(U=>({animation:U,options:{type:g,...l}})))}if(p.size){const y={};p.forEach(g=>{const w=e.getBaseTarget(g);w!==void 0&&(y[g]=w)}),h.push({animation:y})}let b=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(h):Promise.resolve()}function a(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=o(d,l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function yB(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!yN(t,e):!1}function oi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vB(){return{animate:oi(!0),whileInView:oi(),whileHover:oi(),whileTap:oi(),whileDrag:oi(),whileFocus:oi(),exit:oi()}}class xB extends Xs{constructor(t){super(t),t.animationState||(t.animationState=gB(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Pf(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let bB=0;class wB extends Xs{constructor(){super(...arguments),this.id=bB++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const SB={animation:{Feature:xB},exit:{Feature:wB}},Gb=(e,t)=>Math.abs(e-t);function kB(e,t){const n=Gb(e.x,t.x),r=Gb(e.y,t.y);return Math.sqrt(n**2+r**2)}class QN{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=sp(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=kB(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:m}=f,{timestamp:v}=Qt;this.history.push({...m,timestamp:v});const{onStart:b,onMove:y}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=rp(h,this.transformPagePoint),nt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=sp(f.type==="pointercancel"?this.lastMoveEventInfo:rp(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,b),m&&m(f,b)},!fN(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Lf(t),a=rp(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Qt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,sp(a,this.history)),this.removeListeners=Ms(Xr(this.contextWindow,"pointermove",this.handlePointerMove),Xr(this.contextWindow,"pointerup",this.handlePointerUp),Xr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),rs(this.updatePoint)}}function rp(e,t){return t?{point:t(e.point)}:e}function qb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function sp({point:e},t){return{point:e,delta:qb(e,KN(t)),offset:qb(e,EB(t)),velocity:CB(t,.1)}}function EB(e){return e[0]}function KN(e){return e[e.length-1]}function CB(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=KN(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Ti(t)));)n--;if(!r)return{x:0,y:0};const i=Zr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ln(e){return e.max-e.min}function hg(e,t=0,n=.01){return Math.abs(e-t)<=n}function Yb(e,t,n,r=.5){e.origin=r,e.originPoint=pt(t.min,t.max,e.origin),e.scale=Ln(n)/Ln(t),(hg(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=pt(n.min,n.max,e.origin)-e.originPoint,(hg(e.translate)||isNaN(e.translate))&&(e.translate=0)}function sl(e,t,n,r){Yb(e.x,t.x,n.x,r?r.originX:void 0),Yb(e.y,t.y,n.y,r?r.originY:void 0)}function Qb(e,t,n){e.min=n.min+t.min,e.max=e.min+Ln(t)}function TB(e,t,n){Qb(e.x,t.x,n.x),Qb(e.y,t.y,n.y)}function Kb(e,t,n){e.min=t.min-n.min,e.max=e.min+Ln(t)}function il(e,t,n){Kb(e.x,t.x,n.x),Kb(e.y,t.y,n.y)}function NB(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?pt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?pt(n,e,r.max):Math.min(e,n)),e}function Xb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function AB(e,{top:t,left:n,bottom:r,right:s}){return{x:Xb(e.x,n,s),y:Xb(e.y,t,r)}}function Zb(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function jB(e,t){return{x:Zb(e.x,t.x),y:Zb(e.y,t.y)}}function _B(e,t){let n=.5;const r=Ln(e),s=Ln(t);return s>r?n=Hl(t.min,t.max-r,e.min):r>s&&(n=Hl(e.min,e.max-s,t.min)),Us(0,1,n)}function RB(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const pg=.35;function DB(e=pg){return e===!1?e=0:e===!0&&(e=pg),{x:Jb(e,"left","right"),y:Jb(e,"top","bottom")}}function Jb(e,t,n){return{min:ew(e,t),max:ew(e,n)}}function ew(e,t){return typeof e=="number"?e:e[t]||0}const tw=()=>({translate:0,scale:1,origin:0,originPoint:0}),So=()=>({x:tw(),y:tw()}),nw=()=>({min:0,max:0}),jt=()=>({x:nw(),y:nw()});function Hn(e){return[e("x"),e("y")]}function XN({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function IB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function PB(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ip(e){return e===void 0||e===1}function mg({scale:e,scaleX:t,scaleY:n}){return!ip(e)||!ip(t)||!ip(n)}function ci(e){return mg(e)||ZN(e)||e.z||e.rotate||e.rotateX||e.rotateY}function ZN(e){return rw(e.x)||rw(e.y)}function rw(e){return e&&e!=="0%"}function Rd(e,t,n){const r=e-n,s=t*r;return n+s}function sw(e,t,n,r,s){return s!==void 0&&(e=Rd(e,s,r)),Rd(e,n,r)+t}function gg(e,t=0,n=1,r,s){e.min=sw(e.min,t,n,r,s),e.max=sw(e.max,t,n,r,s)}function JN(e,{x:t,y:n}){gg(e.x,t.translate,t.scale,t.originPoint),gg(e.y,n.translate,n.scale,n.originPoint)}function OB(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ko(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,JN(e,o)),r&&ci(i.latestValues)&&ko(e,i.latestValues))}t.x=iw(t.x),t.y=iw(t.y)}function iw(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ms(e,t){e.min=e.min+t,e.max=e.max+t}function ow(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,o=pt(e.min,e.max,i);gg(e,t[n],t[r],o,t.scale)}const MB=["x","scaleX","originX"],LB=["y","scaleY","originY"];function ko(e,t){ow(e.x,t,MB),ow(e.y,t,LB)}function eA(e,t){return XN(PB(e.getBoundingClientRect(),t))}function FB(e,t,n){const r=eA(e,n),{scroll:s}=t;return s&&(ms(r.x,s.offset.x),ms(r.y,s.offset.y)),r}const tA=({current:e})=>e?e.ownerDocument.defaultView:null,BB=new WeakMap;class zB{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lf(d,"page").point)},i=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=pN(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(b=>{let y=this.getAxisMotionValue(b).get()||0;if(Pr.test(y)){const{projection:g}=this.visualElement;if(g&&g.layout){const w=g.layout.layoutBox[b];w&&(y=Ln(w)*(parseFloat(y)/100))}}this.originPoint[b]=y}),m&&nt.update(()=>m(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=f;if(p&&this.currentDirection===null){this.currentDirection=HB(b),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),v&&v(d,f)},a=(d,f)=>this.stop(d,f),l=()=>Hn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new QN(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:tA(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&nt.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Jc(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=NB(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&bo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=AB(s.layoutBox,n):this.constraints=!1,this.elastic=DB(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Hn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=RB(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!bo(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=FB(r,s.root,this.visualElement.getTransformPagePoint());let o=jB(s.layout.layoutBox,i);if(n){const a=n(IB(o));this.hasMutatedConstraints=!!a,a&&(o=XN(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Hn(d=>{if(!Jc(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,m={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,m)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(E0(t,r,0,n))}stopAnimation(){Hn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Hn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Hn(n=>{const{drag:r}=this.getProps();if(!Jc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-pt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!bo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Hn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=_B({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(o=>{if(!Jc(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(pt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;BB.set(this.visualElement,this);const t=this.visualElement.current,n=Xr(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();bo(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Yr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Hn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=pg,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Jc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function HB(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class UB extends Xs{constructor(t){super(t),this.removeGroupControls=Nt,this.removeListeners=Nt,this.controls=new zB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nt}unmount(){this.removeGroupControls(),this.removeListeners()}}const aw=e=>(t,n)=>{e&&nt.update(()=>e(t,n))};class VB extends Xs{constructor(){super(...arguments),this.removePointerDownListener=Nt}onPointerDown(t){this.session=new QN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:aw(t),onStart:aw(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&nt.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Xr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function $B(){const e=x.useContext(Df);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=x.useId();return x.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const Iu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ia={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Se.test(e))e=parseFloat(e);else return e;const n=lw(e,t.target.x),r=lw(e,t.target.y);return`${n}% ${r}%`}},WB={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Vs.parse(e);if(s.length>5)return r;const i=Vs.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=pt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class GB extends H.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;J4(qB),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Iu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||nt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function nA(e){const[t,n]=$B(),r=x.useContext(u0);return H.createElement(GB,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(XT),isPresent:t,safeToRemove:n})}const qB={borderRadius:{...Ia,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ia,borderTopRightRadius:Ia,borderBottomLeftRadius:Ia,borderBottomRightRadius:Ia,boxShadow:WB},rA=["TopLeft","TopRight","BottomLeft","BottomRight"],YB=rA.length,cw=e=>typeof e=="string"?parseFloat(e):e,uw=e=>typeof e=="number"||Se.test(e);function QB(e,t,n,r,s,i){s?(e.opacity=pt(0,n.opacity!==void 0?n.opacity:1,KB(r)),e.opacityExit=pt(t.opacity!==void 0?t.opacity:1,0,XB(r))):i&&(e.opacity=pt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<YB;o++){const a=`border${rA[o]}Radius`;let l=dw(t,a),c=dw(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||uw(l)===uw(c)?(e[a]=Math.max(pt(cw(l),cw(c),r),0),(Pr.test(c)||Pr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=pt(t.rotate||0,n.rotate||0,r))}function dw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const KB=sA(0,.5,TN),XB=sA(.5,.95,Nt);function sA(e,t,n){return r=>r<e?0:r>t?1:n(Hl(e,t,r))}function fw(e,t){e.min=t.min,e.max=t.max}function zn(e,t){fw(e.x,t.x),fw(e.y,t.y)}function hw(e,t,n,r,s){return e-=t,e=Rd(e,1/n,r),s!==void 0&&(e=Rd(e,1/s,r)),e}function ZB(e,t=0,n=1,r=.5,s,i=e,o=e){if(Pr.test(t)&&(t=parseFloat(t),t=pt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=pt(i.min,i.max,r);e===i&&(a-=t),e.min=hw(e.min,t,n,a,s),e.max=hw(e.max,t,n,a,s)}function pw(e,t,[n,r,s],i,o){ZB(e,t[n],t[r],t[s],t.scale,i,o)}const JB=["x","scaleX","originX"],ez=["y","scaleY","originY"];function mw(e,t,n,r){pw(e.x,t,JB,n?n.x:void 0,r?r.x:void 0),pw(e.y,t,ez,n?n.y:void 0,r?r.y:void 0)}function gw(e){return e.translate===0&&e.scale===1}function iA(e){return gw(e.x)&&gw(e.y)}function tz(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function oA(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function yw(e){return Ln(e.x)/Ln(e.y)}class nz{constructor(){this.members=[]}add(t){C0(this.members,t),t.scheduleRender()}remove(t){if(T0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vw(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const rz=(e,t)=>e.depth-t.depth;class sz{constructor(){this.children=[],this.isDirty=!1}add(t){C0(this.children,t),this.isDirty=!0}remove(t){T0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(rz),this.isDirty=!1,this.children.forEach(t)}}function iz(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(rs(r),e(i-t))};return nt.read(r,!0),()=>rs(r)}function oz(e){window.MotionDebug&&window.MotionDebug.record(e)}function az(e){return e instanceof SVGElement&&e.tagName!=="svg"}function lz(e,t,n){const r=Nn(e)?e:Ko(e);return r.start(E0("",r,t,n)),r.animation}const xw=["","X","Y","Z"],cz={visibility:"hidden"},bw=1e3;let uz=0;const ui={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function aA({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=uz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ui.totalNodes=ui.resolvedTargetDeltas=ui.recalculatedProjection=0,this.nodes.forEach(hz),this.nodes.forEach(vz),this.nodes.forEach(xz),this.nodes.forEach(pz),oz(ui)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new sz)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new N0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=az(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=iz(h,250),Iu.hasAnimatedSinceResize&&(Iu.hasAnimatedSinceResize=!1,this.nodes.forEach(Sw))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||Ez,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=d.getProps(),g=!this.targetLayout||!oA(this.targetLayout,m)||p,w=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const S={...k0(v,"layout"),onPlay:b,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||Sw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,rs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bz),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ww);return}this.isUpdating||this.nodes.forEach(gz),this.isUpdating=!1,this.nodes.forEach(yz),this.nodes.forEach(dz),this.nodes.forEach(fz),this.clearAllSnapshots();const a=performance.now();Qt.delta=Us(0,1e3/60,a-Qt.timestamp),Qt.timestamp=a,Qt.isProcessing=!0,Qh.update.process(Qt),Qh.preRender.process(Qt),Qh.render.process(Qt),Qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(mz),this.sharedNodes.forEach(wz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!iA(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||ci(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Cz(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return jt();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(ms(a.x,l.offset.x),ms(a.y,l.offset.y)),a}removeElementScroll(o){const a=jt();zn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){zn(a,o);const{scroll:h}=this.root;h&&(ms(a.x,-h.offset.x),ms(a.y,-h.offset.y))}ms(a.x,d.offset.x),ms(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=jt();zn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ko(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ci(d.latestValues)&&ko(l,d.latestValues)}return ci(this.latestValues)&&ko(l,this.latestValues),l}removeTransform(o){const a=jt();zn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ci(c.latestValues))continue;mg(c.latestValues)&&c.updateSnapshot();const d=jt(),f=c.measurePageBox();zn(d,f),mw(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return ci(this.latestValues)&&mw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Qt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),il(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=jt(),this.targetWithTransforms=jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zn(this.target,this.layout.layoutBox),JN(this.target,this.targetDelta)):zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),il(this.relativeTargetOrigin,this.target,p.target),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ui.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||mg(this.parent.latestValues)||ZN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Qt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;zn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;OB(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=So(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=So(),this.projectionDeltaWithTransform=So());const v=this.projectionTransform;sl(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=vw(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),ui.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=So();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=jt(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,v=p!==m,b=this.getStack(),y=!b||b.members.length<=1,g=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(kz));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const k=S/1e3;kw(f.x,o.x,k),kw(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(il(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Sz(this.relativeTarget,this.relativeTargetOrigin,h,k),w&&tz(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=jt()),zn(w,this.relativeTarget)),v&&(this.animationValues=d,QB(d,c,this.latestValues,k,g,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(rs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nt.update(()=>{Iu.hasAnimatedSinceResize=!0,this.currentAnimation=lz(0,bw,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&lA(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||jt();const f=Ln(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Ln(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}zn(a,l),ko(a,d),sl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new nz),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<xw.length;d++){const f="rotate"+xw[d];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return cz;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Du(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Du(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ci(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=vw(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Ed){if(h[v]===void 0)continue;const{correct:b,applyTo:y}=Ed[v],g=c.transform==="none"?h[v]:b(h[v],f);if(y){const w=y.length;for(let S=0;S<w;S++)c[y[S]]=g}else c[v]=g}return this.options.layoutId&&(c.pointerEvents=f===this?Du(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ww),this.root.sharedNodes.clear()}}}function dz(e){e.updateLayout()}function fz(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Hn(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],p=Ln(h);h.min=r[f].min,h.max=h.min+p}):lA(i,n.layoutBox,r)&&Hn(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],p=Ln(r[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const a=So();sl(a,r,n.layoutBox);const l=So();o?sl(l,e.applyTransform(s,!0),n.measuredBox):sl(l,r,n.layoutBox);const c=!iA(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=jt();il(m,n.layoutBox,h.layoutBox);const v=jt();il(v,r,p.layoutBox),oA(m,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function hz(e){ui.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function pz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function mz(e){e.clearSnapshot()}function ww(e){e.clearMeasurements()}function gz(e){e.isLayoutDirty=!1}function yz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Sw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vz(e){e.resolveTargetDelta()}function xz(e){e.calcProjection()}function bz(e){e.resetRotation()}function wz(e){e.removeLeadSnapshot()}function kw(e,t,n){e.translate=pt(t.translate,0,n),e.scale=pt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ew(e,t,n,r){e.min=pt(t.min,n.min,r),e.max=pt(t.max,n.max,r)}function Sz(e,t,n,r){Ew(e.x,t.x,n.x,r),Ew(e.y,t.y,n.y,r)}function kz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ez={duration:.45,ease:[.4,0,.1,1]},Cw=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Tw=Cw("applewebkit/")&&!Cw("chrome/")?Math.round:Nt;function Nw(e){e.min=Tw(e.min),e.max=Tw(e.max)}function Cz(e){Nw(e.x),Nw(e.y)}function lA(e,t,n){return e==="position"||e==="preserve-aspect"&&!hg(yw(t),yw(n),.2)}const Tz=aA({attachResizeListener:(e,t)=>Yr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),op={current:void 0},cA=aA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!op.current){const e=new Tz({});e.mount(window),e.setOptions({layoutScroll:!0}),op.current=e}return op.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Nz={pan:{Feature:VB},drag:{Feature:UB,ProjectionNode:cA,MeasureLayout:nA}},Az=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function jz(e){const t=Az.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function yg(e,t,n=1){const[r,s]=jz(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return WN(o)?parseFloat(o):o}else return og(s)?yg(s,t,n+1):s}function _z(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!og(i))return;const o=yg(i,r);o&&s.set(o)});for(const s in t){const i=t[s];if(!og(i))continue;const o=yg(i,r);o&&(t[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const Rz=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),uA=e=>Rz.has(e),Dz=e=>Object.keys(e).some(uA),Aw=e=>e===$i||e===Se,jw=(e,t)=>parseFloat(e.split(", ")[t]),_w=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return jw(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?jw(i[1],e):0}},Iz=new Set(["x","y","z"]),Pz=mc.filter(e=>!Iz.has(e));function Oz(e){const t=[];return Pz.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Xo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:_w(4,13),y:_w(5,14)};Xo.translateX=Xo.x;Xo.translateY=Xo.y;const Mz=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{a[c]=Xo[c](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(a[c]),e[c]=Xo[c](l,i)}),e},Lz=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(uA);let i=[],o=!1;const a=[];if(s.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Da(d);const h=t[l];let p;if(Td(h)){const m=h.length,v=h[0]===null?1:0;d=h[v],f=Da(d);for(let b=v;b<m&&h[b]!==null;b++)p?v0(Da(h[b])===p):p=Da(h[b])}else p=Da(h);if(f!==p)if(Aw(f)&&Aw(p)){const m=c.get();typeof m=="string"&&c.set(parseFloat(m)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&p===Se&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?c.set(p.transform(d)):t[l]=f.transform(h):(o||(i=Oz(e),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Mz(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),If&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Fz(e,t,n,r){return Dz(t)?Lz(e,t,n,r):{target:t,transitionEnd:r}}const Bz=(e,t,n,r)=>{const s=_z(e,t,r);return t=s.target,r=s.transitionEnd,Fz(e,t,n,r)},vg={current:null},dA={current:!1};function zz(){if(dA.current=!0,!!If)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>vg.current=e.matches;e.addListener(t),t()}else vg.current=!1}function Hz(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],o=n[s];if(Nn(i))e.addValue(s,i),_d(r)&&r.add(s);else if(Nn(o))e.addValue(s,Ko(i,{owner:e})),_d(r)&&r.remove(s);else if(o!==i)if(e.hasValue(s)){const a=e.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(s);e.addValue(s,Ko(a!==void 0?a:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Rw=new WeakMap,fA=Object.keys(zl),Uz=fA.length,Dw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Vz=c0.length;class $z{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>nt.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Of(n),this.isVariantNode=KT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];a[f]!==void 0&&Nn(h)&&(h.set(a[f],!1),_d(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Rw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),dA.current||zz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Rw.delete(this.current),this.projection&&this.projection.unmount(),rs(this.notifyUpdate),rs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Vi.has(t),s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&nt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let o,a;for(let l=0;l<Uz;l++){const c=fA[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=zl[c];h&&(o=h),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&bo(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:p})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Dw.length;r++){const s=Dw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=Hz(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Vz;r++){const s=c0[r],i=this.props[s];(Bl(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ko(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=y0(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Nn(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new N0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class hA extends $z{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let o=aB(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){iB(this,r,o);const a=Bz(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function Wz(e){return window.getComputedStyle(e)}class Gz extends hA{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Vi.has(n)){const r=S0(n);return r&&r.default||0}else{const r=Wz(t),s=(eN(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return eA(t,n)}build(t,n,r,s){f0(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return g0(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Nn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){oN(t,n,r,s)}}class qz extends hA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Vi.has(n)){const r=S0(n);return r&&r.default||0}return n=aN.has(n)?n:a0(n),t.getAttribute(n)}measureInstanceViewportBox(){return jt()}scrapeMotionValuesFromProps(t,n){return cN(t,n)}build(t,n,r,s){p0(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){lN(t,n,r,s)}mount(t){this.isSVGTag=m0(t.tagName),super.mount(t)}}const Yz=(e,t)=>d0(e)?new qz(t,{enableHardwareAcceleration:!1}):new Gz(t,{enableHardwareAcceleration:!0}),Qz={layout:{ProjectionNode:cA,MeasureLayout:nA}},Kz={...SB,...U3,...Nz,...Qz},St=X4((e,t)=>j3(e,t,Kz,Yz));function pA(){const e=x.useRef(!1);return o0(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Xz(){const e=pA(),[t,n]=x.useState(0),r=x.useCallback(()=>{e.current&&n(t+1)},[t]);return[x.useCallback(()=>nt.postRender(r),[r]),t]}class Zz extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Jz({children:e,isPresent:t}){const n=x.useId(),r=x.useRef(null),s=x.useRef({width:0,height:0,top:0,left:0});return x.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(t||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),x.createElement(Zz,{isPresent:t,childRef:r,sizeRef:s},x.cloneElement(e,{ref:r}))}const ap=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=uN(eH),l=x.useId(),c=x.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return x.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),x.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=x.createElement(Jz,{isPresent:n},e)),x.createElement(Df.Provider,{value:c},e)};function eH(){return new Map}function tH(e){return x.useEffect(()=>()=>e(),[])}const di=e=>e.key||"";function nH(e,t){e.forEach(n=>{const r=di(n);t.set(r,n)})}function rH(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const Cn=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=x.useContext(u0).forceRender||Xz()[0],l=pA(),c=rH(e);let d=c;const f=x.useRef(new Map).current,h=x.useRef(d),p=x.useRef(new Map).current,m=x.useRef(!0);if(o0(()=>{m.current=!1,nH(c,p),h.current=d}),tH(()=>{m.current=!0,p.clear(),f.clear()}),m.current)return x.createElement(x.Fragment,null,d.map(g=>x.createElement(ap,{key:di(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},g)));d=[...d];const v=h.current.map(di),b=c.map(di),y=v.length;for(let g=0;g<y;g++){const w=v[g];b.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((g,w)=>{if(b.indexOf(w)!==-1)return;const S=p.get(w);if(!S)return;const k=v.indexOf(w);let E=g;if(!E){const C=()=>{f.delete(w);const T=Array.from(p.keys()).filter(N=>!b.includes(N));if(T.forEach(N=>p.delete(N)),h.current=c.filter(N=>{const A=di(N);return A===w||T.includes(A)}),!f.size){if(l.current===!1)return;a(),r&&r()}};E=x.createElement(ap,{key:di(S),isPresent:!1,onExitComplete:C,custom:t,presenceAffectsLayout:i,mode:o},S),f.set(w,E)}d.splice(k,0,E)}),d=d.map(g=>{const w=g.key;return f.has(w)?g:x.createElement(ap,{key:di(g),isPresent:!0,presenceAffectsLayout:i,mode:o},g)}),x.createElement(x.Fragment,null,f.size?d:d.map(g=>x.cloneElement(g)))};var Bf={exports:{}},mA={};function gA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=gA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Iw(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=gA(e))&&(r&&(r+=" "),r+=t);return r}const sH=Object.freeze(Object.defineProperty({__proto__:null,clsx:Iw,default:Iw},Symbol.toStringTag,{value:"Module"})),iH=lR(sH);var kt={},Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.dontSetMe=uH;Fr.findInArray=oH;Fr.int=cH;Fr.isFunction=aH;Fr.isNum=lH;function oH(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function aH(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function lH(e){return typeof e=="number"&&!isNaN(e)}function cH(e){return parseInt(e,10)}function uH(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)}var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.browserPrefixToKey=vA;Wi.browserPrefixToStyle=dH;Wi.default=void 0;Wi.getPrefix=yA;const lp=["Moz","Webkit","O","ms"];function yA(){var n,r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(r=(n=window.document)==null?void 0:n.documentElement)==null?void 0:r.style;if(!t||e in t)return"";for(let s=0;s<lp.length;s++)if(vA(e,lp[s])in t)return lp[s];return""}function vA(e,t){return t?`${t}${fH(e)}`:e}function dH(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function fH(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}Wi.default=yA();Object.defineProperty(kt,"__esModule",{value:!0});kt.addClassName=wA;kt.addEvent=pH;kt.addUserSelectStyles=CH;kt.createCSSTransform=wH;kt.createSVGTransform=SH;kt.getTouch=kH;kt.getTouchIdentifier=EH;kt.getTranslation=A0;kt.innerHeight=vH;kt.innerWidth=xH;kt.matchesSelector=bA;kt.matchesSelectorAndParentsTo=hH;kt.offsetXYFromParent=bH;kt.outerHeight=gH;kt.outerWidth=yH;kt.removeClassName=SA;kt.removeEvent=mH;kt.scheduleRemoveUserSelectStyles=TH;var In=Fr,Pw=xA(Wi);function xA(e,t){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(xA=function(s,i){if(!i&&s&&s.__esModule)return s;var o,a,l={__proto__:null,default:s};if(s===null||typeof s!="object"&&typeof s!="function")return l;if(o=i?r:n){if(o.has(s))return o.get(s);o.set(s,l)}for(const c in s)c!=="default"&&{}.hasOwnProperty.call(s,c)&&((a=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(s,c))&&(a.get||a.set)?o(l,c,a):l[c]=s[c]);return l})(e,t)}let eu="";function bA(e,t){return eu||(eu=(0,In.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,In.isFunction)(e[n])})),(0,In.isFunction)(e[eu])?e[eu](t):!1}function hH(e,t,n){let r=e;do{if(bA(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function pH(e,t,n,r){if(!e)return;const s={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,s):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function mH(e,t,n,r){if(!e)return;const s={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,s):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function gH(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,In.int)(n.borderTopWidth),t+=(0,In.int)(n.borderBottomWidth),t}function yH(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,In.int)(n.borderLeftWidth),t+=(0,In.int)(n.borderRightWidth),t}function vH(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,In.int)(n.paddingTop),t-=(0,In.int)(n.paddingBottom),t}function xH(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,In.int)(n.paddingLeft),t-=(0,In.int)(n.paddingRight),t}function bH(e,t,n){const s=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-s.left)/n,o=(e.clientY+t.scrollTop-s.top)/n;return{x:i,y:o}}function wH(e,t){const n=A0(e,t,"px");return{[(0,Pw.browserPrefixToKey)("transform",Pw.default)]:n}}function SH(e,t){return A0(e,t,"")}function A0(e,t,n){let{x:r,y:s}=e,i=`translate(${r}${n},${s}${n})`;if(t){const o=`${typeof t.x=="string"?t.x:t.x+n}`,a=`${typeof t.y=="string"?t.y:t.y+n}`;i=`translate(${o}, ${a})`+i}return i}function kH(e,t){return e.targetTouches&&(0,In.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,In.findInArray)(e.changedTouches,n=>t===n.identifier)}function EH(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function CH(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&wA(e.body,"react-draggable-transparent-selection")}function TH(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{Ow(e)}):Ow(e)}function Ow(e){if(e)try{if(e.body&&SA(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function wA(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function SA(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}var Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.canDragX=jH;Br.canDragY=_H;Br.createCoreData=DH;Br.createDraggableData=IH;Br.getBoundPosition=NH;Br.getControlPosition=RH;Br.snapToGrid=AH;var An=Fr,Eo=kt;function NH(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:PH(r);const s=j0(e);if(typeof r=="string"){const{ownerDocument:i}=s,o=i.defaultView;let a;if(r==="parent"?a=s.parentNode:a=s.getRootNode().querySelector(r),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=a,c=o.getComputedStyle(s),d=o.getComputedStyle(l);r={left:-s.offsetLeft+(0,An.int)(d.paddingLeft)+(0,An.int)(c.marginLeft),top:-s.offsetTop+(0,An.int)(d.paddingTop)+(0,An.int)(c.marginTop),right:(0,Eo.innerWidth)(l)-(0,Eo.outerWidth)(s)-s.offsetLeft+(0,An.int)(d.paddingRight)-(0,An.int)(c.marginRight),bottom:(0,Eo.innerHeight)(l)-(0,Eo.outerHeight)(s)-s.offsetTop+(0,An.int)(d.paddingBottom)-(0,An.int)(c.marginBottom)}}return(0,An.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,An.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,An.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,An.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function AH(e,t,n){const r=Math.round(t/e[0])*e[0],s=Math.round(n/e[1])*e[1];return[r,s]}function jH(e){return e.props.axis==="both"||e.props.axis==="x"}function _H(e){return e.props.axis==="both"||e.props.axis==="y"}function RH(e,t,n){const r=typeof t=="number"?(0,Eo.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const s=j0(n),i=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,Eo.offsetXYFromParent)(r||e,i,n.props.scale)}function DH(e,t,n){const r=!(0,An.isNum)(e.lastX),s=j0(e);return r?{node:s,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:s,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function IH(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function PH(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function j0(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var zf={},Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});Hf.default=OH;function OH(){}Object.defineProperty(zf,"__esModule",{value:!0});zf.default=void 0;var cp=kA(x),sn=_0(Yy),MH=_0(ur),qt=kt,us=Br,up=Fr,Pa=_0(Hf);function _0(e){return e&&e.__esModule?e:{default:e}}function kA(e,t){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(kA=function(s,i){if(!i&&s&&s.__esModule)return s;var o,a,l={__proto__:null,default:s};if(s===null||typeof s!="object"&&typeof s!="function")return l;if(o=i?r:n){if(o.has(s))return o.get(s);o.set(s,l)}for(const c in s)c!=="default"&&{}.hasOwnProperty.call(s,c)&&((a=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(s,c))&&(a.get||a.set)?o(l,c,a):l[c]=s[c]);return l})(e,t)}function an(e,t,n){return(t=LH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LH(e){var t=FH(e,"string");return typeof t=="symbol"?t:t+""}function FH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const tr={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ds=tr.mouse,Uf=class extends cp.Component{constructor(){super(...arguments),an(this,"dragging",!1),an(this,"lastX",NaN),an(this,"lastY",NaN),an(this,"touchIdentifier",null),an(this,"mounted",!1),an(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,qt.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,qt.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();const s=(0,qt.getTouchIdentifier)(t);this.touchIdentifier=s;const i=(0,us.getControlPosition)(t,s,this);if(i==null)return;const{x:o,y:a}=i,l=(0,us.createCoreData)(this,o,a);(0,Pa.default)("DraggableCore: handleDragStart: %j",l),(0,Pa.default)("calling",this.props.onStart),!(this.props.onStart(t,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,qt.addUserSelectStyles)(r),this.dragging=!0,this.lastX=o,this.lastY=a,(0,qt.addEvent)(r,ds.move,this.handleDrag),(0,qt.addEvent)(r,ds.stop,this.handleDragStop))}),an(this,"handleDrag",t=>{const n=(0,us.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,l=s-this.lastY;if([a,l]=(0,us.snapToGrid)(this.props.grid,a,l),!a&&!l)return;r=this.lastX+a,s=this.lastY+l}const i=(0,us.createCoreData)(this,r,s);if((0,Pa.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(t,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=s}),an(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,us.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,c=s-this.lastY||0;[l,c]=(0,us.snapToGrid)(this.props.grid,l,c),r=this.lastX+l,s=this.lastY+c}const i=(0,us.createCoreData)(this,r,s);if(this.props.onStop(t,i)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,qt.scheduleRemoveUserSelectStyles)(a.ownerDocument),(0,Pa.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Pa.default)("DraggableCore: Removing handlers"),(0,qt.removeEvent)(a.ownerDocument,ds.move,this.handleDrag),(0,qt.removeEvent)(a.ownerDocument,ds.stop,this.handleDragStop))}),an(this,"onMouseDown",t=>(ds=tr.mouse,this.handleDragStart(t))),an(this,"onMouseUp",t=>(ds=tr.mouse,this.handleDragStop(t))),an(this,"onTouchStart",t=>(ds=tr.touch,this.handleDragStart(t))),an(this,"onTouchEnd",t=>(ds=tr.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,qt.addEvent)(t,tr.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,qt.removeEvent)(n,tr.mouse.move,this.handleDrag),(0,qt.removeEvent)(n,tr.touch.move,this.handleDrag),(0,qt.removeEvent)(n,tr.mouse.stop,this.handleDragStop),(0,qt.removeEvent)(n,tr.touch.stop,this.handleDragStop),(0,qt.removeEvent)(t,tr.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,qt.scheduleRemoveUserSelectStyles)(n)}}findDOMNode(){var t,n,r;return(t=this.props)!=null&&t.nodeRef?(r=(n=this.props)==null?void 0:n.nodeRef)==null?void 0:r.current:MH.default.findDOMNode(this)}render(){return cp.cloneElement(cp.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};zf.default=Uf;an(Uf,"displayName","DraggableCore");an(Uf,"propTypes",{allowAnyClick:sn.default.bool,allowMobileScroll:sn.default.bool,children:sn.default.node.isRequired,disabled:sn.default.bool,enableUserSelectHack:sn.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:sn.default.arrayOf(sn.default.number),handle:sn.default.string,cancel:sn.default.string,nodeRef:sn.default.object,onStart:sn.default.func,onDrag:sn.default.func,onStop:sn.default.func,onMouseDown:sn.default.func,scale:sn.default.number,className:up.dontSetMe,style:up.dontSetMe,transform:up.dontSetMe});an(Uf,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),e.default=void 0;var t=f(x),n=d(Yy),r=d(ur),s=iH,i=kt,o=Br,a=Fr,l=d(zf),c=d(Hf);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,g){if(typeof WeakMap=="function")var w=new WeakMap,S=new WeakMap;return(f=function(k,E){if(!E&&k&&k.__esModule)return k;var C,T,N={__proto__:null,default:k};if(k===null||typeof k!="object"&&typeof k!="function")return N;if(C=E?S:w){if(C.has(k))return C.get(k);C.set(k,N)}for(const A in k)A!=="default"&&{}.hasOwnProperty.call(k,A)&&((T=(C=Object.defineProperty)&&Object.getOwnPropertyDescriptor(k,A))&&(T.get||T.set)?C(N,A,T):N[A]=k[A]);return N})(y,g)}function h(){return h=Object.assign?Object.assign.bind():function(y){for(var g=1;g<arguments.length;g++){var w=arguments[g];for(var S in w)({}).hasOwnProperty.call(w,S)&&(y[S]=w[S])}return y},h.apply(null,arguments)}function p(y,g,w){return(g=m(g))in y?Object.defineProperty(y,g,{value:w,enumerable:!0,configurable:!0,writable:!0}):y[g]=w,y}function m(y){var g=v(y,"string");return typeof g=="symbol"?g:g+""}function v(y,g){if(typeof y!="object"||!y)return y;var w=y[Symbol.toPrimitive];if(w!==void 0){var S=w.call(y,g);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(y)}class b extends t.Component{static getDerivedStateFromProps(g,w){let{position:S}=g,{prevPropsPosition:k}=w;return S&&(!k||S.x!==k.x||S.y!==k.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:S,prevPropsPosition:k}),{x:S.x,y:S.y,prevPropsPosition:{...S}}):null}constructor(g){super(g),p(this,"onDragStart",(w,S)=>{if((0,c.default)("Draggable: onDragStart: %j",S),this.props.onStart(w,(0,o.createDraggableData)(this,S))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(w,S)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",S);const k=(0,o.createDraggableData)(this,S),E={x:k.x,y:k.y,slackX:0,slackY:0};if(this.props.bounds){const{x:T,y:N}=E;E.x+=this.state.slackX,E.y+=this.state.slackY;const[A,R]=(0,o.getBoundPosition)(this,E.x,E.y);E.x=A,E.y=R,E.slackX=this.state.slackX+(T-E.x),E.slackY=this.state.slackY+(N-E.y),k.x=E.x,k.y=E.y,k.deltaX=E.x-this.state.x,k.deltaY=E.y-this.state.y}if(this.props.onDrag(w,k)===!1)return!1;this.setState(E)}),p(this,"onDragStop",(w,S)=>{if(!this.state.dragging||this.props.onStop(w,(0,o.createDraggableData)(this,S))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",S);const E={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:T,y:N}=this.props.position;E.x=T,E.y=N}this.setState(E)}),this.state={dragging:!1,dragged:!1,x:g.position?g.position.x:g.defaultPosition.x,y:g.position?g.position.y:g.defaultPosition.y,prevPropsPosition:{...g.position},slackX:0,slackY:0,isElementSVG:!1},g.position&&!(g.onDrag||g.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var g,w;return((w=(g=this.props)==null?void 0:g.nodeRef)==null?void 0:w.current)??r.default.findDOMNode(this)}render(){const{axis:g,bounds:w,children:S,defaultPosition:k,defaultClassName:E,defaultClassNameDragging:C,defaultClassNameDragged:T,position:N,positionOffset:A,scale:R,...I}=this.props;let O={},j=null;const U=!!!N||this.state.dragging,X=N||k,L={x:(0,o.canDragX)(this)&&U?this.state.x:X.x,y:(0,o.canDragY)(this)&&U?this.state.y:X.y};this.state.isElementSVG?j=(0,i.createSVGTransform)(L,A):O=(0,i.createCSSTransform)(L,A);const $=(0,s.clsx)(S.props.className||"",E,{[C]:this.state.dragging,[T]:this.state.dragged});return t.createElement(l.default,h({},I,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(S),{className:$,style:{...S.props.style,...O},transform:j}))}}e.default=b,p(b,"displayName","Draggable"),p(b,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),p(b,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(mA);const{default:EA,DraggableCore:BH}=mA;Bf.exports=EA;Bf.exports.default=EA;Bf.exports.DraggableCore=BH;var zH=Bf.exports;const HH=qs(zH),UH=zt("api-assistant"),VH=async(e,t,n)=>{try{const s=(await ie.post("/assistant",{message:e},{headers:{"x-tenant-id":t,"x-user-id":n}})).data;return typeof s!="object"||s===null?{reply:"",suggestions:[],actions:[]}:{reply:typeof s.reply=="string"?s.reply:"",suggestions:Array.isArray(s.suggestions)?s.suggestions:[],actions:Array.isArray(s.actions)?s.actions:[]}}catch(r){throw UH.error("Error sending message to assistant:",r),r}},CA=x.createContext(null),Va=()=>Date.now().toString()+"-"+Math.random().toString(36).slice(2,8),$H=()=>`sugg-${Va()}`,WH=e=>!e||!e.length?[]:e.map(t=>({id:$H(),label:t.label,action:t.action,payload:t.payload,tone:t.tone??"neutral"})),$a=e=>typeof e=="string"&&e.trim().length>0,ol=e=>e.replace(/[_-]+/g," ").split(/\s+/).filter(Boolean).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),GH=e=>{if(!$a(e))return;const t=e.split("@")[0];if(t)return ol(t.replace(/[\.|\-|_]+/g," "))},qH=e=>{var i,o,a,l;if(!e)return"Friend";const t=[e.fullName,e.full_name,e.displayName,e.preferredName,e.name,e.nickname,(i=e.profile)==null?void 0:i.displayName,(o=e.profile)==null?void 0:o.preferredName].find($a);if(t)return ol(t);const n=[e.FirstName,e.firstName,e.given_name,(a=e.profile)==null?void 0:a.firstName].find($a),r=[e.LastName,e.lastName,e.family_name,(l=e.profile)==null?void 0:l.lastName].find($a);if(n&&r)return ol(n+" "+r);if(n)return ol(n);const s=GH([e.email,e.Email,e.username].find($a));return s||"Friend"},YH=e=>{if(!e)return"Friend";const n=e.trim().split(/\s+/).filter(Boolean)[0]??"Friend";return ol(n)},QH=()=>{const e=new Date().getHours();return e>=5&&e<12?"Good morning":e>=12&&e<17?"Good afternoon":e>=17&&e<22?"Good evening":"Hello"},KH=({children:e,familyId:t=null,userId:n=null})=>{const[r,s]=x.useState([]),[i,o]=x.useState(!1),[a,l]=x.useState(!1),[c,d]=x.useState(!1),f=x.useMemo(()=>zt("linz-chat"),[]),{user:h}=vt(),p=x.useMemo(()=>YH(qH(h)),[h]),m=x.useMemo(()=>{if(typeof t=="number")return t;const O=(h==null?void 0:h.FamilyID)??(h==null?void 0:h.familyId);return typeof O=="number"?O:null},[t,h]),v=x.useRef(new Map),b=x.useCallback(O=>{s(j=>[...j,O])},[]),y=x.useMemo(()=>{const O=p,j=QH();return["{salutation}, {name}! How can I help you with FamConomy today?","Hey {name}! How are you doing? Need a hand with anything right now?","Hi {name}! Ready to explore FamConomy together?","Great to see you, {name}! What would you like to tackle next?","{name}, I'm here whenever you want a tour or quick tips."].map(U=>U.replace("{salutation}",j).replace(/\{name\}/g,O))},[p]);x.useEffect(()=>{d(!1)},[n,p]);const g=x.useCallback(()=>{if(c)return;const O=y[Math.floor(Math.random()*y.length)]??y[0];f.log("Greeting user on manual open",O),b({id:Va(),sender:"linz",text:O,createdAt:Date.now()}),d(!0)},[y,b,f,c]),w=x.useCallback((O,j)=>{if(!O&&!(j!=null&&j.allowEmpty))return null;const B={id:Va(),sender:"linz",text:O,createdAt:Date.now(),meta:j==null?void 0:j.meta,suggestions:j==null?void 0:j.suggestions};return b(B),j!=null&&j.autoOpen&&o(!0),B.id},[b]),S=x.useCallback((O,j)=>{if(!O&&!(j!=null&&j.allowEmpty))return null;const B={id:Va(),sender:"user",text:O,createdAt:Date.now(),meta:j==null?void 0:j.meta,suggestions:j==null?void 0:j.suggestions};return b(B),j!=null&&j.autoOpen&&o(!0),B.id},[b]),k=x.useCallback((O,j,B)=>{s(U=>U.map(X=>X.id===O?{...X,text:j,meta:(B==null?void 0:B.meta)??X.meta,suggestions:(B==null?void 0:B.suggestions)??X.suggestions}:X)),B!=null&&B.autoOpen&&o(!0)},[]),E=x.useCallback((O,j)=>{if(!O)return()=>{};const B=v.current,U=O.toLowerCase();return B.has(U)||B.set(U,new Set),B.get(U).add(j),()=>{const L=v.current.get(U);L==null||L.delete(j),L&&L.size===0&&v.current.delete(U)}},[]),C=x.useCallback((O,j)=>{if(!O)return;const B=v.current.get(O.toLowerCase());!B||B.size===0||B.forEach(U=>{try{U(j)}catch(X){f.error("Error handling LinZ chat action",O,X)}})},[f]),T=x.useCallback(async O=>{const j=O.trim();if(!j)return;b({id:Va(),sender:"user",text:j,createdAt:Date.now()});const B=m!==null?String(m):null,U=n??null;if(!B||!U){w("I'm still getting things readytry again once your profile and family are fully loaded.",{autoOpen:!0,meta:{reason:"missing-context"}});return}l(!0);try{const X=await VH(j,B,String(U)),L=WH(X.suggestions);w(X.reply??"",{autoOpen:!0,allowEmpty:!0,meta:{source:"assistant"},suggestions:L}),(X.actions??[]).forEach($=>{!$||!$.type||C($.type,$.payload)})}catch(X){f.error("Error sending message to LinZ:",X),w("Oops! Something went wrong. Please try again in a moment.",{autoOpen:!0,meta:{source:"assistant-error"}})}finally{l(!1)}},[b,w,f,m,C,n]),N=x.useCallback(O=>{o(!0),(O==null?void 0:O.greet)!==!1&&g()},[g]),A=x.useCallback(()=>o(!1),[]),R=x.useCallback(O=>{o(j=>{const B=!j;return B&&(O==null?void 0:O.greet)!==!1&&g(),B})},[g]),I=x.useMemo(()=>({messages:r,sendUserMessage:T,appendLinZMessage:w,appendUserMessage:S,updateLinZMessage:k,isOpen:i,isSending:a,openChat:N,closeChat:A,toggleChat:R,emitAction:C,registerActionHandler:E}),[w,S,k,A,C,i,a,r,N,E,T,R]);return u.jsx(CA.Provider,{value:I,children:e})},xc=()=>{const e=x.useContext(CA);if(!e)throw new Error("useLinZChat must be used within a LinZChatProvider");return e},XH=()=>{const{messages:e,sendUserMessage:t,isSending:n,emitAction:r,updateLinZMessage:s}=xc(),[i,o]=x.useState(""),a=x.useRef(null);x.useEffect(()=>{var h;(h=a.current)==null||h.scrollIntoView({behavior:"smooth"})},[e]);const l=async()=>{const h=i.trim();h&&(o(""),await t(h))},c=h=>{h.key==="Enter"&&(h.preventDefault(),l())},d=(h,p,m)=>{r(m.action,m.payload??void 0),s(h,p,{allowEmpty:!0,suggestions:[]})},f=h=>{switch(h){case"primary":return"bg-primary-600 text-white hover:bg-primary-700";case"secondary":return"bg-neutral-200 text-neutral-700 hover:bg-neutral-300 dark:bg-neutral-700 dark:text-neutral-100 dark:hover:bg-neutral-600";default:return"bg-white text-primary-600 border border-primary-200 hover:bg-primary-50 dark:bg-neutral-800 dark:text-primary-300 dark:border-primary-400/40 dark:hover:bg-neutral-700"}};return u.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:[u.jsxs("div",{className:"flex-1 overflow-y-auto mb-4",children:[e.map((h,p)=>{const m="flex mb-2 "+(h.sender==="user"?"justify-end":"justify-start"),v="rounded-lg p-3 max-w-[70%] "+(h.sender==="user"?"bg-blue-500 text-white":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200");return u.jsx("div",{className:m,children:u.jsxs("div",{className:"flex flex-col gap-2 max-w-full",children:[u.jsx("div",{className:v,children:h.text}),h.suggestions&&h.suggestions.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2",children:h.suggestions.map(b=>u.jsx("button",{type:"button",className:`px-3 py-1 text-sm rounded-full transition-colors ${f(b.tone)}`,onClick:()=>d(h.id,h.text,b),children:b.label},b.id))})]})},h.id??p)}),u.jsx("div",{ref:a})]}),u.jsxs("div",{className:"flex",children:[u.jsx("input",{type:"text",className:"flex-1 border border-gray-300 dark:border-gray-600 rounded-l-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Type your message...",value:i,onChange:h=>o(h.target.value),onKeyDown:c,disabled:n}),u.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-r-lg transition duration-300 disabled:opacity-60",onClick:l,disabled:n,children:n?"...":"Send"})]})]})},ZH=()=>{const e=()=>typeof window>"u"?{x:0,y:0}:{x:window.innerWidth-88,y:window.innerHeight-88},[t,n]=x.useState(e),[r,s]=x.useState(!0),i=x.useRef(null),o=x.useRef(!1),a=x.useRef(!1),l=6,c=x.useRef(null),{isOpen:d,toggleChat:f,closeChat:h,openChat:p}=xc();x.useEffect(()=>{if(typeof window>"u")return;const g=()=>{a.current||n(e()),s(!0)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]);const m=x.useCallback(()=>{if(o.current){o.current=!1;return}f({greet:!0})},[f]),v=x.useCallback(g=>{if(g.preventDefault(),g.stopPropagation(),o.current){o.current=!1;return}f({greet:!0})},[f]),b=x.useMemo(()=>"bg-gradient-to-r from-primary-500 via-secondary-500 to-accent-500 text-white rounded-full p-4 shadow-lg hover:opacity-90 transition-opacity z-50",[]),y=u.jsx(St.button,{id:"linz-chat-toggle",className:`${b} ${r?"cursor-grab":""}`,onClick:m,onTouchEnd:v,type:"button","aria-label":d?"Close LinZ chat":"Open LinZ chat",children:d?u.jsx(Oi,{size:28}):u.jsx(zT,{size:28})});return u.jsxs(u.Fragment,{children:[u.jsx(HH,{position:t,onStart:(g,w)=>{i.current={x:w.x,y:w.y},o.current=!1},onDrag:(g,w)=>{if(!i.current)return;Math.hypot(w.x-i.current.x,w.y-i.current.y)>l&&(o.current=!0)},onStop:(g,w)=>{n({x:w.x,y:w.y}),o.current&&(a.current=!0,p({greet:!1}),o.current=!1)},nodeRef:c,children:u.jsx("div",{ref:c,style:{position:"fixed",top:0,left:0,zIndex:50},children:y})}),u.jsx(Cn,{children:d&&u.jsxs(St.div,{className:"fixed bottom-20 right-6 w-80 h-[500px] bg-white dark:bg-gray-800 rounded-lg shadow-xl flex flex-col z-50",initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:{type:"spring",stiffness:260,damping:20},children:[u.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"LinZ Chat"}),u.jsx("button",{onClick:()=>h(),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:u.jsx(Oi,{size:24})})]}),u.jsx("div",{className:"flex-1 overflow-hidden",children:u.jsx(XH,{})})]})})]})},TA=x.createContext(null),JH=TA.Provider,eU=()=>x.useContext(TA),Mw=()=>{const[e,t]=x.useState(!1),[n,r]=x.useState(!1),[s,i]=x.useState(window.innerWidth<1024),o=gr();x.useEffect(()=>{const d=()=>{i(window.innerWidth<1024),window.innerWidth>=1024&&t(!1)};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),x.useEffect(()=>{s&&t(!1)},[o,s]);const a=x.useCallback(()=>{t(d=>!d)},[]),l=x.useCallback(()=>{r(!1),s&&t(!0)},[s]),c=x.useMemo(()=>({ensureSidebarExpanded:l,setSidebarCollapsed:r,openMobileMenu:()=>t(!0),closeMobileMenu:()=>t(!1),toggleMobileMenu:a,isSidebarCollapsed:n,isMobileMenuOpen:e,isMobile:s}),[l,n,e,s,a]);return u.jsx(JH,{value:c,children:u.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-neutral-50 via-neutral-100 to-neutral-200 dark:from-neutral-900 dark:via-neutral-800 dark:to-neutral-900 text-neutral-900 dark:text-white",children:[u.jsx(Cn,{children:(!s||e)&&u.jsx(St.div,{initial:{x:-320},animate:{x:0},exit:{x:-320},transition:{type:"spring",stiffness:300,damping:30},className:`${s?"fixed inset-y-0 left-0 z-40 w-64":"block"}`,children:u.jsx(z4,{collapsed:n,onCollapsedChange:r,onNavigate:()=>s&&t(!1)})})}),u.jsx(Cn,{children:s&&e&&u.jsx(St.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-neutral-900/50 backdrop-blur-sm z-30",onClick:a})}),u.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[u.jsx(H4,{onMenuToggle:a,isMobileMenuOpen:e}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:u.jsx(St.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:u.jsx(DI,{})})})]}),u.jsx(ZH,{})]})})},NA=async()=>(await ie.get("/family")).data,xg=async e=>(await ie.post("/family",{familyName:e})).data,tU=async(e,t,n)=>{await ie.put(`/family/${e}`,{familyName:t,familyMantra:n})},nU=async(e,t)=>{await ie.delete(`/family/${e}/members/${t}`)},rU=async()=>{await ie.delete("/family/leave")},bg="famconomy.activeFamilyId",Lw=()=>{if(typeof window>"u")return null;const e=window.localStorage.getItem(bg);if(!e)return null;const t=Number(e);return Number.isFinite(t)?t:null},Jn=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(null),[s,i]=x.useState(Lw),[o,a]=x.useState(!0),[l,c]=x.useState(null),d=x.useCallback(m=>{typeof window>"u"||(m===null?window.localStorage.removeItem(bg):window.localStorage.setItem(bg,String(m)))},[]),f=x.useCallback((m,v)=>{var g;if(!v.length){i(null),r(null),d(null);return}let b=m;b!==null&&!v.some(w=>w.FamilyID===b)&&(b=null),b===null&&(b=((g=v[0])==null?void 0:g.FamilyID)??null),i(b);const y=b!==null?v.find(w=>w.FamilyID===b)??null:null;r(y??null),d(b)},[d]),h=x.useCallback(async()=>{try{a(!0),c(null);const m=await NA(),v=m.families??[];t(v);const y=Lw()??s??m.activeFamilyId??null;return f(y,v),m}catch(m){return c(m instanceof Error?m.message:"An unknown error occurred while fetching family data"),t([]),r(null),i(null),d(null),null}finally{a(!1)}},[s,f,d]);x.useEffect(()=>{h()},[h]);const p=x.useCallback((m,v)=>{f(m,(v==null?void 0:v.families)??e)},[f,e]);return{family:n,families:e,activeFamilyId:s,setActiveFamilyId:p,isLoading:o,error:l,refetchFamily:h}},sU=async e=>(await ie.get(`/dashboard/${e}`)).data,AA=({onFamilyCreated:e})=>{const[t,n]=x.useState(""),[r,s]=x.useState(!1),[i,o]=x.useState(null),a=async l=>{if(l.preventDefault(),!t.trim()){o("Family name is required.");return}s(!0),o(null);try{await xg(t),e()}catch(c){o(c instanceof Error?c.message:"An unknown error occurred"),s(!1)}};return u.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center",children:u.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-neutral-800 p-8 rounded-2xl shadow-lg",children:[u.jsx("h2",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-2",children:"Create Your Family Circle"}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 mb-6",children:"Start by giving your family a name. You can invite members later."}),u.jsxs("form",{onSubmit:a,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"familyName",className:"sr-only",children:"Family Name"}),u.jsx("input",{id:"familyName",type:"text",value:t,onChange:l=>n(l.target.value),placeholder:"e.g., The Smiths",className:"w-full px-4 py-3 rounded-xl border border-neutral-300 dark:border-neutral-600 bg-transparent focus:outline-none focus:ring-2 focus:ring-primary-500",disabled:r})]}),i&&u.jsx("p",{className:"text-error-500 text-sm",children:i}),u.jsx("button",{type:"submit",className:"w-full px-4 py-3 rounded-xl bg-primary-500 text-white font-semibold hover:bg-primary-600 transition-colors disabled:bg-primary-300",disabled:r,children:r?"Creating...":"Create Family"})]})]})})};function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function br(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function en(e){br(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||wg(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var iU={};function oU(){return iU}function Fw(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Pu(e,t){br(2,arguments);var n=en(e),r=en(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function aU(e,t){br(2,arguments);var n=en(e),r=en(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function lU(e,t){return br(2,arguments),en(e).getTime()-en(t).getTime()}var cU={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},uU="trunc";function dU(e){return cU[uU]}function fU(e){br(1,arguments);var t=en(e);return t.setHours(23,59,59,999),t}function hU(e){br(1,arguments);var t=en(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function pU(e){br(1,arguments);var t=en(e);return fU(t).getTime()===hU(t).getTime()}function mU(e,t){br(2,arguments);var n=en(e),r=en(t),s=Pu(n,r),i=Math.abs(aU(n,r)),o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);var a=Pu(n,r)===-s;pU(en(e))&&i===1&&Pu(e,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function gU(e,t,n){br(2,arguments);var r=lU(e,t)/1e3;return dU()(r)}var yU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vU=function(t,n,r){var s,i=yU[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function dp(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var xU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},SU={date:dp({formats:xU,defaultWidth:"full"}),time:dp({formats:bU,defaultWidth:"full"}),dateTime:dp({formats:wU,defaultWidth:"full"})},kU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},EU=function(t,n,r,s){return kU[t]};function Oa(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):i;s=e.formattingValues[o]||e.formattingValues[i]}else{var a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[a]}var c=e.argumentCallback?e.argumentCallback(t):t;return s[c]}}var CU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},TU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},NU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},AU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_U={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},RU=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},DU={ordinalNumber:RU,era:Oa({values:CU,defaultWidth:"wide"}),quarter:Oa({values:TU,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Oa({values:NU,defaultWidth:"wide"}),day:Oa({values:AU,defaultWidth:"wide"}),dayPeriod:Oa({values:jU,defaultWidth:"wide",formattingValues:_U,defaultFormattingWidth:"wide"})};function Ma(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var o=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?PU(a,function(f){return f.test(o)}):IU(a,function(f){return f.test(o)}),c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var d=t.slice(o.length);return{value:c,rest:d}}}function IU(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function PU(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function OU(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var a=t.slice(s.length);return{value:o,rest:a}}}var MU=/^(\d+)(th|st|nd|rd)?/i,LU=/\d+/i,FU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BU={any:[/^b/i,/^(a|c)/i]},zU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},HU={any:[/1/i,/2/i,/3/i,/4/i]},UU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},VU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$U={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},WU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},GU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},YU={ordinalNumber:OU({matchPattern:MU,parsePattern:LU,valueCallback:function(t){return parseInt(t,10)}}),era:Ma({matchPatterns:FU,defaultMatchWidth:"wide",parsePatterns:BU,defaultParseWidth:"any"}),quarter:Ma({matchPatterns:zU,defaultMatchWidth:"wide",parsePatterns:HU,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ma({matchPatterns:UU,defaultMatchWidth:"wide",parsePatterns:VU,defaultParseWidth:"any"}),day:Ma({matchPatterns:$U,defaultMatchWidth:"wide",parsePatterns:WU,defaultParseWidth:"any"}),dayPeriod:Ma({matchPatterns:GU,defaultMatchWidth:"any",parsePatterns:qU,defaultParseWidth:"any"})},QU={code:"en-US",formatDistance:vU,formatLong:SU,formatRelative:EU,localize:DU,match:YU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jA(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function KU(e){return jA({},e)}var Bw=1440,XU=2520,fp=43200,ZU=86400;function JU(e,t,n){var r,s;br(2,arguments);var i=oU(),o=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:i.locale)!==null&&r!==void 0?r:QU;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var a=Pu(e,t);if(isNaN(a))throw new RangeError("Invalid time value");var l=jA(KU(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:a}),c,d;a>0?(c=en(t),d=en(e)):(c=en(e),d=en(t));var f=gU(d,c),h=(Fw(d)-Fw(c))/1e3,p=Math.round((f-h)/60),m;if(p<2)return n!=null&&n.includeSeconds?f<5?o.formatDistance("lessThanXSeconds",5,l):f<10?o.formatDistance("lessThanXSeconds",10,l):f<20?o.formatDistance("lessThanXSeconds",20,l):f<40?o.formatDistance("halfAMinute",0,l):f<60?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",1,l):p===0?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",p,l);if(p<45)return o.formatDistance("xMinutes",p,l);if(p<90)return o.formatDistance("aboutXHours",1,l);if(p<Bw){var v=Math.round(p/60);return o.formatDistance("aboutXHours",v,l)}else{if(p<XU)return o.formatDistance("xDays",1,l);if(p<fp){var b=Math.round(p/Bw);return o.formatDistance("xDays",b,l)}else if(p<ZU)return m=Math.round(p/fp),o.formatDistance("aboutXMonths",m,l)}if(m=mU(d,c),m<12){var y=Math.round(p/fp);return o.formatDistance("xMonths",y,l)}else{var g=m%12,w=Math.floor(m/12);return g<3?o.formatDistance("aboutXYears",w,l):g<9?o.formatDistance("overXYears",w,l):o.formatDistance("almostXYears",w+1,l)}}function eV(e,t){return br(1,arguments),JU(e,Date.now(),t)}const tV=()=>{const{notifications:e,markAsRead:t}=ZC();return u.jsxs("div",{className:"bg-white/90 dark:bg-neutral-800/90 backdrop-blur-sm rounded-2xl shadow-card border border-neutral-200/60 dark:border-neutral-700/60 p-6 h-full",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:"Recent Notifications"}),u.jsx("button",{className:"text-primary-600 dark:text-primary-400 text-sm font-medium hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:"View all"})]}),u.jsx("div",{className:"space-y-3",children:e.length>0?e.slice(0,5).map(n=>{if(!n||!n.createdAt)return null;const r=u.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-2xl border transition-colors ${n.readStatus?"bg-neutral-50 border-neutral-100 dark:bg-neutral-800 dark:border-neutral-700":"bg-primary-50/70 border-primary-100 dark:bg-primary-900/30 dark:border-primary-800"}`,children:[u.jsx("div",{className:"p-2 rounded-full bg-primary-100 text-primary-600 dark:bg-primary-900/50 dark:text-primary-300",children:u.jsx(tg,{size:16})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-200",children:n.message}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:eV(new Date(n.createdAt),{addSuffix:!0})})]}),!n.readStatus&&u.jsx("button",{onClick:s=>{n.link&&s.preventDefault(),t(n.id)},className:"text-xs font-medium text-primary-600 dark:text-primary-300 hover:text-primary-700 dark:hover:text-primary-200",children:"Mark as read"})]});return n.link?u.jsx(nn,{to:n.link,children:r},n.id):u.jsx("div",{children:r},n.id)}):u.jsxs("div",{className:"text-center py-6 text-neutral-500 dark:text-neutral-400",children:[u.jsx("div",{className:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-neutral-100 dark:bg-neutral-700/60",children:u.jsx(tg,{size:24,className:"text-neutral-400 dark:text-neutral-300"})}),u.jsx("p",{className:"text-sm",children:"No new notifications"})]})})]})},nV=({title:e,icon:t,description:n,link:r,stats:s,color:i,id:o})=>u.jsxs(nn,{to:r,id:o,className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-card hover:shadow-card-hover transition-all p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:`p-3 rounded-xl ${i}`,children:t}),s&&u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-2xl font-semibold text-neutral-900 dark:text-white",children:s.value}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:s.label})]})]}),u.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-2",children:e}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:n})]}),zw=()=>{var v;const{user:e}=vt(),{family:t}=Jn(),n=Zn(),[r,s]=x.useState(null),[i,o]=x.useState(!0),[a,l]=x.useState(null),c=x.useCallback(async()=>{if(!t){o(!1);return}try{o(!0);const b=await sU(t.FamilyID.toString());s(b)}catch(b){l(b instanceof Error?b.message:"An unknown error occurred")}finally{o(!1)}},[t]);x.useEffect(()=>{c()},[c]);const d=(v=t==null?void 0:t.FamilyName)==null?void 0:v.trim(),f=d?`${d} Family`:(e==null?void 0:e.fullName)||"Guest",h=[{title:"Family Calendar",icon:u.jsx(ng,{className:"text-primary-600 dark:text-primary-400",size:24}),description:"View and manage family events and schedules",link:"/calendar",stats:{value:(r==null?void 0:r.upcomingEvents.toString())||"0",label:"Upcoming events"},color:"bg-primary-100 dark:bg-primary-900/30"},{title:"Finance Overview",icon:u.jsx(WT,{className:"text-secondary-600 dark:text-secondary-400",size:24}),description:"Track family finances, expenses and savings",link:"/budget",stats:{value:"$0",label:"Monthly budget"},color:"bg-secondary-100 dark:bg-secondary-900/30",id:"budget-widget"},{title:"Family Members",icon:u.jsx(kd,{className:"text-accent-600 dark:text-accent-400",size:24}),description:"Manage family members and permissions",link:"/family",stats:{value:(r==null?void 0:r.activeMembers.toString())||"0",label:"Active members"},color:"bg-accent-100 dark:bg-accent-900/30"},{title:"Shopping Lists",icon:u.jsx(Sd,{className:"text-highlight-teal",size:24}),description:"Organize household shopping and needs",link:"/shopping",stats:{value:"0",label:"Active lists"},color:"bg-highlight-teal/20 dark:bg-highlight-teal/30"}],p=[{title:"My Tasks",icon:u.jsx(rg,{className:"text-primary-600 dark:text-primary-400",size:24}),description:"View and complete your assigned tasks",link:"/tasks",stats:{value:(r==null?void 0:r.pendingTasks.toString())||"0",label:"Pending tasks"},color:"bg-primary-100 dark:bg-primary-900/30",id:"tasks-widget"},{title:"Messages",icon:u.jsx(VT,{className:"text-secondary-600 dark:text-secondary-400",size:24}),description:"Chat with family members",link:"/messages",stats:{value:(r==null?void 0:r.unreadMessages.toString())||"0",label:"Unread messages"},color:"bg-secondary-100 dark:bg-secondary-900/30"},{title:"Journal",icon:u.jsx(BT,{className:"text-accent-600 dark:text-accent-400",size:24}),description:"Write about your day and experiences",link:"/journal",color:"bg-accent-100 dark:bg-accent-900/30"},{title:"Achievements",icon:u.jsx(ig,{className:"text-highlight-teal",size:24}),description:"Track your progress and rewards",link:"/achievements",stats:{value:"0",label:"Points earned"},color:"bg-highlight-teal/20 dark:bg-highlight-teal/30"}],m=(e==null?void 0:e.role)==="parent"?h:p;return i?u.jsx("div",{children:"Loading dashboard..."}):a?u.jsxs("div",{className:"text-error-500",children:["Error: ",a]}):!t&&!i?u.jsx(AA,{onFamilyCreated:()=>n("/family")}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{id:"dashboard-title",children:[u.jsxs("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-white mb-2",children:["Welcome, ",f]}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"Here's an overview of your family's activities and important updates"})]}),u.jsx("div",{id:"dashboard-overview",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map(b=>u.jsx(nV,{...b},b.title))}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-neutral-800 rounded-2xl shadow-card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4",children:"Recent Activity"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-2 rounded-lg bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400",children:u.jsx(ng,{size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-neutral-900 dark:text-white",children:"Family dinner scheduled for tomorrow at 7 PM"}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"2 hours ago"})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-2 rounded-lg bg-secondary-100 dark:bg-secondary-900/30 text-secondary-600 dark:text-secondary-400",children:u.jsx(rg,{size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-neutral-900 dark:text-white",children:"Emma completed homework task"}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"4 hours ago"})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-2 rounded-lg bg-accent-100 dark:bg-accent-900/30 text-accent-600 dark:text-accent-400",children:u.jsx(Sd,{size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-neutral-900 dark:text-white",children:"New items added to grocery list"}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Yesterday"})]})]})]})]}),u.jsx("div",{className:"lg:col-span-1",children:u.jsx(tV,{})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:"Task Completion"}),u.jsx(P4,{className:"text-success-500",size:24})]}),u.jsx("p",{className:"text-3xl font-bold text-neutral-900 dark:text-white mb-2",children:"0%"}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"Weekly progress"})]}),u.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:"Family Goals"}),u.jsx(ig,{className:"text-warning-500",size:24})]}),u.jsx("p",{className:"text-3xl font-bold text-neutral-900 dark:text-white mb-2",children:"0/0"}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"Monthly goals achieved"})]}),u.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:"Active Members"}),u.jsx(kd,{className:"text-primary-500",size:24})]}),u.jsx("p",{className:"text-3xl font-bold text-neutral-900 dark:text-white mb-2",children:(r==null?void 0:r.activeMembers.toString())||"0"}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"Currently online"})]})]})]})};var Vf,be,_A,RA,Zo,pi,Hw,DA,IA,Dd={},PA=[],rV=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ks(e,t){for(var n in t)e[n]=t[n];return e}function OA(e){var t=e.parentNode;t&&t.removeChild(e)}function P(e,t,n){var r,s,i,o={};for(i in t)i=="key"?r=t[i]:i=="ref"?s=t[i]:o[i]=t[i];if(arguments.length>2&&(o.children=arguments.length>3?Vf.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)o[i]===void 0&&(o[i]=e.defaultProps[i]);return Ou(e,o,r,s,null)}function Ou(e,t,n,r,s){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++_A};return s==null&&be.vnode!=null&&be.vnode(i),i}function ss(){return{current:null}}function wt(e){return e.children}function sV(e,t,n,r,s){var i;for(i in n)i==="children"||i==="key"||i in t||Id(e,i,null,n[i],r);for(i in t)s&&typeof t[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||n[i]===t[i]||Id(e,i,t[i],n[i],r)}function Uw(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||rV.test(t)?n:n+"px"}function Id(e,t,n,r,s){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Uw(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Uw(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?$w:Vw,i):e.removeEventListener(t,i?$w:Vw,i);else if(t!=="dangerouslySetInnerHTML"){if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t.indexOf("-")==-1?e.removeAttribute(t):e.setAttribute(t,n))}}function Vw(e){Zo=!0;try{return this.l[e.type+!1](be.event?be.event(e):e)}finally{Zo=!1}}function $w(e){Zo=!0;try{return this.l[e.type+!0](be.event?be.event(e):e)}finally{Zo=!1}}function Pn(e,t){this.props=e,this.context=t}function Ul(e,t){if(t==null)return e.__?Ul(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Ul(e):null}function MA(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return MA(e)}}function iV(e){Zo?setTimeout(e):DA(e)}function Sg(e){(!e.__d&&(e.__d=!0)&&pi.push(e)&&!Pd.__r++||Hw!==be.debounceRendering)&&((Hw=be.debounceRendering)||iV)(Pd)}function Pd(){var e,t,n,r,s,i,o,a;for(pi.sort(function(l,c){return l.__v.__b-c.__v.__b});e=pi.shift();)e.__d&&(t=pi.length,r=void 0,s=void 0,o=(i=(n=e).__v).__e,(a=n.__P)&&(r=[],(s=ks({},i)).__v=i.__v+1,R0(a,i,s,n.__n,a.ownerSVGElement!==void 0,i.__h!=null?[o]:null,r,o??Ul(i),i.__h),HA(r,i),i.__e!=o&&MA(i)),pi.length>t&&pi.sort(function(l,c){return l.__v.__b-c.__v.__b}));Pd.__r=0}function LA(e,t,n,r,s,i,o,a,l,c){var d,f,h,p,m,v,b,y=r&&r.__k||PA,g=y.length;for(n.__k=[],d=0;d<t.length;d++)if((p=n.__k[d]=(p=t[d])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?Ou(null,p,null,null,p):Array.isArray(p)?Ou(wt,{children:p},null,null,null):p.__b>0?Ou(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=n,p.__b=n.__b+1,(h=y[d])===null||h&&p.key==h.key&&p.type===h.type)y[d]=void 0;else for(f=0;f<g;f++){if((h=y[f])&&p.key==h.key&&p.type===h.type){y[f]=void 0;break}h=null}R0(e,p,h=h||Dd,s,i,o,a,l,c),m=p.__e,(f=p.ref)&&h.ref!=f&&(b||(b=[]),h.ref&&b.push(h.ref,null,p),b.push(f,p.__c||m,p)),m!=null?(v==null&&(v=m),typeof p.type=="function"&&p.__k===h.__k?p.__d=l=FA(p,l,e):l=BA(e,p,h,y,m,l),typeof n.type=="function"&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=e&&(l=Ul(h))}for(n.__e=v,d=g;d--;)y[d]!=null&&(typeof n.type=="function"&&y[d].__e!=null&&y[d].__e==n.__d&&(n.__d=zA(r).nextSibling),VA(y[d],y[d]));if(b)for(d=0;d<b.length;d++)UA(b[d],b[++d],b[++d])}function FA(e,t,n){for(var r,s=e.__k,i=0;s&&i<s.length;i++)(r=s[i])&&(r.__=e,t=typeof r.type=="function"?FA(r,t,n):BA(n,r,r,s,r.__e,t));return t}function Od(e,t){return t=t||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(n){Od(n,t)}):t.push(e)),t}function BA(e,t,n,r,s,i){var o,a,l;if(t.__d!==void 0)o=t.__d,t.__d=void 0;else if(n==null||s!=i||s.parentNode==null)e:if(i==null||i.parentNode!==e)e.appendChild(s),o=null;else{for(a=i,l=0;(a=a.nextSibling)&&l<r.length;l+=1)if(a==s)break e;e.insertBefore(s,i),o=i}return o!==void 0?o:s.nextSibling}function zA(e){var t,n,r;if(e.type==null||typeof e.type=="string")return e.__e;if(e.__k){for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(r=zA(n)))return r}return null}function R0(e,t,n,r,s,i,o,a,l){var c,d,f,h,p,m,v,b,y,g,w,S,k,E,C,T=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,a=t.__e=n.__e,t.__h=null,i=[a]),(c=be.__b)&&c(t);try{e:if(typeof T=="function"){if(b=t.props,y=(c=T.contextType)&&r[c.__c],g=c?y?y.props.value:c.__:r,n.__c?v=(d=t.__c=n.__c).__=d.__E:("prototype"in T&&T.prototype.render?t.__c=d=new T(b,g):(t.__c=d=new Pn(b,g),d.constructor=T,d.render=aV),y&&y.sub(d),d.props=b,d.state||(d.state={}),d.context=g,d.__n=r,f=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),T.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=ks({},d.__s)),ks(d.__s,T.getDerivedStateFromProps(b,d.__s))),h=d.props,p=d.state,d.__v=t,f)T.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(T.getDerivedStateFromProps==null&&b!==h&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(b,g),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(b,d.__s,g)===!1||t.__v===n.__v){for(t.__v!==n.__v&&(d.props=b,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(N){N&&(N.__=t)}),w=0;w<d._sb.length;w++)d.__h.push(d._sb[w]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(b,d.__s,g),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(h,p,m)})}if(d.context=g,d.props=b,d.__P=e,S=be.__r,k=0,"prototype"in T&&T.prototype.render){for(d.state=d.__s,d.__d=!1,S&&S(t),c=d.render(d.props,d.state,d.context),E=0;E<d._sb.length;E++)d.__h.push(d._sb[E]);d._sb=[]}else do d.__d=!1,S&&S(t),c=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++k<25);d.state=d.__s,d.getChildContext!=null&&(r=ks(ks({},r),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(m=d.getSnapshotBeforeUpdate(h,p)),C=c!=null&&c.type===wt&&c.key==null?c.props.children:c,LA(e,Array.isArray(C)?C:[C],t,n,r,s,i,o,a,l),d.base=t.__e,t.__h=null,d.__h.length&&o.push(d),v&&(d.__E=d.__=null),d.__e=!1}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=oV(n.__e,t,n,r,s,i,o,l);(c=be.diffed)&&c(t)}catch(N){t.__v=null,(l||i!=null)&&(t.__e=a,t.__h=!!l,i[i.indexOf(a)]=null),be.__e(N,t,n)}}function HA(e,t){be.__c&&be.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(r){r.call(n)})}catch(r){be.__e(r,n.__v)}})}function oV(e,t,n,r,s,i,o,a){var l,c,d,f=n.props,h=t.props,p=t.type,m=0;if(p==="svg"&&(s=!0),i!=null){for(;m<i.length;m++)if((l=i[m])&&"setAttribute"in l==!!p&&(p?l.localName===p:l.nodeType===3)){e=l,i[m]=null;break}}if(e==null){if(p===null)return document.createTextNode(h);e=s?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),i=null,a=!1}if(p===null)f===h||a&&e.data===h||(e.data=h);else{if(i=i&&Vf.call(e.childNodes),c=(f=n.props||Dd).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!a){if(i!=null)for(f={},m=0;m<e.attributes.length;m++)f[e.attributes[m].name]=e.attributes[m].value;(d||c)&&(d&&(c&&d.__html==c.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(sV(e,h,f,s,a),d)t.__k=[];else if(m=t.props.children,LA(e,Array.isArray(m)?m:[m],t,n,r,s&&p!=="foreignObject",i,o,i?i[0]:n.__k&&Ul(n,0),a),i!=null)for(m=i.length;m--;)i[m]!=null&&OA(i[m]);a||("value"in h&&(m=h.value)!==void 0&&(m!==e.value||p==="progress"&&!m||p==="option"&&m!==f.value)&&Id(e,"value",m,f.value,!1),"checked"in h&&(m=h.checked)!==void 0&&m!==e.checked&&Id(e,"checked",m,f.checked,!1))}return e}function UA(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){be.__e(r,n)}}function VA(e,t,n){var r,s;if(be.unmount&&be.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||UA(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){be.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&VA(r[s],t,n||typeof e.type!="function");n||e.__e==null||OA(e.__e),e.__=e.__e=e.__d=void 0}function aV(e,t,n){return this.constructor(e,n)}function Vl(e,t,n){var r,s,i;be.__&&be.__(e,t),s=(r=!1)?null:t.__k,i=[],R0(t,e=t.__k=P(wt,null,[e]),s||Dd,Dd,t.ownerSVGElement!==void 0,s?null:t.firstChild?Vf.call(t.childNodes):null,i,s?s.__e:t.firstChild,r),HA(i,e)}function lV(e,t){var n={__c:t="__cC"+IA++,__:e,Consumer:function(r,s){return r.children(s)},Provider:function(r){var s,i;return this.getChildContext||(s=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&s.some(function(a){a.__e=!0,Sg(a)})},this.sub=function(o){s.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){s.splice(s.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Vf=PA.slice,be={__e:function(e,t,n,r){for(var s,i,o;t=t.__;)if((s=t.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(e)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,r||{}),o=s.__d),o)return s.__E=s}catch(a){e=a}throw e}},_A=0,RA=function(e){return e!=null&&e.constructor===void 0},Zo=!1,Pn.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ks({},this.state),typeof e=="function"&&(e=e(ks({},n),this.props)),e&&ks(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Sg(this))},Pn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Sg(this))},Pn.prototype.render=wt,pi=[],DA=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Pd.__r=0,IA=0;var Tr,hp,Ww,$A=[],pp=[],Gw=be.__b,qw=be.__r,Yw=be.diffed,Qw=be.__c,Kw=be.unmount;function cV(){for(var e;e=$A.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Mu),e.__H.__h.forEach(kg),e.__H.__h=[]}catch(t){e.__H.__h=[],be.__e(t,e.__v)}}be.__b=function(e){Tr=null,Gw&&Gw(e)},be.__r=function(e){qw&&qw(e);var t=(Tr=e.__c).__H;t&&(hp===Tr?(t.__h=[],Tr.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=pp,n.__N=n.i=void 0})):(t.__h.forEach(Mu),t.__h.forEach(kg),t.__h=[])),hp=Tr},be.diffed=function(e){Yw&&Yw(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&($A.push(t)!==1&&Ww===be.requestAnimationFrame||((Ww=be.requestAnimationFrame)||uV)(cV)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==pp&&(n.__=n.__V),n.i=void 0,n.__V=pp})),hp=Tr=null},be.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Mu),n.__h=n.__h.filter(function(r){return!r.__||kg(r)})}catch(r){t.some(function(s){s.__h&&(s.__h=[])}),t=[],be.__e(r,n.__v)}}),Qw&&Qw(e,t)},be.unmount=function(e){Kw&&Kw(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Mu(r)}catch(s){t=s}}),n.__H=void 0,t&&be.__e(t,n.__v))};var Xw=typeof requestAnimationFrame=="function";function uV(e){var t,n=function(){clearTimeout(r),Xw&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Xw&&(t=requestAnimationFrame(n))}function Mu(e){var t=Tr,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),Tr=t}function kg(e){var t=Tr;e.__c=e.__(),Tr=t}function dV(e,t){for(var n in t)e[n]=t[n];return e}function Zw(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function Jw(e){this.props=e}(Jw.prototype=new Pn).isPureReactComponent=!0,Jw.prototype.shouldComponentUpdate=function(e,t){return Zw(this.props,e)||Zw(this.state,t)};var eS=be.__b;be.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),eS&&eS(e)};var fV=be.__e;be.__e=function(e,t,n,r){if(e.then){for(var s,i=t;i=i.__;)if((s=i.__c)&&s.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),s.__c(e,t)}fV(e,t,n,r)};var tS=be.unmount;function WA(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=dV({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return WA(r,t,n)})),e}function GA(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return GA(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function mp(){this.__u=0,this.t=null,this.__b=null}function qA(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function tu(){this.u=null,this.o=null}be.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&e.__h===!0&&(e.type=null),tS&&tS(e)},(mp.prototype=new Pn).__c=function(e,t){var n=t.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var s=qA(r.__v),i=!1,o=function(){i||(i=!0,n.__R=null,s?s(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=GA(c,c.__c.__P,c.__c.__O)}var d;for(r.setState({__a:r.__b=null});d=r.t.pop();)d.forceUpdate()}},l=t.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(o,o)},mp.prototype.componentWillUnmount=function(){this.t=[]},mp.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=WA(this.__b,n,r.__O=r.__P)}this.__b=null}var s=t.__a&&P(wt,null,e.fallback);return s&&(s.__h=null),[P(wt,null,t.__a?null:e.children),s]};var nS=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function hV(e){return this.getChildContext=function(){return e.context},e.children}function pV(e){var t=this,n=e.i;t.componentWillUnmount=function(){Vl(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),t.i.appendChild(r)},insertBefore:function(r,s){this.childNodes.push(r),t.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),t.i.removeChild(r)}}),Vl(P(hV,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function mV(e,t){var n=P(pV,{__v:e,i:t});return n.containerInfo=t,n}(tu.prototype=new Pn).__a=function(e){var t=this,n=qA(t.__v),r=t.o.get(e);return r[0]++,function(s){var i=function(){t.props.revealOrder?(r.push(s),nS(t,e,r)):s()};n?n(i):i()}},tu.prototype.render=function(e){this.u=null,this.o=new Map;var t=Od(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},tu.prototype.componentDidUpdate=tu.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){nS(e,n,t)})};var gV=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,yV=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,vV=typeof document<"u",xV=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(e)};Pn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(Pn.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var rS=be.event;function bV(){}function wV(){return this.cancelBubble}function SV(){return this.defaultPrevented}be.event=function(e){return rS&&(e=rS(e)),e.persist=bV,e.isPropagationStopped=wV,e.isDefaultPrevented=SV,e.nativeEvent=e};var sS={configurable:!0,get:function(){return this.class}},iS=be.vnode;be.vnode=function(e){var t=e.type,n=e.props,r=n;if(typeof t=="string"){var s=t.indexOf("-")===-1;for(var i in r={},n){var o=n[i];vV&&i==="children"&&t==="noscript"||i==="value"&&"defaultValue"in n&&o==null||(i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&o===!0?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!xV(n.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():s&&yV.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),r[i]&&(i="oninputCapture")),r[i]=o)}t=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Od(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),t=="select"&&r.defaultValue!=null&&(r.value=Od(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),e.props=r,n.class!=n.className&&(sS.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",sS))}e.$$typeof=gV,iS&&iS(e)};var oS=be.__r;be.__r=function(e){oS&&oS(e),e.__c};const YA=[],Eg=new Map;function QA(e){YA.push(e),Eg.forEach(t=>{XA(t,e)})}function kV(e){e.isConnected&&e.getRootNode&&KA(e.getRootNode())}function KA(e){let t=Eg.get(e);if(!t||!t.isConnected){if(t=e.querySelector("style[data-fullcalendar]"),!t){t=document.createElement("style"),t.setAttribute("data-fullcalendar","");const n=CV();n&&(t.nonce=n);const r=e===document?document.head:e,s=e===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(t,s)}Eg.set(e,t),EV(t)}}function EV(e){for(const t of YA)XA(e,t)}function XA(e,t){const{sheet:n}=e,r=n.cssRules.length;t.split("}").forEach((s,i)=>{s=s.trim(),s&&n.insertRule(s+"}",r+i)})}let gp;function CV(){return gp===void 0&&(gp=TV()),gp}function TV(){const e=document.querySelector('meta[name="csp-nonce"]');if(e&&e.hasAttribute("content"))return e.getAttribute("content");const t=document.querySelector("script[nonce]");return t&&t.nonce||""}typeof document<"u"&&KA(document);var NV=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';QA(NV);class D0{constructor(t){this.drainedOption=t,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(t){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),t==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),t))}pause(t=""){let{pauseDepths:n}=this;n[t]=(n[t]||0)+1,this.clearTimeout()}resume(t="",n){let{pauseDepths:r}=this;t in r&&(n?delete r[t]:(r[t]-=1,r[t]<=0&&delete r[t]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function I0(e){e.parentNode&&e.parentNode.removeChild(e)}function Jt(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(AV(e,t))return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1);return null}function AV(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}function jV(e,t){let n=e instanceof HTMLElement?[e]:e,r=[];for(let s=0;s<n.length;s+=1){let i=n[s].querySelectorAll(t);for(let o=0;o<i.length;o+=1)r.push(i[o])}return r}const _V=/(top|left|right|bottom|width|height)$/i;function al(e,t){for(let n in t)ZA(e,n,t[n])}function ZA(e,t,n){n==null?e.style[t]="":typeof n=="number"&&_V.test(t)?e.style[t]=`${n}px`:e.style[t]=n}function JA(e){var t,n;return(n=(t=e.composedPath)===null||t===void 0?void 0:t.call(e)[0])!==null&&n!==void 0?n:e.target}let aS=0;function $f(){return aS+=1,"fc-dom-"+aS}function Wf(e){e.preventDefault()}function RV(e,t){return n=>{let r=Jt(n.target,e);r&&t.call(r,n,r)}}function ej(e,t,n,r){let s=RV(n,r);return e.addEventListener(t,s),()=>{e.removeEventListener(t,s)}}function DV(e,t,n,r){let s;return ej(e,"mouseover",t,(i,o)=>{if(o!==s){s=o,n(i,o);let a=l=>{s=null,r(l,o),o.removeEventListener("mouseleave",a)};o.addEventListener("mouseleave",a)}})}const lS=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function IV(e,t){let n=r=>{t(r),lS.forEach(s=>{e.removeEventListener(s,n)})};lS.forEach(r=>{e.addEventListener(r,n)})}function tj(e){return Object.assign({onClick:e},nj(e))}function nj(e){return{tabIndex:0,onKeyDown(t){(t.key==="Enter"||t.key===" ")&&(e(t),t.preventDefault())}}}let cS=0;function Gi(){return cS+=1,String(cS)}function P0(){document.body.classList.add("fc-not-allowed")}function O0(){document.body.classList.remove("fc-not-allowed")}function PV(e){e.style.userSelect="none",e.style.webkitUserSelect="none",e.addEventListener("selectstart",Wf)}function OV(e){e.style.userSelect="",e.style.webkitUserSelect="",e.removeEventListener("selectstart",Wf)}function MV(e){e.addEventListener("contextmenu",Wf)}function LV(e){e.removeEventListener("contextmenu",Wf)}function FV(e){let t=[],n=[],r,s;for(typeof e=="string"?n=e.split(/\s*,\s*/):typeof e=="function"?n=[e]:Array.isArray(e)&&(n=e),r=0;r<n.length;r+=1)s=n[r],typeof s=="string"?t.push(s.charAt(0)==="-"?{field:s.substring(1),order:-1}:{field:s,order:1}):typeof s=="function"&&t.push({func:s});return t}function BV(e,t,n){let r,s;for(r=0;r<n.length;r+=1)if(s=zV(e,t,n[r]),s)return s;return 0}function zV(e,t,n){return n.func?n.func(e,t):HV(e[n.field],t[n.field])*(n.order||1)}function HV(e,t){return!e&&!t?0:t==null?-1:e==null?1:typeof e=="string"||typeof t=="string"?String(e).localeCompare(String(t)):e-t}function yp(e,t){let n=String(e);return"000".substr(0,t-n.length)+n}function ll(e,t,n){return typeof e=="function"?e(...t):typeof e=="string"?t.reduce((r,s,i)=>r.replace("$"+i,s||""),e):n}function UV(e,t){return e-t}function vp(e){return e%1===0}function VV(e){let t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}const $V=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Qe(e,t){return typeof e=="string"?WV(e):typeof e=="object"&&e?uS(e):typeof e=="number"?uS({[t||"milliseconds"]:e}):null}function WV(e){let t=$V.exec(e);if(t){let n=t[1]?-1:1;return{years:0,months:0,days:n*(t[2]?parseInt(t[2],10):0),milliseconds:n*((t[3]?parseInt(t[3],10):0)*60*60*1e3+(t[4]?parseInt(t[4],10):0)*60*1e3+(t[5]?parseInt(t[5],10):0)*1e3+(t[6]?parseInt(t[6],10):0))}}return null}function uS(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:(e.hours||e.hour||0)*60*60*1e3+(e.minutes||e.minute||0)*60*1e3+(e.seconds||e.second||0)*1e3+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=n*7,t.specifiedWeeks=!0),t}function GV(e,t){return e.years===t.years&&e.months===t.months&&e.days===t.days&&e.milliseconds===t.milliseconds}function qV(e,t){return{years:e.years-t.years,months:e.months-t.months,days:e.days-t.days,milliseconds:e.milliseconds-t.milliseconds}}function YV(e){return Io(e)/365}function QV(e){return Io(e)/30}function Io(e){return $l(e)/864e5}function $l(e){return e.years*(365*864e5)+e.months*(30*864e5)+e.days*864e5+e.milliseconds}function Cg(e){let t=e.milliseconds;if(t){if(t%1e3!==0)return{unit:"millisecond",value:t};if(t%(1e3*60)!==0)return{unit:"second",value:t/1e3};if(t%(1e3*60*60)!==0)return{unit:"minute",value:t/(1e3*60)};if(t)return{unit:"hour",value:t/(1e3*60*60)}}return e.days?e.specifiedWeeks&&e.days%7===0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function $s(e,t,n){if(e===t)return!0;let r=e.length,s;if(r!==t.length)return!1;for(s=0;s<r;s+=1)if(!(n?n(e[s],t[s]):e[s]===t[s]))return!1;return!0}const KV=["sun","mon","tue","wed","thu","fri","sat"];function dS(e,t){let n=Es(e);return n[2]+=t*7,xn(n)}function Bt(e,t){let n=Es(e);return n[2]+=t,xn(n)}function Ws(e,t){let n=Es(e);return n[6]+=t,xn(n)}function XV(e,t){return fa(e,t)/7}function fa(e,t){return(t.valueOf()-e.valueOf())/(1e3*60*60*24)}function ZV(e,t){return(t.valueOf()-e.valueOf())/(1e3*60*60)}function JV(e,t){return(t.valueOf()-e.valueOf())/(1e3*60)}function e6(e,t){return(t.valueOf()-e.valueOf())/1e3}function t6(e,t){let n=dt(e),r=dt(t);return{years:0,months:0,days:Math.round(fa(n,r)),milliseconds:t.valueOf()-r.valueOf()-(e.valueOf()-n.valueOf())}}function n6(e,t){let n=Md(e,t);return n!==null&&n%7===0?n/7:null}function Md(e,t){return Cs(e)===Cs(t)?Math.round(fa(e,t)):null}function dt(e){return xn([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function r6(e){return xn([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}function s6(e){return xn([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}function i6(e){return xn([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}function o6(e,t,n){let r=e.getUTCFullYear(),s=xp(e,r,t,n);if(s<1)return xp(e,r-1,t,n);let i=xp(e,r+1,t,n);return i>=1?Math.min(s,i):s}function xp(e,t,n,r){let s=xn([t,0,1+a6(t,n,r)]),i=dt(e),o=Math.round(fa(s,i));return Math.floor(o/7)+1}function a6(e,t,n){let r=7+t-n;return-((7+xn([e,0,r]).getUTCDay()-t)%7)+r-1}function fS(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function hS(e){return new Date(e[0],e[1]||0,e[2]==null?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function Es(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function xn(e){return e.length===1&&(e=e.concat([0])),new Date(Date.UTC(...e))}function rj(e){return!isNaN(e.valueOf())}function Cs(e){return e.getUTCHours()*1e3*60*60+e.getUTCMinutes()*1e3*60+e.getUTCSeconds()*1e3+e.getUTCMilliseconds()}function l6(e,t,n=!1){let r=e.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(t==null?r=r.replace("Z",""):t!==0&&(r=r.replace("Z",L0(t,!0)))),r}function M0(e){return e.toISOString().replace(/T.*$/,"")}function c6(e){return e.toISOString().match(/^\d{4}-\d{2}/)[0]}function L0(e,t=!1){let n=e<0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),i=Math.round(r%60);return t?`${n+yp(s,2)}:${yp(i,2)}`:`GMT${n}${s}${i?`:${yp(i,2)}`:""}`}function qe(e,t,n){let r,s;return function(...i){if(!r)s=e.apply(this,i);else if(!$s(r,i)){let o=e.apply(this,i);(!t||!t(o,s))&&(s=o)}return r=i,s}}function Lu(e,t,n){let r,s;return i=>(r?pr(r,i)||(s=e.call(this,i)):s=e.call(this,i),r=i,s)}const bp={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Ld={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},nu=/\s*([ap])\.?m\.?/i,u6=/,/g,d6=/\s+/g,f6=/\u200e/g,h6=/UTC|GMT/;class p6{constructor(t){let n={},r={},s=9;for(let i in t)i in bp?(r[i]=t[i],bp[i]<9&&(s=Math.min(bp[i],s))):(n[i]=t[i],i in Ld&&(s=Math.min(Ld[i],s)));this.standardDateProps=n,this.extendedSettings=r,this.smallestUnitNum=s,this.buildFormattingFunc=qe(pS)}format(t,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(t)}formatRange(t,n,r,s){let{standardDateProps:i,extendedSettings:o}=this,a=b6(t.marker,n.marker,r.calendarSystem);if(!a)return this.format(t,r);let l=a;l>1&&(i.year==="numeric"||i.year==="2-digit")&&(i.month==="numeric"||i.month==="2-digit")&&(i.day==="numeric"||i.day==="2-digit")&&(l=1);let c=this.format(t,r),d=this.format(n,r);if(c===d)return c;let f=w6(i,l),h=pS(f,o,r),p=h(t),m=h(n),v=S6(c,p,d,m),b=o.separator||s||r.defaultSeparator||"";return v?v.before+p+b+m+v.after:c+b+d}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function pS(e,t,n){let r=Object.keys(e).length;return r===1&&e.timeZoneName==="short"?s=>L0(s.timeZoneOffset):r===0&&t.week?s=>x6(n.computeWeekNumber(s.marker),n.weekText,n.weekTextLong,n.locale,t.week):m6(e,t,n)}function m6(e,t,n){e=Object.assign({},e),t=Object.assign({},t),g6(e,t),e.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,e),s;if(t.omitZeroMinute){let i=Object.assign({},e);delete i.minute,s=new Intl.DateTimeFormat(n.locale.codes,i)}return i=>{let{marker:o}=i,a;s&&!o.getUTCMinutes()?a=s:a=r;let l=a.format(o);return y6(l,i,e,t,n)}}function g6(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit")),e.timeZoneName==="long"&&(e.timeZoneName="short"),t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}function y6(e,t,n,r,s){return e=e.replace(f6,""),n.timeZoneName==="short"&&(e=v6(e,s.timeZone==="UTC"||t.timeZoneOffset==null?"UTC":L0(t.timeZoneOffset))),r.omitCommas&&(e=e.replace(u6,"").trim()),r.omitZeroMinute&&(e=e.replace(":00","")),r.meridiem===!1?e=e.replace(nu,"").trim():r.meridiem==="narrow"?e=e.replace(nu,(i,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?e=e.replace(nu,(i,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(e=e.replace(nu,i=>i.toLocaleLowerCase())),e=e.replace(d6," "),e=e.trim(),e}function v6(e,t){let n=!1;return e=e.replace(h6,()=>(n=!0,t)),n||(e+=` ${t}`),e}function x6(e,t,n,r,s){let i=[];return s==="long"?i.push(n):(s==="short"||s==="narrow")&&i.push(t),(s==="long"||s==="short")&&i.push(" "),i.push(r.simpleNumberFormat.format(e)),r.options.direction==="rtl"&&i.reverse(),i.join("")}function b6(e,t,n){return n.getMarkerYear(e)!==n.getMarkerYear(t)?5:n.getMarkerMonth(e)!==n.getMarkerMonth(t)?4:n.getMarkerDay(e)!==n.getMarkerDay(t)?2:Cs(e)!==Cs(t)?1:0}function w6(e,t){let n={};for(let r in e)(!(r in Ld)||Ld[r]<=t)&&(n[r]=e[r]);return n}function S6(e,t,n,r){let s=0;for(;s<e.length;){let i=e.indexOf(t,s);if(i===-1)break;let o=e.substr(0,i);s=i+t.length;let a=e.substr(s),l=0;for(;l<n.length;){let c=n.indexOf(r,l);if(c===-1)break;let d=n.substr(0,c);l=c+r.length;let f=n.substr(l);if(o===d&&a===f)return{before:o,after:a}}}return null}function mS(e,t){let n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Fd(e,t,n,r){let s=mS(e,n.calendarSystem),i=t?mS(t,n.calendarSystem):null;return{date:s,start:s,end:i,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class k6{constructor(t){this.cmdStr=t}format(t,n,r){return n.cmdFormatter(this.cmdStr,Fd(t,null,n,r))}formatRange(t,n,r,s){return r.cmdFormatter(this.cmdStr,Fd(t,n,r,s))}}class E6{constructor(t){this.func=t}format(t,n,r){return this.func(Fd(t,null,n,r))}formatRange(t,n,r,s){return this.func(Fd(t,n,r,s))}}function Lt(e){return typeof e=="object"&&e?new p6(e):typeof e=="string"?new k6(e):typeof e=="function"?new E6(e):null}const gS={navLinkDayClick:D,navLinkWeekClick:D,duration:Qe,bootstrapFontAwesome:D,buttonIcons:D,customButtons:D,defaultAllDayEventDuration:Qe,defaultTimedEventDuration:Qe,nextDayThreshold:Qe,scrollTime:Qe,scrollTimeReset:Boolean,slotMinTime:Qe,slotMaxTime:Qe,dayPopoverFormat:Lt,slotDuration:Qe,snapDuration:Qe,headerToolbar:D,footerToolbar:D,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Lt,dayHeaderClassNames:D,dayHeaderContent:D,dayHeaderDidMount:D,dayHeaderWillUnmount:D,dayCellClassNames:D,dayCellContent:D,dayCellDidMount:D,dayCellWillUnmount:D,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:D,weekNumbers:Boolean,weekNumberClassNames:D,weekNumberContent:D,weekNumberDidMount:D,weekNumberWillUnmount:D,editable:Boolean,viewClassNames:D,viewDidMount:D,viewWillUnmount:D,nowIndicator:Boolean,nowIndicatorSnap:D,nowIndicatorClassNames:D,nowIndicatorContent:D,nowIndicatorDidMount:D,nowIndicatorWillUnmount:D,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:D,locale:D,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:D,eventOrder:FV,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:D,contentHeight:D,direction:String,weekNumberFormat:Lt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:D,initialDate:D,now:D,eventDataTransform:D,stickyHeaderDates:D,stickyFooterScrollbar:D,viewHeight:D,defaultAllDay:Boolean,eventSourceFailure:D,eventSourceSuccess:D,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:D,eventConstraint:D,eventAllow:D,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:D,eventContent:D,eventDidMount:D,eventWillUnmount:D,selectConstraint:D,selectOverlap:D,selectAllow:D,droppable:Boolean,unselectCancel:String,slotLabelFormat:D,slotLaneClassNames:D,slotLaneContent:D,slotLaneDidMount:D,slotLaneWillUnmount:D,slotLabelClassNames:D,slotLabelContent:D,slotLabelDidMount:D,slotLabelWillUnmount:D,dayMaxEvents:D,dayMaxEventRows:D,dayMinWidth:Number,slotLabelInterval:Qe,allDayText:String,allDayClassNames:D,allDayContent:D,allDayDidMount:D,allDayWillUnmount:D,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Lt,rerenderDelay:Number,moreLinkText:D,moreLinkHint:D,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:D,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Qe,hiddenDays:D,fixedWeekCount:Boolean,validRange:D,visibleRange:D,titleFormat:D,eventInteractive:Boolean,noEventsText:String,viewHint:D,navLinkHint:D,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:D,moreLinkClassNames:D,moreLinkContent:D,moreLinkDidMount:D,moreLinkWillUnmount:D,monthStartFormat:Lt,handleCustomRendering:D,customRenderingMetaMap:D,customRenderingReplaces:Boolean},cl={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},yS={datesSet:D,eventsSet:D,eventAdd:D,eventChange:D,eventRemove:D,windowResize:D,eventClick:D,eventMouseEnter:D,eventMouseLeave:D,select:D,unselect:D,loading:D,_unmount:D,_beforeprint:D,_afterprint:D,_noEventDrop:D,_noEventResize:D,_resize:D,_scrollRequest:D},vS={buttonText:D,buttonHints:D,views:D,plugins:D,initialEvents:D,events:D,eventSources:D},fi={headerToolbar:hi,footerToolbar:hi,buttonText:hi,buttonHints:hi,buttonIcons:hi,dateIncrement:hi,plugins:ru,events:ru,eventSources:ru,resources:ru};function hi(e,t){return typeof e=="object"&&typeof t=="object"&&e&&t?pr(e,t):e===t}function ru(e,t){return Array.isArray(e)&&Array.isArray(t)?$s(e,t):e===t}const C6={type:String,component:D,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:D,usesMinMaxTime:Boolean,classNames:D,content:D,didMount:D,willUnmount:D};function wp(e){return B0(e,fi)}function F0(e,t){let n={},r={};for(let s in t)s in e&&(n[s]=t[s](e[s]));for(let s in e)s in t||(r[s]=e[s]);return{refined:n,extra:r}}function D(e){return e}const{hasOwnProperty:Bd}=Object.prototype;function B0(e,t){let n={};if(t){for(let r in t)if(t[r]===hi){let s=[];for(let i=e.length-1;i>=0;i-=1){let o=e[i][r];if(typeof o=="object"&&o)s.unshift(o);else if(o!==void 0){n[r]=o;break}}s.length&&(n[r]=B0(s))}}for(let r=e.length-1;r>=0;r-=1){let s=e[r];for(let i in s)i in n||(n[i]=s[i])}return n}function Li(e,t){let n={};for(let r in e)t(e[r],r)&&(n[r]=e[r]);return n}function qi(e,t){let n={};for(let r in e)n[r]=t(e[r],r);return n}function sj(e){let t={};for(let n of e)t[n]=!0;return t}function z0(e){let t=[];for(let n in e)t.push(e[n]);return t}function pr(e,t){if(e===t)return!0;for(let n in e)if(Bd.call(e,n)&&!(n in t))return!1;for(let n in t)if(Bd.call(t,n)&&e[n]!==t[n])return!1;return!0}const T6=/^on[A-Z]/;function N6(e,t){const n=A6(e,t);for(let r of n)if(!T6.test(r))return!1;return!0}function A6(e,t){let n=[];for(let r in e)Bd.call(e,r)&&(r in t||n.push(r));for(let r in t)Bd.call(t,r)&&e[r]!==t[r]&&n.push(r);return n}function Sp(e,t,n={}){if(e===t)return!0;for(let r in t)if(!(r in e&&j6(e[r],t[r],n[r])))return!1;for(let r in e)if(!(r in t))return!1;return!0}function j6(e,t,n){return e===t||n===!0?!0:n?n(e,t):!1}function _6(e,t=0,n,r=1){let s=[];n==null&&(n=Object.keys(e).length);for(let i=t;i<n;i+=r){let o=e[i];o!==void 0&&s.push(o)}return s}let ij={};function R6(e,t){ij[e]=t}function D6(e){return new ij[e]}class I6{getMarkerYear(t){return t.getUTCFullYear()}getMarkerMonth(t){return t.getUTCMonth()}getMarkerDay(t){return t.getUTCDate()}arrayToMarker(t){return xn(t)}markerToArray(t){return Es(t)}}R6("gregory",I6);const P6=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function O6(e){let t=P6.exec(e);if(t){let n=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?+`0.${t[12]}`*1e3:0));if(rj(n)){let r=null;return t[13]&&(r=(t[15]==="-"?-1:1)*(Number(t[16]||0)*60+Number(t[18]||0))),{marker:n,isTimeUnspecified:!t[6],timeZoneOffset:r}}}return null}class M6{constructor(t){let n=this.timeZone=t.timeZone,r=n!=="local"&&n!=="UTC";t.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new t.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=D6(t.calendarSystem),this.locale=t.locale,this.weekDow=t.locale.week.dow,this.weekDoy=t.locale.week.doy,t.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof t.firstDay=="number"&&(this.weekDow=t.firstDay),typeof t.weekNumberCalculation=="function"&&(this.weekNumberFunc=t.weekNumberCalculation),this.weekText=t.weekText!=null?t.weekText:t.locale.options.weekText,this.weekTextLong=(t.weekTextLong!=null?t.weekTextLong:t.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=t.cmdFormatter,this.defaultSeparator=t.defaultSeparator}createMarker(t){let n=this.createMarkerMeta(t);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):xn(fS(new Date))}createMarkerMeta(t){if(typeof t=="string")return this.parse(t);let n=null;return typeof t=="number"?n=this.timestampToMarker(t):t instanceof Date?(t=t.valueOf(),isNaN(t)||(n=this.timestampToMarker(t))):Array.isArray(t)&&(n=xn(t)),n===null||!rj(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(t){let n=O6(t);if(n===null)return null;let{marker:r}=n,s=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):s=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:s}}getYear(t){return this.calendarSystem.getMarkerYear(t)}getMonth(t){return this.calendarSystem.getMarkerMonth(t)}getDay(t){return this.calendarSystem.getMarkerDay(t)}add(t,n){let r=this.calendarSystem.markerToArray(t);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(t,n){let r=this.calendarSystem.markerToArray(t);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(t,n){let r=this.calendarSystem.markerToArray(t);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(t,n){let r=this.calendarSystem.markerToArray(t);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(t,n){let{calendarSystem:r}=this;return Cs(t)===Cs(n)&&r.getMarkerDay(t)===r.getMarkerDay(n)&&r.getMarkerMonth(t)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(t):null}diffWholeMonths(t,n){let{calendarSystem:r}=this;return Cs(t)===Cs(n)&&r.getMarkerDay(t)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(t)+(r.getMarkerYear(n)-r.getMarkerYear(t))*12:null}greatestWholeUnit(t,n){let r=this.diffWholeYears(t,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(t,n),r!==null?{unit:"month",value:r}:(r=n6(t,n),r!==null?{unit:"week",value:r}:(r=Md(t,n),r!==null?{unit:"day",value:r}:(r=ZV(t,n),vp(r)?{unit:"hour",value:r}:(r=JV(t,n),vp(r)?{unit:"minute",value:r}:(r=e6(t,n),vp(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-t.valueOf()}))))))}countDurationsBetween(t,n,r){let s;return r.years&&(s=this.diffWholeYears(t,n),s!==null)?s/YV(r):r.months&&(s=this.diffWholeMonths(t,n),s!==null)?s/QV(r):r.days&&(s=Md(t,n),s!==null)?s/Io(r):(n.valueOf()-t.valueOf())/$l(r)}startOf(t,n){return n==="year"?this.startOfYear(t):n==="month"?this.startOfMonth(t):n==="week"?this.startOfWeek(t):n==="day"?dt(t):n==="hour"?r6(t):n==="minute"?s6(t):n==="second"?i6(t):null}startOfYear(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t)])}startOfMonth(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t)])}startOfWeek(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t),t.getUTCDate()-(t.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(t){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(t)):o6(t,this.weekDow,this.weekDoy)}format(t,n,r={}){return n.format({marker:t,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(t)},this)}formatRange(t,n,r,s={}){return s.isEndExclusive&&(n=Ws(n,-1)),r.formatRange({marker:t,timeZoneOffset:s.forcedStartTzo!=null?s.forcedStartTzo:this.offsetForMarker(t)},{marker:n,timeZoneOffset:s.forcedEndTzo!=null?s.forcedEndTzo:this.offsetForMarker(n)},this,s.defaultSeparator)}formatIso(t,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(t)),l6(t,r,n.omitTime)}timestampToMarker(t){return this.timeZone==="local"?xn(fS(new Date(t))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(t):xn(this.namedTimeZoneImpl.timestampToArray(t))}offsetForMarker(t){return this.timeZone==="local"?-hS(Es(t)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Es(t)):null}toDate(t,n){return this.timeZone==="local"?hS(Es(t)):this.timeZone==="UTC"?new Date(t.valueOf()):this.namedTimeZoneImpl?new Date(t.valueOf()-this.namedTimeZoneImpl.offsetForArray(Es(t))*1e3*60):new Date(t.valueOf()-(n||0))}}class bc{constructor(t){this.iconOverrideOption&&this.setIconOverride(t[this.iconOverrideOption])}setIconOverride(t){let n,r;if(typeof t=="object"&&t){n=Object.assign({},this.iconClasses);for(r in t)n[r]=this.applyIconOverridePrefix(t[r]);this.iconClasses=n}else t===!1&&(this.iconClasses={})}applyIconOverridePrefix(t){let n=this.iconOverridePrefix;return n&&t.indexOf(n)!==0&&(t=n+t),t}getClass(t){return this.classes[t]||""}getIconClass(t,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[t]||this.iconClasses[t]:r=this.iconClasses[t],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(t){let n;return this.iconOverrideCustomButtonOption&&(n=t[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}bc.prototype.classes={};bc.prototype.iconClasses={};bc.prototype.baseIconClass="";bc.prototype.iconOverridePrefix="";function zd(e){e();let t=be.debounceRendering,n=[];function r(s){n.push(s)}for(be.debounceRendering=r,Vl(P(L6,{}),document.createElement("div"));n.length;)n.shift()();be.debounceRendering=t}class L6 extends Pn{render(){return P("div",{})}componentDidMount(){this.setState({})}}function oj(e){let t=lV(e),n=t.Provider;return t.Provider=function(){let r=!this.getChildContext,s=n.apply(this,arguments);if(r){let i=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&i.forEach(a=>{a.context=o.value,a.forceUpdate()})},this.sub=o=>{i.push(o);let a=o.componentWillUnmount;o.componentWillUnmount=()=>{i.splice(i.indexOf(o),1),a&&a.call(o)}}}return s},t}class F6{constructor(t,n,r,s){this.execFunc=t,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=s,this.handleScrollRequest=i=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},i),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(t){t&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Yi=oj({});function B6(e,t,n,r,s,i,o,a,l,c,d,f,h,p){return{dateEnv:s,nowManager:i,options:n,pluginHooks:a,emitter:d,dispatch:l,getCurrentData:c,calendarApi:f,viewSpec:e,viewApi:t,dateProfileGenerator:r,theme:o,isRtl:n.direction==="rtl",addResizeHandler(m){d.on("_resize",m)},removeResizeHandler(m){d.off("_resize",m)},createScrollResponder(m){return new F6(m,d,Qe(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:p}}class Qi extends Pn{shouldComponentUpdate(t,n){return!Sp(this.props,t,this.propEquality)||!Sp(this.state,n,this.stateEquality)}safeSetState(t){Sp(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}Qi.addPropsEquality=z6;Qi.addStateEquality=H6;Qi.contextType=Yi;Qi.prototype.propEquality={};Qi.prototype.stateEquality={};class xt extends Qi{}xt.contextType=Yi;function z6(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t}function H6(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t}function Lr(e,t){typeof e=="function"?e(t):e&&(e.current=t)}class H0 extends xt{constructor(){super(...arguments),this.id=Gi(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=t=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!Tg(r,n))&&this.updateElRef(t)},this.updateElRef=t=>{this.props.elRef&&Lr(this.props.elRef,t)}}render(){const{props:t,context:n}=this,{options:r}=n,{customGenerator:s,defaultGenerator:i,renderProps:o}=t,a=aj(t,[],this.handleEl);let l=!1,c,d=[],f;if(s!=null){const h=typeof s=="function"?s(o,P):s;if(h===!0)l=!0;else{const p=h&&typeof h=="object";p&&"html"in h?a.dangerouslySetInnerHTML={__html:h.html}:p&&"domNodes"in h?d=Array.prototype.slice.call(h.domNodes):(p?RA(h):typeof h!="function")?c=h:f=h}}else l=!Tg(t.generatorName,r);return l&&i&&(c=i(o)),this.queuedDomNodes=d,this.currentGeneratorMeta=f,P(t.elTag,a,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(t){var n;const{props:r,context:s}=this,{handleCustomRendering:i,customRenderingMetaMap:o}=s.options;if(i){const a=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o==null?void 0:o[r.generatorName];a&&i(Object.assign(Object.assign({id:this.id,isActive:t,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},r),{elClasses:(r.elClasses||[]).filter(U6)}))}}applyQueueudDomNodes(){const{queuedDomNodes:t,currentDomNodes:n}=this,r=this.base;if(!$s(t,n)){n.forEach(I0);for(let s of t)r.appendChild(s);this.currentDomNodes=t}}}H0.addPropsEquality({elClasses:$s,elStyle:pr,elAttrs:N6,renderProps:pr});function Tg(e,t){var n;return!!(t.handleCustomRendering&&e&&(!((n=t.customRenderingMetaMap)===null||n===void 0)&&n[e]))}function aj(e,t,n){const r=Object.assign(Object.assign({},e.elAttrs),{ref:n});return(e.elClasses||t)&&(r.className=(e.elClasses||[]).concat(t||[]).concat(r.className||[]).filter(Boolean).join(" ")),e.elStyle&&(r.style=e.elStyle),r}function U6(e){return!!e}const lj=oj(0);class ls extends Pn{constructor(){super(...arguments),this.InnerContent=V6.bind(void 0,this),this.handleEl=t=>{this.el=t,this.props.elRef&&(Lr(this.props.elRef,t),t&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:t}=this,n=$6(t.classNameGenerator,t.renderProps);if(t.children){const r=aj(t,n,this.handleEl),s=t.children(this.InnerContent,t.renderProps,r);return t.elTag?P(t.elTag,r,s):s}else return P(H0,Object.assign(Object.assign({},t),{elRef:this.handleEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var t,n;this.el?(n=(t=this.props).didMount)===null||n===void 0||n.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var t,n;(n=(t=this.props).willUnmount)===null||n===void 0||n.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}ls.contextType=lj;function V6(e,t){const n=e.props;return P(H0,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:e.context},t))}function $6(e,t){const n=typeof e=="function"?e(t):e||[];return typeof n=="string"?[n]:n}class xS extends xt{render(){let{props:t,context:n}=this,{options:r}=n,s={view:n.viewApi};return P(ls,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:[...cj(t.viewSpec),...t.elClasses||[]],elStyle:t.elStyle,renderProps:s,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>t.children)}}function cj(e){return[`fc-${e.type}-view`,"fc-view"]}function W6(e,t){let n=null,r=null;return e.start&&(n=t.createMarker(e.start)),e.end&&(r=t.createMarker(e.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function bS(e,t){let n=[],{start:r}=t,s,i;for(e.sort(G6),s=0;s<e.length;s+=1)i=e[s],i.start>r&&n.push({start:r,end:i.start}),i.end>r&&(r=i.end);return r<t.end&&n.push({start:r,end:t.end}),n}function G6(e,t){return e.start.valueOf()-t.start.valueOf()}function Jo(e,t){let{start:n,end:r}=e,s=null;return t.start!==null&&(n===null?n=t.start:n=new Date(Math.max(n.valueOf(),t.start.valueOf()))),t.end!=null&&(r===null?r=t.end:r=new Date(Math.min(r.valueOf(),t.end.valueOf()))),(n===null||r===null||n<r)&&(s={start:n,end:r}),s}function q6(e,t){return(e.start===null?null:e.start.valueOf())===(t.start===null?null:t.start.valueOf())&&(e.end===null?null:e.end.valueOf())===(t.end===null?null:t.end.valueOf())}function U0(e,t){return(e.end===null||t.start===null||e.end>t.start)&&(e.start===null||t.end===null||e.start<t.end)}function Gf(e,t){return(e.start===null||t.start!==null&&t.start>=e.start)&&(e.end===null||t.end!==null&&t.end<=e.end)}function Ls(e,t){return(e.start===null||t>=e.start)&&(e.end===null||t<e.end)}function Y6(e,t){return t.start!=null&&e<t.start?t.start:t.end!=null&&e>=t.end?new Date(t.end.valueOf()-1):e}function uj(e){let t=Math.floor(fa(e.start,e.end))||1,n=dt(e.start),r=Bt(n,t);return{start:n,end:r}}function dj(e,t=Qe(0)){let n=null,r=null;if(e.end){r=dt(e.end);let s=e.end.valueOf()-r.valueOf();s&&s>=$l(t)&&(r=Bt(r,1))}return e.start&&(n=dt(e.start),r&&r<=n&&(r=Bt(n,1))),{start:n,end:r}}function Co(e,t,n,r){return r==="year"?Qe(n.diffWholeYears(e,t),"year"):r==="month"?Qe(n.diffWholeMonths(e,t),"month"):t6(e,t)}class fj{constructor(t){this.props=t,this.initHiddenDays()}buildPrev(t,n,r){let{dateEnv:s}=this.props,i=s.subtract(s.startOf(n,t.currentRangeUnit),t.dateIncrement);return this.build(i,-1,r)}buildNext(t,n,r){let{dateEnv:s}=this.props,i=s.add(s.startOf(n,t.currentRangeUnit),t.dateIncrement);return this.build(i,1,r)}build(t,n,r=!0){let{props:s}=this,i,o,a,l,c,d;return i=this.buildValidRange(),i=this.trimHiddenDays(i),r&&(t=Y6(t,i)),o=this.buildCurrentRangeInfo(t,n),a=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,a),l=this.trimHiddenDays(l),c=l,s.showNonCurrentDates||(c=Jo(c,o.range)),c=this.adjustActiveRange(c),c=Jo(c,i),d=U0(o.range,i),Ls(l,t)||(t=l.start),{currentDate:t,validRange:i,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:a,activeRange:c,renderRange:l,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let t=this.props.validRangeInput,n=typeof t=="function"?t.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):t;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(t,n){let{props:r}=this,s=null,i=null,o=null,a;return r.duration?(s=r.duration,i=r.durationUnit,o=this.buildRangeFromDuration(t,n,s,i)):(a=this.props.dayCount)?(i="day",o=this.buildRangeFromDayCount(t,n,a)):(o=this.buildCustomVisibleRange(t))?i=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(s=this.getFallbackDuration(),i=Cg(s).unit,o=this.buildRangeFromDuration(t,n,s,i)),{duration:s,unit:i,range:o}}getFallbackDuration(){return Qe({day:1})}adjustActiveRange(t){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:s,slotMaxTime:i}=this.props,{start:o,end:a}=t;return r&&(Io(s)<0&&(o=dt(o),o=n.add(o,s)),Io(i)>1&&(a=dt(a),a=Bt(a,-1),a=n.add(a,i))),{start:o,end:a}}buildRangeFromDuration(t,n,r,s){let{dateEnv:i,dateAlignment:o}=this.props,a,l,c;if(!o){let{dateIncrement:f}=this.props;f&&$l(f)<$l(r)?o=Cg(f).unit:o=s}Io(r)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,n),a=dt(a));function d(){a=i.startOf(t,o),l=i.add(a,r),c={start:a,end:l}}return d(),this.trimHiddenDays(c)||(t=this.skipHiddenDays(t,n),d()),c}buildRangeFromDayCount(t,n,r){let{dateEnv:s,dateAlignment:i}=this.props,o=0,a=t,l;i&&(a=s.startOf(a,i)),a=dt(a),a=this.skipHiddenDays(a,n),l=a;do l=Bt(l,1),this.isHiddenDay(l)||(o+=1);while(o<r);return{start:a,end:l}}buildCustomVisibleRange(t){let{props:n}=this,r=n.visibleRangeInput,s=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(t)):r,i=this.refineRange(s);return i&&(i.start==null||i.end==null)?null:i}buildRenderRange(t,n,r){return t}buildDateIncrement(t){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?Qe(1,r):t||Qe({days:1}))}refineRange(t){if(t){let n=W6(t,this.props.dateEnv);return n&&(n=dj(n)),n}return null}initHiddenDays(){let t=this.props.hiddenDays||[],n=[],r=0,s;for(this.props.weekends===!1&&t.push(0,6),s=0;s<7;s+=1)(n[s]=t.indexOf(s)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(t){let{start:n,end:r}=t;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(t){return t instanceof Date&&(t=t.getUTCDay()),this.isHiddenDayHash[t]}skipHiddenDays(t,n=1,r=!1){for(;this.isHiddenDayHash[(t.getUTCDay()+(r?n:0)+7)%7];)t=Bt(t,n);return t}}function V0(e,t,n,r){return{instanceId:Gi(),defId:e,range:t,forcedStartTzo:n??null,forcedEndTzo:r??null}}function Q6(e,t,n,r){for(let s=0;s<r.length;s+=1){let i=r[s].parse(e,n);if(i){let{allDay:o}=e;return o==null&&(o=t,o==null&&(o=i.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:i.duration,typeData:i.typeData,typeId:s}}}return null}function Fi(e,t,n){let{dateEnv:r,pluginHooks:s,options:i}=n,{defs:o,instances:a}=e;a=Li(a,l=>!o[l.defId].recurringDef);for(let l in o){let c=o[l];if(c.recurringDef){let{duration:d}=c.recurringDef;d||(d=c.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);let f=K6(c,d,t,r,s.recurringTypes);for(let h of f){let p=V0(l,{start:h,end:r.add(h,d)});a[p.instanceId]=p}}}return{defs:o,instances:a}}function K6(e,t,n,r,s){let o=s[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:r.subtract(n.start,t),end:n.end},r);return e.allDay&&(o=o.map(dt)),o}const Fu={id:String,groupId:String,title:String,url:String,interactive:Boolean},hj={start:D,end:D,date:D,allDay:Boolean},X6=Object.assign(Object.assign(Object.assign({},Fu),hj),{extendedProps:D});function pj(e,t,n,r,s=$0(n),i,o){let{refined:a,extra:l}=mj(e,n,s),c=J6(t,n),d=Q6(a,c,n.dateEnv,n.pluginHooks.recurringTypes);if(d){let h=Ng(a,l,t?t.sourceId:"",d.allDay,!!d.duration,n,i);return h.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:h,instance:null}}let f=Z6(a,c,n,r);if(f){let h=Ng(a,l,t?t.sourceId:"",f.allDay,f.hasEnd,n,i),p=V0(h.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return o&&h.publicId&&o[h.publicId]&&(p.instanceId=o[h.publicId]),{def:h,instance:p}}return null}function mj(e,t,n=$0(t)){return F0(e,n)}function $0(e){return Object.assign(Object.assign(Object.assign({},Hd),X6),e.pluginHooks.eventRefiners)}function Ng(e,t,n,r,s,i,o){let a={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(o&&e.id?o[e.id]:"")||Gi(),sourceId:n,allDay:r,hasEnd:s,interactive:e.interactive,ui:Ud(e,i),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let l of i.pluginHooks.eventDefMemberAdders)Object.assign(a,l(e));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function Z6(e,t,n,r){let{allDay:s}=e,i,o=null,a=!1,l,c=null,d=e.start!=null?e.start:e.date;if(i=n.dateEnv.createMarkerMeta(d),i)o=i.marker;else if(!r)return null;return e.end!=null&&(l=n.dateEnv.createMarkerMeta(e.end)),s==null&&(t!=null?s=t:s=(!i||i.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),s&&o&&(o=dt(o)),l&&(c=l.marker,s&&(c=dt(c)),o&&c<=o&&(c=null)),c?a=!0:r||(a=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,s?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:s,hasEnd:a,range:{start:o,end:c},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function J6(e,t){let n=null;return e&&(n=e.defaultAllDay),n==null&&(n=t.options.defaultAllDay),n}function Wl(e,t,n,r,s,i){let o=dr(),a=$0(n);for(let l of e){let c=pj(l,t,n,r,a,s,i);c&&Ag(c,o)}return o}function Ag(e,t=dr()){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function W0(e,t){let n=e.instances[t];if(n){let r=e.defs[n.defId],s=qf(e,i=>e8(r,i));return s.defs[r.defId]=r,s.instances[n.instanceId]=n,s}return dr()}function e8(e,t){return!!(e.groupId&&e.groupId===t.groupId)}function dr(){return{defs:{},instances:{}}}function G0(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function qf(e,t){let n=Li(e.defs,t),r=Li(e.instances,s=>n[s.defId]);return{defs:n,instances:r}}function t8(e,t){let{defs:n,instances:r}=e,s={},i={};for(let o in n)t.defs[o]||(s[o]=n[o]);for(let o in r)!t.instances[o]&&s[r[o].defId]&&(i[o]=r[o]);return{defs:s,instances:i}}function n8(e,t){return Array.isArray(e)?Wl(e,null,t,!0):typeof e=="object"&&e?Wl([e],null,t,!0):e!=null?String(e):null}function wS(e){return Array.isArray(e)?e:typeof e=="string"?e.split(/\s+/):[]}const Hd={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:D,overlap:D,allow:D,className:wS,classNames:wS,color:String,backgroundColor:String,borderColor:String,textColor:String},r8={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Ud(e,t){let n=n8(e.constraint,t);return{display:e.display||null,startEditable:e.startEditable!=null?e.startEditable:e.editable,durationEditable:e.durationEditable!=null?e.durationEditable:e.editable,constraints:n!=null?[n]:[],overlap:e.overlap!=null?e.overlap:null,allows:e.allow!=null?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function s8(e){return e.reduce(i8,r8)}function i8(e,t){return{display:t.display!=null?t.display:e.display,startEditable:t.startEditable!=null?t.startEditable:e.startEditable,durationEditable:t.durationEditable!=null?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:typeof t.overlap=="boolean"?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}const o8={id:String,defaultAllDay:Boolean,url:String,format:String,events:D,eventDataTransform:D,success:D,failure:D};function gj(e,t,n=yj(t)){let r;if(typeof e=="string"?r={url:e}:typeof e=="function"||Array.isArray(e)?r={events:e}:typeof e=="object"&&e&&(r=e),r){let{refined:s,extra:i}=F0(r,n),o=a8(s,t);if(o)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:Gi(),sourceDefId:o.sourceDefId,meta:o.meta,ui:Ud(s,t),extendedProps:i}}return null}function yj(e){return Object.assign(Object.assign(Object.assign({},Hd),o8),e.pluginHooks.eventSourceRefiners)}function a8(e,t){let n=t.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let i=n[r].parseMeta(e);if(i)return{sourceDefId:r,meta:i}}return null}function l8(e,t,n,r,s){switch(t.type){case"RECEIVE_EVENTS":return c8(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,s);case"RESET_RAW_EVENTS":return u8(e,n[t.sourceId],t.rawEvents,r.activeRange,s);case"ADD_EVENTS":return d8(e,t.eventStore,r?r.activeRange:null,s);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return G0(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Fi(e,r.activeRange,s):e;case"REMOVE_EVENTS":return t8(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return xj(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return qf(e,i=>!i.sourceId);case"REMOVE_ALL_EVENTS":return dr();default:return e}}function c8(e,t,n,r,s,i){if(t&&n===t.latestFetchId){let o=Wl(vj(s,t,i),t,i);return r&&(o=Fi(o,r,i)),G0(xj(e,t.sourceId),o)}return e}function u8(e,t,n,r,s){const{defIdMap:i,instanceIdMap:o}=h8(e);let a=Wl(vj(n,t,s),t,s,!1,i,o);return Fi(a,r,s)}function vj(e,t,n){let r=n.options.eventDataTransform,s=t?t.eventDataTransform:null;return s&&(e=SS(e,s)),r&&(e=SS(e,r)),e}function SS(e,t){let n;if(!t)n=e;else{n=[];for(let r of e){let s=t(r);s?n.push(s):s==null&&n.push(r)}}return n}function d8(e,t,n,r){return n&&(t=Fi(t,n,r)),G0(e,t)}function kS(e,t,n){let{defs:r}=e,s=qi(e.instances,i=>r[i.defId].allDay?i:Object.assign(Object.assign({},i),{range:{start:n.createMarker(t.toDate(i.range.start,i.forcedStartTzo)),end:n.createMarker(t.toDate(i.range.end,i.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:i.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:i.forcedEndTzo}));return{defs:r,instances:s}}function xj(e,t){return qf(e,n=>n.sourceId!==t)}function f8(e,t){return{defs:e.defs,instances:Li(e.instances,n=>!t[n.instanceId])}}function h8(e){const{defs:t,instances:n}=e,r={},s={};for(let i in t){const o=t[i],{publicId:a}=o;a&&(r[a]=i)}for(let i in n){const o=n[i],a=t[o.defId],{publicId:l}=a;l&&(s[l]=i)}return{defIdMap:r,instanceIdMap:s}}class Yf{constructor(){this.handlers={},this.thisContext=null}setThisContext(t){this.thisContext=t}setOptions(t){this.options=t}on(t,n){p8(this.handlers,t,n)}off(t,n){m8(this.handlers,t,n)}trigger(t,...n){let r=this.handlers[t]||[],s=this.options&&this.options[t],i=[].concat(s||[],r);for(let o of i)o.apply(this.thisContext,n)}hasHandlers(t){return!!(this.handlers[t]&&this.handlers[t].length||this.options&&this.options[t])}}function p8(e,t,n){(e[t]||(e[t]=[])).push(n)}function m8(e,t,n){n?e[t]&&(e[t]=e[t].filter(r=>r!==n)):delete e[t]}const g8={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function y8(e,t){return Wl(v8(e),null,t)}function v8(e){let t;return e===!0?t=[{}]:Array.isArray(e)?t=e.filter(n=>n.daysOfWeek):typeof e=="object"&&e?t=[e]:t=[],t=t.map(n=>Object.assign(Object.assign({},g8),n)),t}function bj(e,t,n){n.emitter.trigger("select",Object.assign(Object.assign({},q0(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function x8(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}function q0(e,t){let n={};for(let r of t.pluginHooks.dateSpanTransforms)Object.assign(n,r(e,t));return Object.assign(n,P8(e,t.dateEnv)),n}function ES(e,t,n){let{dateEnv:r,options:s}=n,i=t;return e?(i=dt(i),i=r.add(i,s.defaultAllDayEventDuration)):i=r.add(i,s.defaultTimedEventDuration),i}function Y0(e,t,n,r){let s=Vd(e.defs,t),i=dr();for(let o in e.defs){let a=e.defs[o];i.defs[o]=b8(a,s[o],n,r)}for(let o in e.instances){let a=e.instances[o],l=i.defs[a.defId];i.instances[o]=w8(a,l,s[a.defId],n,r)}return i}function b8(e,t,n,r){let s=n.standardProps||{};s.hasEnd==null&&t.durationEditable&&(n.startDelta||n.endDelta)&&(s.hasEnd=!0);let i=Object.assign(Object.assign(Object.assign({},e),s),{ui:Object.assign(Object.assign({},e.ui),s.ui)});n.extendedProps&&(i.extendedProps=Object.assign(Object.assign({},i.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(i,n,r);return!i.hasEnd&&r.options.forceEventDuration&&(i.hasEnd=!0),i}function w8(e,t,n,r,s){let{dateEnv:i}=s,o=r.standardProps&&r.standardProps.allDay===!0,a=r.standardProps&&r.standardProps.hasEnd===!1,l=Object.assign({},e);return o&&(l.range=uj(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:i.add(l.range.start,r.datesDelta),end:i.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:i.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:i.add(l.range.end,r.endDelta)}),a&&(l.range={start:l.range.start,end:ES(t.allDay,l.range.start,s)}),t.allDay&&(l.range={start:dt(l.range.start),end:dt(l.range.end)}),l.range.end<l.range.start&&(l.range.end=ES(t.allDay,l.range.start,s)),l}class oo{constructor(t,n){this.context=t,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class ft{constructor(t,n,r){this._context=t,this._def=n,this._instance=r||null}setProp(t,n){if(t in hj)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(t==="id")n=Fu[t](n),this.mutate({standardProps:{publicId:n}});else if(t in Fu)n=Fu[t](n),this.mutate({standardProps:{[t]:n}});else if(t in Hd){let r=Hd[t](n);t==="color"?r={backgroundColor:n,borderColor:n}:t==="editable"?r={startEditable:n,durationEditable:n}:r={[t]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${t}'. Use setExtendedProp instead.`)}setExtendedProp(t,n){this.mutate({extendedProps:{[t]:n}})}setStart(t,n={}){let{dateEnv:r}=this._context,s=r.createMarker(t);if(s&&this._instance){let i=this._instance.range,o=Co(i.start,s,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(t,n={}){let{dateEnv:r}=this._context,s;if(!(t!=null&&(s=r.createMarker(t),!s))&&this._instance)if(s){let i=Co(this._instance.range.end,s,r,n.granularity);this.mutate({endDelta:i})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(t,n,r={}){let{dateEnv:s}=this._context,i={allDay:r.allDay},o=s.createMarker(t),a;if(o&&!(n!=null&&(a=s.createMarker(n),!a))&&this._instance){let l=this._instance.range;r.allDay===!0&&(l=uj(l));let c=Co(l.start,o,s,r.granularity);if(a){let d=Co(l.end,a,s,r.granularity);GV(c,d)?this.mutate({datesDelta:c,standardProps:i}):this.mutate({startDelta:c,endDelta:d,standardProps:i})}else i.hasEnd=!1,this.mutate({datesDelta:c,standardProps:i})}}moveStart(t){let n=Qe(t);n&&this.mutate({startDelta:n})}moveEnd(t){let n=Qe(t);n&&this.mutate({endDelta:n})}moveDates(t){let n=Qe(t);n&&this.mutate({datesDelta:n})}setAllDay(t,n={}){let r={allDay:t},{maintainDuration:s}=n;s==null&&(s=this._context.options.allDayMaintainDuration),this._def.allDay!==t&&(r.hasEnd=s),this.mutate({standardProps:r})}formatRange(t){let{dateEnv:n}=this._context,r=this._instance,s=Lt(t);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,s,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,s,{forcedTzo:r.forcedStartTzo})}mutate(t){let n=this._instance;if(n){let r=this._def,s=this._context,{eventStore:i}=s.getCurrentData(),o=W0(i,n.instanceId);o=Y0(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},t,s);let l=new ft(s,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],s.dispatch({type:"MERGE_EVENTS",eventStore:o}),s.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Ni(o,s,n),revert(){s.dispatch({type:"RESET_EVENTS",eventStore:i})}})}}remove(){let t=this._context,n=wj(this);t.dispatch({type:"REMOVE_EVENTS",eventStore:n}),t.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:t}=this._def;return t?new oo(this._context,this._context.getCurrentData().eventSources[t]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let t=this._instance;return t?this._context.dateEnv.formatIso(t.range.start,{omitTime:this._def.allDay,forcedTzo:t.forcedStartTzo}):""}get endStr(){let t=this._instance;return t&&this._def.hasEnd?this._context.dateEnv.formatIso(t.range.end,{omitTime:this._def.allDay,forcedTzo:t.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(t={}){let n=this._def,{ui:r}=n,{startStr:s,endStr:i}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),s&&(o.start=s),i&&(o.end=i),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),t.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(t.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function wj(e){let t=e._def,n=e._instance;return{defs:{[t.defId]:t},instances:n?{[n.instanceId]:n}:{}}}function Ni(e,t,n){let{defs:r,instances:s}=e,i=[],o=n?n.instanceId:"";for(let a in s){let l=s[a],c=r[l.defId];l.instanceId!==o&&i.push(new ft(t,c,l))}return i}function CS(e,t,n,r){let s={},i={},o={},a=[],l=[],c=Vd(e.defs,t);for(let d in e.defs){let f=e.defs[d];c[f.defId].display==="inverse-background"&&(f.groupId?(s[f.groupId]=[],o[f.groupId]||(o[f.groupId]=f)):i[d]=[])}for(let d in e.instances){let f=e.instances[d],h=e.defs[f.defId],p=c[h.defId],m=f.range,v=!h.allDay&&r?dj(m,r):m,b=Jo(v,n);b&&(p.display==="inverse-background"?h.groupId?s[h.groupId].push(b):i[f.defId].push(b):p.display!=="none"&&(p.display==="background"?a:l).push({def:h,ui:p,instance:f,range:b,isStart:v.start&&v.start.valueOf()===b.start.valueOf(),isEnd:v.end&&v.end.valueOf()===b.end.valueOf()}))}for(let d in s){let f=s[d],h=bS(f,n);for(let p of h){let m=o[d],v=c[m.defId];a.push({def:m,ui:v,instance:null,range:p,isStart:!1,isEnd:!1})}}for(let d in i){let f=i[d],h=bS(f,n);for(let p of h)a.push({def:e.defs[d],ui:c[d],instance:null,range:p,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function TS(e,t){e.fcSeg=t}function ea(e){return e.fcSeg||e.parentNode.fcSeg||null}function Vd(e,t){return qi(e,n=>Sj(n,t))}function Sj(e,t){let n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),s8(n)}function S8(e,t){let n=e.map(k8);return n.sort((r,s)=>BV(r,s,t)),n.map(r=>r._seg)}function k8(e){let{eventRange:t}=e,n=t.def,r=t.instance?t.instance.range:t.range,s=r.start?r.start.valueOf():0,i=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:s,end:i,duration:i-s,allDay:Number(n.allDay),_seg:e})}function E8(e,t){let{pluginHooks:n}=t,r=n.isDraggableTransformers,{def:s,ui:i}=e.eventRange,o=i.startEditable;for(let a of r)o=a(o,s,i,t);return o}function C8(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function T8(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function kj(e,t,n,r,s,i,o){let{dateEnv:a,options:l}=n,{displayEventTime:c,displayEventEnd:d}=l,f=e.eventRange.def,h=e.eventRange.instance;c==null&&(c=r!==!1),d==null&&(d=s!==!1);let p=h.range.start,m=h.range.end,v=e.start||e.eventRange.range.start,b=e.end||e.eventRange.range.end,y=dt(p).valueOf()===dt(v).valueOf(),g=dt(Ws(m,-1)).valueOf()===dt(Ws(b,-1)).valueOf();return c&&!f.allDay&&(y||g)?(v=y?p:v,b=g?m:b,d&&f.hasEnd?a.formatRange(v,b,t,{forcedStartTzo:h.forcedStartTzo,forcedEndTzo:h.forcedEndTzo}):a.format(v,t,{forcedTzo:h.forcedStartTzo})):""}function ul(e,t,n){let r=e.eventRange.range;return{isPast:r.end<=t.start,isFuture:r.start>=t.end,isToday:t&&Ls(t,r.start)}}function N8(e){let t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function A8(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function Ej(e,t){let{def:n,instance:r}=e.eventRange,{url:s}=n;if(s)return{href:s};let{emitter:i,options:o}=t,{eventInteractive:a}=o;return a==null&&(a=n.interactive,a==null&&(a=!!i.hasHandlers("eventClick"))),a?nj(l=>{i.trigger("eventClick",{el:l.target,event:new ft(t,n,r),jsEvent:l,view:t.viewApi})}):{}}const j8={start:D,end:D,allDay:Boolean};function _8(e,t,n){let r=R8(e,t),{range:s}=r;if(!s.start)return null;if(!s.end){if(n==null)return null;s.end=t.add(s.start,n)}return r}function R8(e,t){let{refined:n,extra:r}=F0(e,j8),s=n.start?t.createMarkerMeta(n.start):null,i=n.end?t.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=s&&s.isTimeUnspecified&&(!i||i.isTimeUnspecified)),Object.assign({range:{start:s?s.marker:null,end:i?i.marker:null},allDay:o},r)}function D8(e,t){return q6(e.range,t.range)&&e.allDay===t.allDay&&I8(e,t)}function I8(e,t){for(let n in t)if(n!=="range"&&n!=="allDay"&&e[n]!==t[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}function P8(e,t){return Object.assign(Object.assign({},Tj(e.range,t,e.allDay)),{allDay:e.allDay})}function Cj(e,t,n){return Object.assign(Object.assign({},Tj(e,t,n)),{timeZone:t.timeZone})}function Tj(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}function O8(e,t,n){let r=mj({editable:!1},n),s=Ng(r.refined,r.extra,"",e.allDay,!0,n);return{def:s,ui:Sj(s,t),instance:V0(s.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}function M8(e,t,n){let r=!1,s=function(a){r||(r=!0,t(a))},i=function(a){r||(r=!0,n(a))},o=e(s,i);o&&typeof o.then=="function"&&o.then(s,i)}class NS extends Error{constructor(t,n){super(t),this.response=n}}function L8(e,t,n){e=e.toUpperCase();const r={method:e};return e==="GET"?t+=(t.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,r).then(s=>{if(s.ok)return s.json().then(i=>[i,s],()=>{throw new NS("Failure parsing JSON",s)});throw new NS("Request failed",s)})}let kp;function Nj(){return kp==null&&(kp=F8()),kp}function F8(){if(typeof document>"u")return!0;let e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);let n=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),n}class B8 extends xt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{zd(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{zd(()=>{this.setState({forPrint:!1})})}}render(){let{props:t}=this,{options:n}=t,{forPrint:r}=this.state,s=r||n.height==="auto"||n.contentHeight==="auto",i=!s&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,t.theme.getClass("root")];return Nj()||o.push("fc-liquid-hack"),t.children(o,i,s,r)}componentDidMount(){let{emitter:t}=this.props;t.on("_beforeprint",this.handleBeforePrint),t.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:t}=this.props;t.off("_beforeprint",this.handleBeforePrint),t.off("_afterprint",this.handleAfterPrint)}}class ha{constructor(t){this.component=t.component,this.isHitComboAllowed=t.isHitComboAllowed||null}destroy(){}}function z8(e,t){return{component:e,el:t.el,useEventCenter:t.useEventCenter!=null?t.useEventCenter:!0,isHitComboAllowed:t.isHitComboAllowed||null}}function Q0(e){return{[e.component.uid]:e}}const jg={};class Qf extends Pn{constructor(t,n){super(t,n),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:t,state:n}=this;return t.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:t,context:n}=this,r=n.nowManager.getDateMarker(),{nowIndicatorSnap:s}=n.options;s==="auto"&&(s=/year|month|week|day/.test(t.unit)||(t.unitValue||1)===1);let i,o;return s?(i=n.dateEnv.startOf(r,t.unit),o=n.dateEnv.add(i,Qe(1,t.unit)).valueOf()-r.valueOf()):(i=r,o=1e3*60),o=Math.min(1e3*60*60*24,o),{state:{nowDate:i,todayRange:H8(i)},waitMs:o}}setTimeout(t=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Qf.contextType=Yi;function H8(e){let t=dt(e),n=Bt(t,1);return{start:t,end:n}}class U8{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(t){this.currentDataManager.dispatch(t)}get view(){return this.getCurrentData().viewApi}batchRendering(t){t()}updateSize(){this.trigger("_resize",!0)}setOption(t,n){this.dispatch({type:"SET_OPTION",optionName:t,rawOptionValue:n})}getOption(t){return this.currentDataManager.currentCalendarOptionsInput[t]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(t,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[t]?r.emitter.on(t,n):console.warn(`Unknown listener name '${t}'`)}off(t,n){this.currentDataManager.emitter.off(t,n)}trigger(t,...n){this.currentDataManager.emitter.trigger(t,...n)}changeView(t,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t})})}zoomTo(t,n){let r=this.getCurrentData(),s;n=n||"day",s=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),s?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:s.type,dateMarker:t}):this.dispatch({type:"CHANGE_DATE",dateMarker:t})}getUnitViewSpec(t){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),s=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),i,o;for(let a in n)s.push(a);for(i=0;i<s.length;i+=1)if(o=n[s[i]],o&&o.singleUnit===t)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,-1)})}nextYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,1)})}today(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.nowManager.getDateMarker()})}gotoDate(t){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(t)})}incrementDate(t){let n=this.getCurrentData(),r=Qe(t);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let t=this.getCurrentData();return t.dateEnv.toDate(t.currentDate)}formatDate(t,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(t),Lt(n))}formatRange(t,n,r){let{dateEnv:s}=this.getCurrentData();return s.formatRange(s.createMarker(t),s.createMarker(n),Lt(r),r)}formatIso(t,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(t),{omitTime:n})}select(t,n){let r;n==null?t.start!=null?r=t:r={start:t,end:null}:r={start:t,end:n};let s=this.getCurrentData(),i=_8(r,s.dateEnv,Qe({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),bj(i,null,s))}unselect(t){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),x8(t,n))}addEvent(t,n){if(t instanceof ft){let o=t._def,a=t._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Ag({def:o,instance:a})}),this.triggerEventAdd(t)),t}let r=this.getCurrentData(),s;if(n instanceof oo)s=n.internalEventSource;else if(typeof n=="boolean")n&&([s]=z0(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;s=o.internalEventSource}let i=pj(t,s,r,!1);if(i){let o=new ft(r,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Ag(i)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(t){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:t,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:wj(t)})}})}getEventById(t){let n=this.getCurrentData(),{defs:r,instances:s}=n.eventStore;t=String(t);for(let i in r){let o=r[i];if(o.publicId===t){if(o.recurringDef)return new ft(n,o,null);for(let a in s){let l=s[a];if(l.defId===o.defId)return new ft(n,o,l)}}}return null}getEvents(){let t=this.getCurrentData();return Ni(t.eventStore,t)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let t=this.getCurrentData(),n=t.eventSources,r=[];for(let s in n)r.push(new oo(t,n[s]));return r}getEventSourceById(t){let n=this.getCurrentData(),r=n.eventSources;t=String(t);for(let s in r)if(r[s].publicId===t)return new oo(n,r[s]);return null}addEventSource(t){let n=this.getCurrentData();if(t instanceof oo)return n.eventSources[t.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[t.internalEventSource]}),t;let r=gj(t,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new oo(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(t){let n=Qe(t);n&&this.trigger("_scrollRequest",{time:n})}}function V8(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function Aj(e,t){let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function $8(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function W8(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function G8(e,t){return{left:e.left-t.left,top:e.top-t.top}}function jj(e,t,n,r){return{dow:e.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!Ls(r.activeRange,e))),isOther:!!(r&&!Ls(r.currentRange,e)),isToday:!!(t&&Ls(t,e)),isPast:!!(t&&e<t.start),isFuture:!!(t&&e>=t.end)}}function K0(e,t){let n=["fc-day",`fc-day-${KV[e.dow]}`];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}const q8=Lt({year:"numeric",month:"long",day:"numeric"}),Y8=Lt({week:"long"});function _g(e,t,n="day",r=!0){const{dateEnv:s,options:i,calendarApi:o}=e;let a=s.format(t,n==="week"?Y8:q8);if(i.navLinks){let l=s.toDate(t);const c=d=>{let f=n==="day"?i.navLinkDayClick:n==="week"?i.navLinkWeekClick:null;typeof f=="function"?f.call(o,s.toDate(t),d):(typeof f=="string"&&(n=f),o.zoomTo(t,n))};return Object.assign({title:ll(i.navLinkHint,[a,l],a),"data-navlink":""},r?tj(c):{onClick:c})}return{"aria-label":a}}let Ep=null;function Q8(){return Ep===null&&(Ep=K8()),Ep}function K8(){let e=document.createElement("div");al(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);let n=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return I0(e),n}let Cp;function X8(){return Cp||(Cp=Z8()),Cp}function Z8(){let e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);let t=_j(e);return document.body.removeChild(e),t}function _j(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function J8(e,t=!1){let n=window.getComputedStyle(e),r=parseInt(n.borderLeftWidth,10)||0,s=parseInt(n.borderRightWidth,10)||0,i=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,a=_j(e),l=a.y-r-s,c=a.x-i-o,d={borderLeft:r,borderRight:s,borderTop:i,borderBottom:o,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return Q8()&&n.direction==="rtl"?d.scrollbarLeft=l:d.scrollbarRight=l,t&&(d.paddingLeft=parseInt(n.paddingLeft,10)||0,d.paddingRight=parseInt(n.paddingRight,10)||0,d.paddingTop=parseInt(n.paddingTop,10)||0,d.paddingBottom=parseInt(n.paddingBottom,10)||0),d}function e$(e,t=!1,n){let r=X0(e),s=J8(e,t),i={left:r.left+s.borderLeft+s.scrollbarLeft,right:r.right-s.borderRight-s.scrollbarRight,top:r.top+s.borderTop,bottom:r.bottom-s.borderBottom-s.scrollbarBottom};return t&&(i.left+=s.paddingLeft,i.right-=s.paddingRight,i.top+=s.paddingTop,i.bottom-=s.paddingBottom),i}function X0(e){let t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function t$(e){let t=Rj(e),n=e.getBoundingClientRect();for(let r of t){let s=Aj(n,r.getBoundingClientRect());if(s)n=s;else return null}return n}function Rj(e){let t=[];for(;e instanceof HTMLElement;){let n=window.getComputedStyle(e);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}class $d{constructor(t,n,r,s){this.els=n;let i=this.originClientRect=t.getBoundingClientRect();r&&this.buildElHorizontals(i.left),s&&this.buildElVerticals(i.top)}buildElHorizontals(t){let n=[],r=[];for(let s of this.els){let i=s.getBoundingClientRect();n.push(i.left-t),r.push(i.right-t)}this.lefts=n,this.rights=r}buildElVerticals(t){let n=[],r=[];for(let s of this.els){let i=s.getBoundingClientRect();n.push(i.top-t),r.push(i.bottom-t)}this.tops=n,this.bottoms=r}leftToIndex(t){let{lefts:n,rights:r}=this,s=n.length,i;for(i=0;i<s;i+=1)if(t>=n[i]&&t<r[i])return i}topToIndex(t){let{tops:n,bottoms:r}=this,s=n.length,i;for(i=0;i<s;i+=1)if(t>=n[i]&&t<r[i])return i}getWidth(t){return this.rights[t]-this.lefts[t]}getHeight(t){return this.bottoms[t]-this.tops[t]}similarTo(t){return su(this.tops||[],t.tops||[])&&su(this.bottoms||[],t.bottoms||[])&&su(this.lefts||[],t.lefts||[])&&su(this.rights||[],t.rights||[])}}function su(e,t){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(Math.round(e[r])!==Math.round(t[r]))return!1;return!0}class Z0{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class n$ extends Z0{constructor(t){super(),this.el=t}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(t){this.el.scrollTop=t}setScrollLeft(t){this.el.scrollLeft=t}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class r$ extends Z0{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(t){window.scroll(window.scrollX,t)}setScrollLeft(t){window.scroll(t,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Ki extends xt{constructor(){super(...arguments),this.uid=Gi()}prepareHits(){}queryHit(t,n,r,s){return null}isValidSegDownEl(t){return!this.props.eventDrag&&!this.props.eventResize&&!Jt(t,".fc-event-mirror")}isValidDateDownEl(t){return!Jt(t,".fc-event:not(.fc-bg-event)")&&!Jt(t,".fc-more-link")&&!Jt(t,"a[data-navlink]")&&!Jt(t,".fc-popover")}}class s${constructor(t=n=>n.thickness||1){this.getEntryThickness=t,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(t){let n=[];for(let r of t)this.insertEntry(r,n);return n}insertEntry(t,n){let r=this.findInsertion(t);this.isInsertionValid(r,t)?this.insertEntryAt(t,r):this.handleInvalidInsertion(r,t,n)}isInsertionValid(t,n){return(this.maxCoord===-1||t.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||t.stackCnt<this.maxStackCnt)}handleInvalidInsertion(t,n,r){if(this.allowReslicing&&t.touchingEntry){const s=Object.assign(Object.assign({},n),{span:Dj(n.span,t.touchingEntry.span)});r.push(s),this.splitEntry(n,t.touchingEntry,r)}else r.push(n)}splitEntry(t,n,r){let s=t.span,i=n.span;s.start<i.start&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:s.start,end:i.start}},r),s.end>i.end&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:i.end,end:s.end}},r)}insertEntryAt(t,n){let{entriesByLevel:r,levelCoords:s}=this;n.lateral===-1?(Tp(s,n.level,n.levelCoord),Tp(r,n.level,[t])):Tp(r[n.level],n.lateral,t),this.stackCnts[dl(t)]=n.stackCnt}findInsertion(t){let{levelCoords:n,entriesByLevel:r,strictOrder:s,stackCnts:i}=this,o=n.length,a=0,l=-1,c=-1,d=null,f=0;for(let m=0;m<o;m+=1){const v=n[m];if(!s&&v>=a+this.getEntryThickness(t))break;let b=r[m],y,g=jS(b,t.span.start,AS),w=g[0]+g[1];for(;(y=b[w])&&y.span.start<t.span.end;){let S=v+this.getEntryThickness(y);S>a&&(a=S,d=y,l=m,c=w),S===a&&(f=Math.max(f,i[dl(y)]+1)),w+=1}}let h=0;if(d)for(h=l+1;h<o&&n[h]<a;)h+=1;let p=-1;return h<o&&n[h]===a&&(p=jS(r[h],t.span.end,AS)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:d,stackCnt:f,levelCoord:a,level:h,lateral:p}}toRects(){let{entriesByLevel:t,levelCoords:n}=this,r=t.length,s=[];for(let i=0;i<r;i+=1){let o=t[i],a=n[i];for(let l of o)s.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return s}}function AS(e){return e.span.end}function dl(e){return e.index+":"+e.span.start}function Dj(e,t){let n=Math.max(e.start,t.start),r=Math.min(e.end,t.end);return n<r?{start:n,end:r}:null}function Tp(e,t,n){e.splice(t,0,n)}function jS(e,t,n){let r=0,s=e.length;if(!s||t<n(e[r]))return[0,0];if(t>n(e[s-1]))return[s,0];for(;r<s;){let i=Math.floor(r+(s-r)/2),o=n(e[i]);if(t<o)s=i;else if(t>o)r=i+1;else return[i,1]}return[r,0]}class i${constructor(t,n){this.emitter=new Yf}destroy(){}setMirrorIsVisible(t){}setMirrorNeedsRevert(t){}setAutoScrollEnabled(t){}}const J0={};function o$(e,t){return!e||t>10?Lt({weekday:"short"}):t>1?Lt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Lt({weekday:"long"})}const Ij="fc-col-header-cell";function Pj(e){return e.text}class a$ extends xt{render(){let{dateEnv:t,options:n,theme:r,viewApi:s}=this.context,{props:i}=this,{date:o,dateProfile:a}=i,l=jj(o,i.todayRange,null,a),c=[Ij].concat(K0(l,r)),d=t.format(o,i.dayHeaderFormat),f=!l.isDisabled&&i.colCnt>1?_g(this.context,o):{},h=t.toDate(o);t.namedTimeZoneImpl&&(h=Ws(h,36e5));let p=Object.assign(Object.assign(Object.assign({date:h,view:s},i.extraRenderProps),{text:d}),l);return P(ls,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":l.isDisabled?void 0:M0(o)},i.extraDataAttrs),renderProps:p,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:Pj,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},m=>P("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&P(m,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]})))}}const l$=Lt({weekday:"long"});class c$ extends xt{render(){let{props:t}=this,{dateEnv:n,theme:r,viewApi:s,options:i}=this.context,o=Bt(new Date(2592e5),t.dow),a={dow:t.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=n.format(o,t.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:o},a),{view:s}),t.extraRenderProps),{text:l});return P(ls,{elTag:"th",elClasses:[Ij,...K0(a,r),...t.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:t.colSpan},t.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:Pj,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},d=>P("div",{className:"fc-scrollgrid-sync-inner"},P(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",t.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,l$)}})))}}class u$ extends xt{constructor(){super(...arguments),this.createDayHeaderFormatter=qe(d$)}render(){let{context:t}=this,{dates:n,dateProfile:r,datesRepDistinctDays:s,renderIntro:i}=this.props,o=this.createDayHeaderFormatter(t.options.dayHeaderFormat,s,n.length);return P(Qf,{unit:"day"},(a,l)=>P("tr",{role:"row"},i&&i("day"),n.map(c=>s?P(a$,{key:c.toISOString(),date:c,dateProfile:r,todayRange:l,colCnt:n.length,dayHeaderFormat:o}):P(c$,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:o}))))}}function d$(e,t,n){return e||o$(t,n)}class f${constructor(t,n){let r=t.start,{end:s}=t,i=[],o=[],a=-1;for(;r<s;)n.isHiddenDay(r)?i.push(a+.5):(a+=1,i.push(a),o.push(r)),r=Bt(r,1);this.dates=o,this.indices=i,this.cnt=o.length}sliceRange(t){let n=this.getDateDayIndex(t.start),r=this.getDateDayIndex(Bt(t.end,-1)),s=Math.max(0,n),i=Math.min(this.cnt-1,r);return s=Math.ceil(s),i=Math.floor(i),s<=i?{firstIndex:s,lastIndex:i,isStart:n===s,isEnd:r===i}:null}getDateDayIndex(t){let{indices:n}=this,r=Math.floor(fa(this.dates[0],t));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class h${constructor(t,n){let{dates:r}=t,s,i,o;if(n){for(i=r[0].getUTCDay(),s=1;s<r.length&&r[s].getUTCDay()!==i;s+=1);o=Math.ceil(r.length/s)}else o=1,s=r.length;this.rowCnt=o,this.colCnt=s,this.daySeries=t,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let t=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let s=0;s<this.colCnt;s+=1)r.push(this.buildCell(n,s));t.push(r)}return t}buildCell(t,n){let r=this.daySeries.dates[t*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let t=[];for(let n=0;n<this.colCnt;n+=1)t.push(this.cells[0][n].date);return t}sliceRange(t){let{colCnt:n}=this,r=this.daySeries.sliceRange(t),s=[];if(r){let{firstIndex:i,lastIndex:o}=r,a=i;for(;a<=o;){let l=Math.floor(a/n),c=Math.min((l+1)*n,o+1);s.push({row:l,firstCol:a%n,lastCol:(c-1)%n,isStart:r.isStart&&a===i,isEnd:r.isEnd&&c-1===o}),a=c}}return s}}class p${constructor(){this.sliceBusinessHours=qe(this._sliceBusinessHours),this.sliceDateSelection=qe(this._sliceDateSpan),this.sliceEventStore=qe(this._sliceEventStore),this.sliceEventDrag=qe(this._sliceInteraction),this.sliceEventResize=qe(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(t,n,r,s,...i){let{eventUiBases:o}=t,a=this.sliceEventStore(t.eventStore,o,n,r,...i);return{dateSelectionSegs:this.sliceDateSelection(t.dateSelection,n,r,o,s,...i),businessHourSegs:this.sliceBusinessHours(t.businessHours,n,r,s,...i),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(t.eventDrag,o,n,r,...i),eventResize:this.sliceEventResize(t.eventResize,o,n,r,...i),eventSelection:t.eventSelection}}sliceNowDate(t,n,r,s,...i){return this._sliceDateSpan({range:{start:t,end:Ws(t,1)},allDay:!1},n,r,{},s,...i)}_sliceBusinessHours(t,n,r,s,...i){return t?this._sliceEventStore(Fi(t,iu(n,!!r),s),{},n,r,...i).bg:[]}_sliceEventStore(t,n,r,s,...i){if(t){let o=CS(t,n,iu(r,!!s),s);return{bg:this.sliceEventRanges(o.bg,i),fg:this.sliceEventRanges(o.fg,i)}}return{bg:[],fg:[]}}_sliceInteraction(t,n,r,s,...i){if(!t)return null;let o=CS(t.mutatedEvents,n,iu(r,!!s),s);return{segs:this.sliceEventRanges(o.fg,i),affectedInstances:t.affectedEvents.instances,isEvent:t.isEvent}}_sliceDateSpan(t,n,r,s,i,...o){if(!t)return[];let a=iu(n,!!r),l=Jo(t.range,a);if(l){t=Object.assign(Object.assign({},t),{range:l});let c=O8(t,s,i),d=this.sliceRange(t.range,...o);for(let f of d)f.eventRange=c;return d}return[]}sliceEventRanges(t,n){let r=[];for(let s of t)r.push(...this.sliceEventRange(s,n));return r}sliceEventRange(t,n){let r=t.range;this.forceDayIfListItem&&t.ui.display==="list-item"&&(r={start:r.start,end:Bt(r.start,1)});let s=this.sliceRange(r,...n);for(let i of s)i.eventRange=t,i.isStart=t.isStart&&i.isStart,i.isEnd=t.isEnd&&i.isEnd;return s}}function iu(e,t){let n=e.activeRange;return t?n:{start:Ws(n.start,e.slotMinTime.milliseconds),end:Ws(n.end,e.slotMaxTime.milliseconds-864e5)}}function Oj(e,t,n){let{instances:r}=e.mutatedEvents;for(let s in r)if(!Gf(t.validRange,r[s].range))return!1;return Mj({eventDrag:e},n)}function m$(e,t,n){return Gf(t.validRange,e.range)?Mj({dateSelection:e},n):!1}function Mj(e,t){let n=t.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||g$)(r,t)}function g$(e,t,n={},r){return!(e.eventDrag&&!y$(e,t,n,r)||e.dateSelection&&!v$(e,t,n,r))}function y$(e,t,n,r){let s=t.getCurrentData(),i=e.eventDrag,o=i.mutatedEvents,a=o.defs,l=o.instances,c=Vd(a,i.isEvent?e.eventUiBases:{"":s.selectionConfig});r&&(c=qi(c,r));let d=f8(e.eventStore,i.affectedEvents.instances),f=d.defs,h=d.instances,p=Vd(f,e.eventUiBases);for(let m in l){let v=l[m],b=v.range,y=c[v.defId],g=a[v.defId];if(!Lj(y.constraints,b,d,e.businessHours,t))return!1;let{eventOverlap:w}=t.options,S=typeof w=="function"?w:null;for(let E in h){let C=h[E];if(U0(b,C.range)&&(p[C.defId].overlap===!1&&i.isEvent||y.overlap===!1||S&&!S(new ft(t,f[C.defId],C),new ft(t,g,v))))return!1}let k=s.eventStore;for(let E of y.allows){let C=Object.assign(Object.assign({},n),{range:v.range,allDay:g.allDay}),T=k.defs[g.defId],N=k.instances[m],A;if(T?A=new ft(t,T,N):A=new ft(t,g),!E(q0(C,t),A))return!1}}return!0}function v$(e,t,n,r){let s=e.eventStore,i=s.defs,o=s.instances,a=e.dateSelection,l=a.range,{selectionConfig:c}=t.getCurrentData();if(r&&(c=r(c)),!Lj(c.constraints,l,s,e.businessHours,t))return!1;let{selectOverlap:d}=t.options,f=typeof d=="function"?d:null;for(let h in o){let p=o[h];if(U0(l,p.range)&&(c.overlap===!1||f&&!f(new ft(t,i[p.defId],p),null)))return!1}for(let h of c.allows){let p=Object.assign(Object.assign({},n),a);if(!h(q0(p,t),null))return!1}return!0}function Lj(e,t,n,r,s){for(let i of e)if(!b$(x$(i,t,n,r,s),t))return!1;return!0}function x$(e,t,n,r,s){return e==="businessHours"?Np(Fi(r,t,s)):typeof e=="string"?Np(qf(n,i=>i.groupId===e)):typeof e=="object"&&e?Np(Fi(e,t,s)):[]}function Np(e){let{instances:t}=e,n=[];for(let r in t)n.push(t[r].range);return n}function b$(e,t){for(let n of e)if(Gf(n,t))return!0;return!1}const ou=/^(visible|hidden)$/;class w$ extends xt{constructor(){super(...arguments),this.handleEl=t=>{this.el=t,Lr(this.props.elRef,t)}}render(){let{props:t}=this,{liquid:n,liquidIsAbsolute:r}=t,s=n&&r,i=["fc-scroller"];return n&&(r?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),P("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:t.overflowX,overflowY:t.overflowY,left:s&&-(t.overcomeLeft||0)||"",right:s&&-(t.overcomeRight||0)||"",bottom:s&&-(t.overcomeBottom||0)||"",marginLeft:!s&&-(t.overcomeLeft||0)||"",marginRight:!s&&-(t.overcomeRight||0)||"",marginBottom:!s&&-(t.overcomeBottom||0)||"",maxHeight:t.maxHeight||""}},t.children)}needsXScrolling(){if(ou.test(this.props.overflowX))return!1;let{el:t}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=t;for(let s=0;s<r.length;s+=1)if(r[s].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(ou.test(this.props.overflowY))return!1;let{el:t}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=t;for(let s=0;s<r.length;s+=1)if(r[s].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return ou.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return ou.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class wi{constructor(t){this.masterCallback=t,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:s,currentMap:i}=this,o=!1,a=!1;n!==null?(o=r in i,i[r]=n,s[r]=(s[r]||0)+1,a=!0):(s[r]-=1,s[r]||(delete i[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),a&&this.masterCallback(n,String(r)))}}createRef(t){let n=this.callbackMap[t];return n||(n=this.callbackMap[t]=r=>{this.handleValue(r,String(t))}),n}collect(t,n,r){return _6(this.currentMap,t,n,r)}getAll(){return z0(this.currentMap)}}function S$(e){let t=jV(e,".fc-scrollgrid-shrink"),n=0;for(let r of t)n=Math.max(n,VV(r));return Math.ceil(n)}function Fj(e,t){return e.liquid&&t.liquid}function k$(e,t){return t.maxHeight!=null||Fj(e,t)}function E$(e,t,n,r){let{expandRows:s}=n;return typeof t.content=="function"?t.content(n):P("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:s?n.clientHeight:""}},n.tableColGroupNode,P(r?"thead":"tbody",{role:"presentation"},typeof t.rowContent=="function"?t.rowContent(n):t.rowContent))}function C$(e,t){return $s(e,t,pr)}function T$(e,t){let n=[];for(let r of e){let s=r.span||1;for(let i=0;i<s;i+=1)n.push(P("col",{style:{width:r.width==="shrink"?N$(t):r.width||"",minWidth:r.minWidth||""}}))}return P("colgroup",{},...n)}function N$(e){return e??4}function A$(e){for(let t of e)if(t.width==="shrink")return!0;return!1}function j$(e,t){let n=["fc-scrollgrid",t.theme.getClass("table")];return e&&n.push("fc-scrollgrid-liquid"),n}function _$(e,t){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${e.type}`,e.className];return t&&e.liquid&&e.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),e.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function R$(e){return P("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function _S(e){let{stickyHeaderDates:t}=e;return(t==null||t==="auto")&&(t=e.height==="auto"||e.viewHeight==="auto"),t}function D$(e){let{stickyFooterScrollbar:t}=e;return(t==null||t==="auto")&&(t=e.height==="auto"||e.viewHeight==="auto"),t}class Bj extends xt{constructor(){super(...arguments),this.processCols=qe(t=>t,C$),this.renderMicroColGroup=qe(T$),this.scrollerRefs=new wi,this.scrollerElRefs=new wi(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:t,state:n,context:r}=this,s=t.sections||[],i=this.processCols(t.cols),o=this.renderMicroColGroup(i,n.shrinkWidth),a=j$(t.liquid,r);t.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=s.length,c=0,d,f=[],h=[],p=[];for(;c<l&&(d=s[c]).type==="header";)f.push(this.renderSection(d,o,!0)),c+=1;for(;c<l&&(d=s[c]).type==="body";)h.push(this.renderSection(d,o,!1)),c+=1;for(;c<l&&(d=s[c]).type==="footer";)p.push(this.renderSection(d,o,!0)),c+=1;let m=!Nj();const v={role:"rowgroup"};return P("table",{role:"grid",className:a.join(" "),style:{height:t.height}},!!(!m&&f.length)&&P("thead",v,...f),!!(!m&&h.length)&&P("tbody",v,...h),!!(!m&&p.length)&&P("tfoot",v,...p),m&&P("tbody",v,...f,...h,...p))}renderSection(t,n,r){return"outerContent"in t?P(wt,{key:t.key},t.outerContent):P("tr",{key:t.key,role:"presentation",className:_$(t,this.props.liquid).join(" ")},this.renderChunkTd(t,n,t.chunk,r))}renderChunkTd(t,n,r,s){if("outerContent"in r)return r.outerContent;let{props:i}=this,{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,c=k$(i,t),d=Fj(i,t),f=i.liquid?o?"scroll":c?"auto":"hidden":"visible",h=t.key,p=E$(t,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!i.collapsibleWidth&&a[h]!==void 0?a[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:t.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},s);return P(s?"th":"td",{ref:r.elRef,role:"presentation"},P("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},P(w$,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:f,overflowX:i.liquid?"hidden":"visible",maxHeight:t.maxHeight,liquid:d,liquidIsAbsolute:!0},p)))}_handleScrollerEl(t,n){let r=I$(this.props.sections,n);r&&Lr(r.chunk.scrollerElRef,t)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return A$(this.props.cols)?S$(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let t=X8(),{scrollerRefs:n,scrollerElRefs:r}=this,s=!1,i={},o={};for(let a in n.currentMap){let l=n.currentMap[a];if(l&&l.needsYScrolling()){s=!0;break}}for(let a of this.props.sections){let l=a.key,c=r.currentMap[l];if(c){let d=c.parentNode;i[l]=Math.floor(d.getBoundingClientRect().width-(s?t.y:0)),o[l]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:i,scrollerClientHeights:o}}}Bj.addStateEquality({scrollerClientWidths:pr,scrollerClientHeights:pr});function I$(e,t){for(let n of e)if(n.key===t)return n;return null}class ev extends xt{constructor(){super(...arguments),this.buildPublicEvent=qe((t,n,r)=>new ft(t,n,r)),this.handleEl=t=>{this.el=t,Lr(this.props.elRef,t),t&&TS(t,this.props.seg)}}render(){const{props:t,context:n}=this,{options:r}=n,{seg:s}=t,{eventRange:i}=s,{ui:o}=i,a={event:this.buildPublicEvent(n,i.def,i.instance),view:n.viewApi,timeText:t.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!t.disableDragging&&E8(s,n),isStartResizable:!t.disableResizing&&C8(s,n),isEndResizable:!t.disableResizing&&T8(s),isMirror:!!(t.isDragging||t.isResizing||t.isDateSelecting),isStart:!!s.isStart,isEnd:!!s.isEnd,isPast:!!t.isPast,isFuture:!!t.isFuture,isToday:!!t.isToday,isSelected:!!t.isSelected,isDragging:!!t.isDragging,isResizing:!!t.isResizing};return P(ls,{elRef:this.handleEl,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:[...N8(a),...s.eventRange.ui.classNames,...t.elClasses||[]],elStyle:t.elStyle,renderProps:a,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:t.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},t.children)}componentDidUpdate(t){this.el&&this.props.seg!==t.seg&&TS(this.el,this.props.seg)}}class zj extends xt{render(){let{props:t,context:n}=this,{options:r}=n,{seg:s}=t,{ui:i}=s.eventRange,o=r.eventTimeFormat||t.defaultTimeFormat,a=kj(s,o,n,t.defaultDisplayEventTime,t.defaultDisplayEventEnd);return P(ev,Object.assign({},t,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:Ej(s,n),defaultGenerator:P$,timeText:a}),(l,c)=>P(wt,null,P(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&P("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&P("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}zj.addPropsEquality({seg:pr});function P$(e){return P("div",{className:"fc-event-main-frame"},e.timeText&&P("div",{className:"fc-event-time"},e.timeText),P("div",{className:"fc-event-title-container"},P("div",{className:"fc-event-title fc-sticky"},e.event.title||P(wt,null,""))))}const O$=Lt({day:"numeric"});class Hj extends xt{constructor(){super(...arguments),this.refineRenderProps=Lu(M$)}render(){let{props:t,context:n}=this,{options:r}=n,s=this.refineRenderProps({date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,isMonthStart:t.isMonthStart||!1,showDayNumber:t.showDayNumber,extraRenderProps:t.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return P(ls,{elRef:t.elRef,elTag:t.elTag,elAttrs:Object.assign(Object.assign({},t.elAttrs),s.isDisabled?{}:{"data-date":M0(t.date)}),elClasses:[...K0(s,n.theme),...t.elClasses||[]],elStyle:t.elStyle,renderProps:s,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:t.defaultGenerator,classNameGenerator:s.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},t.children)}}function Uj(e){return!!(e.dayCellContent||Tg("dayCellContent",e))}function M$(e){let{date:t,dateEnv:n,dateProfile:r,isMonthStart:s}=e,i=jj(t,e.todayRange,null,r),o=e.showDayNumber?n.format(t,s?e.monthStartFormat:O$):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(t),view:e.viewApi},i),{isMonthStart:s,dayNumberText:o}),e.extraRenderProps)}class L$ extends xt{render(){let{props:t}=this,{seg:n}=t;return P(ev,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:F$,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday,disableDragging:!0,disableResizing:!0})}}function F$(e){let{title:t}=e.event;return t&&P("div",{className:"fc-event-title"},e.event.title)}function B$(e){return P("div",{className:`fc-${e}`})}const z$=e=>P(Yi.Consumer,null,t=>{let{dateEnv:n,options:r}=t,{date:s}=e,i=r.weekNumberFormat||e.defaultFormat,o=n.computeWeekNumber(s),a=n.format(s,i),l={num:o,text:a,date:s};return P(ls,{elRef:e.elRef,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:l,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:H$,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},e.children)});function H$(e){return e.text}const Ap=10;class U$ extends xt{constructor(){super(...arguments),this.state={titleId:$f()},this.handleRootEl=t=>{this.rootEl=t,this.props.elRef&&Lr(this.props.elRef,t)},this.handleDocumentMouseDown=t=>{const n=JA(t);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=t=>{t.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:t}=this.props;t&&t()}}render(){let{theme:t,options:n}=this.context,{props:r,state:s}=this,i=["fc-popover",t.getClass("popover")].concat(r.extraClassNames||[]);return mV(P("div",Object.assign({},r.extraAttrs,{id:r.id,className:i.join(" "),"aria-labelledby":s.titleId,ref:this.handleRootEl}),P("div",{className:"fc-popover-header "+t.getClass("popoverHeader")},P("span",{className:"fc-popover-title",id:s.titleId},r.title),P("span",{className:"fc-popover-close "+t.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),P("div",{className:"fc-popover-body "+t.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:t}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:s}=this,i=t$(n);if(i){let o=s.getBoundingClientRect(),a=r?Jt(n,".fc-scrollgrid").getBoundingClientRect().top:i.top,l=t?i.right-o.width:i.left;a=Math.max(a,Ap),l=Math.min(l,document.documentElement.clientWidth-Ap-o.width),l=Math.max(l,Ap);let c=s.offsetParent.getBoundingClientRect();al(s,{top:a-c.top,left:l-c.left})}}}class V$ extends Ki{constructor(){super(...arguments),this.handleRootEl=t=>{this.rootEl=t,t?this.context.registerInteractiveComponent(this,{el:t,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:t,dateEnv:n}=this.context,{props:r}=this,{startDate:s,todayRange:i,dateProfile:o}=r,a=n.format(s,t.dayPopoverFormat);return P(Hj,{elRef:this.handleRootEl,date:s,dateProfile:o,todayRange:i},(l,c,d)=>P(U$,{elRef:d.ref,id:r.id,title:a,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},Uj(t)&&P(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(t,n,r,s){let{rootEl:i,props:o}=this;return t>=0&&t<r&&n>=0&&n<s?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:r,bottom:s},layer:1}:null}}class $$ extends xt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:$f()},this.handleLinkEl=t=>{this.linkEl=t,this.props.elRef&&Lr(this.props.elRef,t)},this.handleClick=t=>{let{props:n,context:r}=this,{moreLinkClick:s}=r.options,i=RS(n).start;function o(a){let{def:l,instance:c,range:d}=a.eventRange;return{event:new ft(r,l,c),start:r.dateEnv.toDate(d.start),end:r.dateEnv.toDate(d.end),isStart:a.isStart,isEnd:a.isEnd}}typeof s=="function"&&(s=s({date:i,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:t,view:r.viewApi})),!s||s==="popover"?this.setState({isPopoverOpen:!0}):typeof s=="string"&&r.calendarApi.zoomTo(i,s)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:t,state:n}=this;return P(Yi.Consumer,null,r=>{let{viewApi:s,options:i,calendarApi:o}=r,{moreLinkText:a}=i,{moreCnt:l}=t,c=RS(t),d=typeof a=="function"?a.call(o,l):`+${l} ${a}`,f=ll(i.moreLinkHint,[l],d),h={num:l,shortText:`+${l}`,text:d,view:s};return P(wt,null,!!t.moreCnt&&P(ls,{elTag:t.elTag||"a",elRef:this.handleLinkEl,elClasses:[...t.elClasses||[],"fc-more-link"],elStyle:t.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},t.elAttrs),tj(this.handleClick)),{title:f,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:t.defaultGenerator||W$,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},t.children),n.isPopoverOpen&&P(V$,{id:n.popoverId,startDate:c.start,endDate:c.end,dateProfile:t.dateProfile,todayRange:t.todayRange,extraDateSpan:t.extraDateSpan,parentEl:this.parentEl,alignmentEl:t.alignmentElRef?t.alignmentElRef.current:this.linkEl,alignGridTop:t.alignGridTop,forceTimed:t.forceTimed,onClose:this.handlePopoverClose},t.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Jt(this.linkEl,".fc-view-harness"))}}function W$(e){return e.text}function RS(e){if(e.allDayDate)return{start:e.allDayDate,end:Bt(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:G$(t),end:Y$(t)}}function G$(e){return e.reduce(q$).eventRange.range.start}function q$(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function Y$(e){return e.reduce(Q$).eventRange.range.end}function Q$(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}class K${constructor(){this.handlers=[]}set(t){this.currentValue=t;for(let n of this.handlers)n(t)}subscribe(t){this.handlers.push(t),this.currentValue!==void 0&&t(this.currentValue)}}class X$ extends K${constructor(){super(...arguments),this.map=new Map}handle(t){const{map:n}=this;let r=!1;t.isActive?(n.set(t.id,t),r=!0):n.has(t.id)&&(n.delete(t.id),r=!0),r&&this.set(n)}}const Z$=[],Vj={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},$j=Object.assign(Object.assign({},Vj),{buttonHints:{prev:"Previous $0",next:"Next $0",today(e,t){return t==="day"?"Today":`This ${e}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(e){return`Show ${e} more event${e===1?"":"s"}`}});function J$(e){let t=e.length>0?e[0].code:"en",n=Z$.concat(e),r={en:$j};for(let s of n)r[s.code]=s;return{map:r,defaultCode:t}}function Wj(e,t){return typeof e=="object"&&!Array.isArray(e)?Gj(e.code,[e.code],e):e7(e,t)}function e7(e,t){let n=[].concat(e||[]),r=t7(n,t)||$j;return Gj(e,n,r)}function t7(e,t){for(let n=0;n<e.length;n+=1){let r=e[n].toLocaleLowerCase().split("-");for(let s=r.length;s>0;s-=1){let i=r.slice(0,s).join("-");if(t[i])return t[i]}}return null}function Gj(e,t,n){let r=B0([Vj,n],["buttonText"]);delete r.code;let{week:s}=r;return delete r.week,{codeArg:e,codes:t,week:s,simpleNumberFormat:new Intl.NumberFormat(e),options:r}}function Zs(e){return{id:Gi(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function n7(e,t){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(i){for(let o of i){const a=o.name,l=n[a];l===void 0?(n[a]=o.id,s(o.deps),r=s7(r,o)):l!==o.id&&console.warn(`Duplicate plugin '${a}'`)}}return e&&s(e),s(t),r}function r7(){let e=[],t=[],n;return(r,s)=>((!n||!$s(r,e)||!$s(s,t))&&(n=n7(r,s)),e=r,t=s,n)}function s7(e,t){return{premiumReleaseDate:i7(e.premiumReleaseDate,t.premiumReleaseDate),reducers:e.reducers.concat(t.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:e.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},e.eventRefiners),t.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},e.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},e.views),t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},e.themeClasses),t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||t.initialView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},e.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||e.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},e.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},e.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},e.propSetHandlers),t.propSetHandlers)}}function i7(e,t){return e===void 0?t:t===void 0?e:new Date(Math.max(e.valueOf(),t.valueOf()))}class Js extends bc{}Js.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Js.prototype.baseIconClass="fc-icon";Js.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Js.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Js.prototype.iconOverrideOption="buttonIcons";Js.prototype.iconOverrideCustomButtonOption="icon";Js.prototype.iconOverridePrefix="fc-icon-";function o7(e,t){let n={},r;for(r in e)Rg(r,n,e,t);for(r in t)Rg(r,n,e,t);return n}function Rg(e,t,n,r){if(t[e])return t[e];let s=a7(e,t,n,r);return s&&(t[e]=s),s}function a7(e,t,n,r){let s=n[e],i=r[e],o=d=>s&&s[d]!==null?s[d]:i&&i[d]!==null?i[d]:null,a=o("component"),l=o("superType"),c=null;if(l){if(l===e)throw new Error("Can't have a custom view type that references itself");c=Rg(l,t,n,r)}return!a&&c&&(a=c.component),a?{type:e,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),i?i.rawOptions:{})}:null}function DS(e){return qi(e,l7)}function l7(e){let t=typeof e=="function"?{component:e}:e,{component:n}=t;return t.content?n=IS(t):n&&!(n.prototype instanceof xt)&&(n=IS(Object.assign(Object.assign({},t),{content:n}))),{superType:t.type,component:n,rawOptions:t}}function IS(e){return t=>P(Yi.Consumer,null,n=>P(ls,{elTag:"div",elClasses:cj(n.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:e.content,classNameGenerator:e.classNames,didMount:e.didMount,willUnmount:e.willUnmount}))}function c7(e,t,n,r){let s=DS(e),i=DS(t.views),o=o7(s,i);return qi(o,a=>u7(a,i,t,n,r))}function u7(e,t,n,r,s){let i=e.overrides.duration||e.defaults.duration||r.duration||n.duration,o=null,a="",l="",c={};if(i&&(o=d7(i),o)){let h=Cg(o);a=h.unit,h.value===1&&(l=a,c=t[a]?t[a].rawOptions:{})}let d=h=>{let p=h.buttonText||{},m=e.defaults.buttonTextKey;return m!=null&&p[m]!=null?p[m]:p[e.type]!=null?p[e.type]:p[l]!=null?p[l]:null},f=h=>{let p=h.buttonHints||{},m=e.defaults.buttonTextKey;return m!=null&&p[m]!=null?p[m]:p[e.type]!=null?p[e.type]:p[l]!=null?p[l]:null};return{type:e.type,component:e.component,duration:o,durationUnit:a,singleUnit:l,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},c),e.overrides),buttonTextOverride:d(r)||d(n)||e.overrides.buttonText,buttonTextDefault:d(s)||e.defaults.buttonText||d(cl)||e.type,buttonTitleOverride:f(r)||f(n)||e.overrides.buttonHint,buttonTitleDefault:f(s)||e.defaults.buttonHint||f(cl)}}let PS={};function d7(e){let t=JSON.stringify(e),n=PS[t];return n===void 0&&(n=Qe(e),PS[t]=n),n}function f7(e,t){switch(t.type){case"CHANGE_VIEW_TYPE":e=t.viewType}return e}function h7(e,t){switch(t.type){case"CHANGE_DATE":return t.dateMarker;default:return e}}function p7(e,t,n){let r=e.initialDate;return r!=null?t.createMarker(r):n.getDateMarker()}function m7(e,t){switch(t.type){case"SET_OPTION":return Object.assign(Object.assign({},e),{[t.optionName]:t.rawOptionValue});default:return e}}function g7(e,t,n,r){let s;switch(t.type){case"CHANGE_VIEW_TYPE":return r.build(t.dateMarker||n);case"CHANGE_DATE":return r.build(t.dateMarker);case"PREV":if(s=r.buildPrev(e,n),s.isValid)return s;break;case"NEXT":if(s=r.buildNext(e,n),s.isValid)return s;break}return e}function y7(e,t,n){let r=t?t.activeRange:null;return Yj({},E7(e,n),r,n)}function v7(e,t,n,r){let s=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return Yj(e,t.sources,s,r);case"REMOVE_EVENT_SOURCE":return b7(e,t.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Qj(e,s,r):e;case"FETCH_EVENT_SOURCES":return tv(e,t.sourceIds?sj(t.sourceIds):Kj(e,r),s,t.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return k7(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}function x7(e,t,n){let r=t?t.activeRange:null;return tv(e,Kj(e,n),r,!0,n)}function qj(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function Yj(e,t,n,r){let s={};for(let i of t)s[i.sourceId]=i;return n&&(s=Qj(s,n,r)),Object.assign(Object.assign({},e),s)}function b7(e,t){return Li(e,n=>n.sourceId!==t)}function Qj(e,t,n){return tv(e,Li(e,r=>w7(r,t,n)),t,!1,n)}function w7(e,t,n){return Xj(e,n)?!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId}function tv(e,t,n,r,s){let i={};for(let o in e){let a=e[o];t[o]?i[o]=S7(a,n,r,s):i[o]=a}return i}function S7(e,t,n,r){let{options:s,calendarApi:i}=r,o=r.pluginHooks.eventSourceDefs[e.sourceDefId],a=Gi();return o.fetch({eventSource:e,range:t,isRefetch:n,context:r},l=>{let{rawEvents:c}=l;s.eventSourceSuccess&&(c=s.eventSourceSuccess.call(i,c,l.response)||c),e.success&&(c=e.success.call(i,c,l.response)||c),r.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:a,fetchRange:t,rawEvents:c})},l=>{let c=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(i,l),c=!0),e.failure&&(e.failure(l),c=!0),c||console.warn(l.message,l),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:a,fetchRange:t,error:l})}),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:a})}function k7(e,t,n,r){let s=e[t];return s&&n===s.latestFetchId?Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:r})}):e}function Kj(e,t){return Li(e,n=>Xj(n,t))}function E7(e,t){let n=yj(t),r=[].concat(e.eventSources||[]),s=[];e.initialEvents&&r.unshift(e.initialEvents),e.events&&r.unshift(e.events);for(let i of r){let o=gj(i,t,n);o&&s.push(o)}return s}function Xj(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function C7(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function T7(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function N7(e,t){let n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function A7(e,t){let n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function j7(e,t,n,r,s){let i=e.headerToolbar?OS(e.headerToolbar,e,t,n,r,s):null,o=e.footerToolbar?OS(e.footerToolbar,e,t,n,r,s):null;return{header:i,footer:o}}function OS(e,t,n,r,s,i){let o={},a=[],l=!1;for(let c in e){let d=e[c],f=_7(d,t,n,r,s,i);o[c]=f.widgets,a.push(...f.viewsWithButtons),l=l||f.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:l}}function _7(e,t,n,r,s,i){let o=t.direction==="rtl",a=t.customButtons||{},l=n.buttonText||{},c=t.buttonText||{},d=n.buttonHints||{},f=t.buttonHints||{},h=e?e.split(" "):[],p=[],m=!1;return{widgets:h.map(b=>b.split(",").map(y=>{if(y==="title")return m=!0,{buttonName:y};let g,w,S,k,E,C;if(g=a[y])S=T=>{g.click&&g.click.call(T.target,T,T.target)},(k=r.getCustomButtonIconClass(g))||(k=r.getIconClass(y,o))||(E=g.text),C=g.hint||g.text;else if(w=s[y]){p.push(y),S=()=>{i.changeView(y)},(E=w.buttonTextOverride)||(k=r.getIconClass(y,o))||(E=w.buttonTextDefault);let T=w.buttonTextOverride||w.buttonTextDefault;C=ll(w.buttonTitleOverride||w.buttonTitleDefault||t.viewHint,[T,y],T)}else if(i[y])if(S=()=>{i[y]()},(E=l[y])||(k=r.getIconClass(y,o))||(E=c[y]),y==="prevYear"||y==="nextYear"){let T=y==="prevYear"?"prev":"next";C=ll(d[T]||f[T],[c.year||"year","year"],c[y])}else C=T=>ll(d[y]||f[y],[c[T]||T,T],c[y]);return{buttonName:y,buttonClick:S,buttonIcon:k,buttonText:E,buttonHint:C}})),viewsWithButtons:p,hasTitle:m}}class R7{constructor(t,n,r){this.type=t,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(t){return this.getCurrentData().options[t]}}let D7={ignoreRange:!0,parseMeta(e){return Array.isArray(e.events)?e.events:null},fetch(e,t){t({rawEvents:e.eventSource.meta})}};const I7=Zs({name:"array-event-source",eventSourceDefs:[D7]});let P7={parseMeta(e){return typeof e.events=="function"?e.events:null},fetch(e,t,n){const{dateEnv:r}=e.context,s=e.eventSource.meta;M8(s.bind(null,Cj(e.range,r)),i=>t({rawEvents:i}),n)}};const O7=Zs({name:"func-event-source",eventSourceDefs:[P7]}),M7={method:String,extraParams:D,startParam:String,endParam:String,timeZoneParam:String};let L7={parseMeta(e){return e.url&&(e.format==="json"||!e.format)?{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}:null},fetch(e,t,n){const{meta:r}=e.eventSource,s=B7(r,e.range,e.context);L8(r.method,r.url,s).then(([i,o])=>{t({rawEvents:i,response:o})},n)}};const F7=Zs({name:"json-event-source",eventSourceRefiners:M7,eventSourceDefs:[L7]});function B7(e,t,n){let{dateEnv:r,options:s}=n,i,o,a,l,c={};return i=e.startParam,i==null&&(i=s.startParam),o=e.endParam,o==null&&(o=s.endParam),a=e.timeZoneParam,a==null&&(a=s.timeZoneParam),typeof e.extraParams=="function"?l=e.extraParams():l=e.extraParams||{},Object.assign(c,l),c[i]=r.formatIso(t.start),c[o]=r.formatIso(t.end),r.timeZone!=="local"&&(c[a]=r.timeZone),c}const z7={daysOfWeek:D,startTime:Qe,endTime:Qe,duration:Qe,startRecur:D,endRecur:D};let H7={parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){let n={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null,dateEnv:t},r;return e.duration&&(r=e.duration),!r&&e.startTime&&e.endTime&&(r=qV(e.endTime,e.startTime)),{allDayGuess:!e.startTime&&!e.endTime,duration:r,typeData:n}}return null},expand(e,t,n){let r=Jo(t,{start:e.startRecur,end:e.endRecur});return r?V7(e.daysOfWeek,e.startTime,e.dateEnv,n,r):[]}};const U7=Zs({name:"simple-recurring-event",recurringTypes:[H7],eventRefiners:z7});function V7(e,t,n,r,s){let i=e?sj(e):null,o=dt(s.start),a=s.end,l=[];for(t&&(t.milliseconds<0?a=Bt(a,1):t.milliseconds>=1e3*60*60*24&&(o=Bt(o,-1)));o<a;){let c;(!i||i[o.getUTCDay()])&&(t?c=r.add(o,t):c=o,l.push(r.createMarker(n.toDate(c)))),o=Bt(o,1)}return l}const $7=Zs({name:"change-handler",optionChangeHandlers:{events(e,t){MS([e],t)},eventSources:MS}});function MS(e,t){let n=z0(t.getCurrentData().eventSources);if(n.length===1&&e.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(e[0])){t.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:e[0]});return}let r=[];for(let s of e){let i=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===s){n.splice(o,1),i=!0;break}i||r.push(s)}for(let s of n)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of r)t.calendarApi.addEventSource(s)}function W7(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},Cj(e.activeRange,t.dateEnv)),{view:t.viewApi}))}function G7(e,t){let{emitter:n}=t;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Ni(e,t))}const q7=[I7,O7,F7,U7,$7,Zs({name:"misc",isLoadingFuncs:[e=>qj(e.eventSources)],propSetHandlers:{dateProfile:W7,eventStore:G7}})];class Y7{constructor(t,n){this.runTaskOption=t,this.drainedOption=n,this.queue=[],this.delayedRunner=new D0(this.drain.bind(this))}request(t,n){this.queue.push(t),this.delayedRunner.request(n)}pause(t){this.delayedRunner.pause(t)}resume(t,n){this.delayedRunner.resume(t,n)}drain(){let{queue:t}=this;for(;t.length;){let n=[],r;for(;r=t.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(t){this.runTaskOption&&this.runTaskOption(t)}drained(t){this.drainedOption&&this.drainedOption(t)}}function Q7(e,t,n){let r;return/^(year|month)$/.test(e.currentRangeUnit)?r=e.currentRange:r=e.activeRange,n.formatRange(r.start,r.end,Lt(t.titleFormat||K7(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}function K7(e){let{currentRangeUnit:t}=e;if(t==="year")return{year:"numeric"};if(t==="month")return{year:"numeric",month:"long"};let n=Md(e.currentRange.start,e.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class LS{constructor(){this.resetListeners=new Set}handleInput(t,n){const r=this.dateEnv;if(t!==r&&(typeof n=="function"?this.nowFn=n:r||(this.nowAnchorDate=t.toDate(n?t.createMarker(n):t.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=t,r))for(const s of this.resetListeners.values())s()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(t){this.resetListeners.add(t)}removeResetListener(t){this.resetListeners.delete(t)}}class X7{constructor(t){this.computeCurrentViewData=qe(this._computeCurrentViewData),this.organizeRawLocales=qe(J$),this.buildLocale=qe(Wj),this.buildPluginHooks=r7(),this.buildDateEnv=qe(Z7),this.buildTheme=qe(J7),this.parseToolbars=qe(j7),this.buildViewSpecs=qe(c7),this.buildDateProfileGenerator=Lu(eW),this.buildViewApi=qe(tW),this.buildViewUiProps=Lu(sW),this.buildEventUiBySource=qe(nW,pr),this.buildEventUiBases=qe(rW),this.parseContextBusinessHours=Lu(iW),this.buildTitle=qe(Q7),this.nowManager=new LS,this.emitter=new Yf,this.actionRunner=new Y7(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=t,this.actionRunner.pause(),this.nowManager=new LS;let n={},r=this.computeOptionsData(t.optionOverrides,n,t.calendarApi),s=r.calendarOptions.initialView||r.pluginHooks.initialView,i=this.computeCurrentViewData(s,r,t.optionOverrides,n);t.calendarApi.currentDataManager=this,this.emitter.setThisContext(t.calendarApi),this.emitter.setOptions(i.options);let o={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a=p7(r.calendarOptions,r.dateEnv,this.nowManager),l=i.dateProfileGenerator.build(a);Ls(l.activeRange,a)||(a=l.currentRange.start);for(let h of r.pluginHooks.contextInit)h(o);let c=y7(r.calendarOptions,l,o),d={dynamicOptionOverrides:n,currentViewType:s,currentDate:a,dateProfile:l,businessHours:this.parseContextBusinessHours(o),eventSources:c,eventUiBases:{},eventStore:dr(),renderableEventStore:dr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},f=Object.assign(Object.assign({},o),d);for(let h of r.pluginHooks.reducers)Object.assign(d,h(null,null,f));jp(d,o)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(t,n){let{props:r}=this;n===void 0?r.optionOverrides=t:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),t),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(t){let{props:n,state:r,emitter:s}=this,i=m7(r.dynamicOptionOverrides,t),o=this.computeOptionsData(n.optionOverrides,i,n.calendarApi),a=f7(r.currentViewType,t),l=this.computeCurrentViewData(a,o,n.optionOverrides,i);n.calendarApi.currentDataManager=this,s.setThisContext(n.calendarApi),s.setOptions(l.options);let c={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:f}=r;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(f=l.dateProfileGenerator.build(d)),d=h7(d,t),f=g7(f,t,d,l.dateProfileGenerator),(t.type==="PREV"||t.type==="NEXT"||!Ls(f.currentRange,d))&&(d=f.currentRange.start);let h=v7(r.eventSources,t,f,c),p=l8(r.eventStore,t,h,f,c),v=qj(h)&&!l.options.progressiveEventRendering&&r.renderableEventStore||p,{eventUiSingleBase:b,selectionConfig:y}=this.buildViewUiProps(c),g=this.buildEventUiBySource(h),w=this.buildEventUiBases(v.defs,b,g),S={dynamicOptionOverrides:i,currentViewType:a,currentDate:d,dateProfile:f,eventSources:h,eventStore:p,renderableEventStore:v,selectionConfig:y,eventUiBases:w,businessHours:this.parseContextBusinessHours(c),dateSelection:C7(r.dateSelection,t),eventSelection:T7(r.eventSelection,t),eventDrag:N7(r.eventDrag,t),eventResize:A7(r.eventResize,t)},k=Object.assign(Object.assign({},c),S);for(let T of o.pluginHooks.reducers)Object.assign(S,T(r,t,k));let E=jp(r,c),C=jp(S,c);!E&&C?s.trigger("loading",!0):E&&!C&&s.trigger("loading",!1),this.state=S,n.onAction&&n.onAction(t)}updateData(){let{props:t,state:n}=this,r=this.data,s=this.computeOptionsData(t.optionOverrides,n.dynamicOptionOverrides,t.calendarApi),i=this.computeCurrentViewData(n.currentViewType,s,t.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,i.options,s.dateEnv),calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s),i),n),a=s.pluginHooks.optionChangeHandlers,l=r&&r.calendarOptions,c=s.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(n.eventSources=o.eventSources=x7(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=kS(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=kS(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let d in a)(this.optionsForHandling.indexOf(d)!==-1||l[d]!==c[d])&&a[d](c[d],o)}this.optionsForHandling=[],t.onData&&t.onData(o)}computeOptionsData(t,n,r){if(!this.optionsForRefining.length&&t===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:s,pluginHooks:i,localeDefaults:o,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(t,n);FS(l);let c=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,i,a,s.defaultRangeSeparator),d=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),f=this.buildTheme(s,i),h=this.parseToolbars(s,this.stableOptionOverrides,f,d,r);return this.stableCalendarOptionsData={calendarOptions:s,pluginHooks:i,dateEnv:c,viewSpecs:d,theme:f,toolbarConfig:h,localeDefaults:o,availableRawLocales:a.map}}processRawCalendarOptions(t,n){let{locales:r,locale:s}=wp([cl,t,n]),i=this.organizeRawLocales(r),o=i.map,a=this.buildLocale(s||i.defaultCode,o).options,l=this.buildPluginHooks(t.plugins||[],q7),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},gS),yS),vS),l.listenerRefiners),l.optionRefiners),d={},f=wp([cl,a,t,n]),h={},p=this.currentCalendarOptionsInput,m=this.currentCalendarOptionsRefined,v=!1;for(let b in f)this.optionsForRefining.indexOf(b)===-1&&(f[b]===p[b]||fi[b]&&b in p&&fi[b](p[b],f[b]))?h[b]=m[b]:c[b]?(h[b]=c[b](f[b]),v=!0):d[b]=p[b];return v&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=t,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:i,localeDefaults:a,extra:d}}_computeCurrentViewData(t,n,r,s){let i=n.viewSpecs[t];if(!i)throw new Error(`viewType "${t}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:a}=this.processRawViewOptions(i,n.pluginHooks,n.localeDefaults,r,s);FS(a),this.nowManager.handleInput(n.dateEnv,o.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),c=this.buildViewApi(t,this.getCurrentData,n.dateEnv);return{viewSpec:i,options:o,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(t,n,r,s,i){let o=wp([cl,t.optionDefaults,r,s,t.optionOverrides,i]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},gS),yS),vS),C6),n.listenerRefiners),n.optionRefiners),l={},c=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,f=!1,h={};for(let p in o)o[p]===c[p]||fi[p]&&fi[p](o[p],c[p])?l[p]=d[p]:(o[p]===this.currentCalendarOptionsInput[p]||fi[p]&&fi[p](o[p],this.currentCalendarOptionsInput[p])?p in this.currentCalendarOptionsRefined&&(l[p]=this.currentCalendarOptionsRefined[p]):a[p]?l[p]=a[p](o[p]):h[p]=o[p],f=!0);return f&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function Z7(e,t,n,r,s,i,o,a){let l=Wj(t||o.defaultCode,o.map);return new M6({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:i.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:s,cmdFormatter:i.cmdFormatter,defaultSeparator:a})}function J7(e,t){let n=t.themeClasses[e.themeSystem]||Js;return new n(e)}function eW(e){let t=e.dateProfileGeneratorClass||fj;return new t(e)}function tW(e,t,n){return new R7(e,t,n)}function nW(e){return qi(e,t=>t.ui)}function rW(e,t,n){let r={"":t};for(let s in e){let i=e[s];i.sourceId&&n[i.sourceId]&&(r[s]=n[i.sourceId])}return r}function sW(e){let{options:t}=e;return{eventUiSingleBase:Ud({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:typeof t.eventOverlap=="boolean"?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:Ud({constraint:t.selectConstraint,overlap:typeof t.selectOverlap=="boolean"?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function jp(e,t){for(let n of t.pluginHooks.isLoadingFuncs)if(n(e))return!0;return!1}function iW(e){return y8(e.options.businessHours,e)}function FS(e,t){for(let n in e)console.warn(`Unknown option '${n}'`)}class oW extends xt{render(){let t=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return P("div",{className:"fc-toolbar-chunk"},...t)}renderWidgetGroup(t){let{props:n}=this,{theme:r}=this.context,s=[],i=!0;for(let o of t){let{buttonName:a,buttonClick:l,buttonText:c,buttonIcon:d,buttonHint:f}=o;if(a==="title")i=!1,s.push(P("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let h=a===n.activeButton,p=!n.isTodayEnabled&&a==="today"||!n.isPrevEnabled&&a==="prev"||!n.isNextEnabled&&a==="next",m=[`fc-${a}-button`,r.getClass("button")];h&&m.push(r.getClass("buttonActive")),s.push(P("button",{type:"button",title:typeof f=="function"?f(n.navUnit):f,disabled:p,"aria-pressed":h,className:m.join(" "),onClick:l},c||(d?P("span",{className:d,role:"img"}):"")))}}if(s.length>1){let o=i&&r.getClass("buttonGroup")||"";return P("div",{className:o},...s)}return s[0]}}class BS extends xt{render(){let{model:t,extraClassName:n}=this.props,r=!1,s,i,o=t.sectionWidgets,a=o.center;return o.left?(r=!0,s=o.left):s=o.start,o.right?(r=!0,i=o.right):i=o.end,P("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",s||[]),this.renderSection("center",a||[]),this.renderSection("end",i||[]))}renderSection(t,n){let{props:r}=this;return P(oW,{key:t,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class aW extends xt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=t=>{this.el=t,Lr(this.props.elRef,t),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:t,state:n}=this,{aspectRatio:r}=t,s=["fc-view-harness",r||t.liquid||t.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",o="";return r?n.availableWidth!==null?i=n.availableWidth/r:o=`${1/r*100}%`:i=t.height||"",P("div",{"aria-labelledby":t.labeledById,ref:this.handleEl,className:s.join(" "),style:{height:i,paddingBottom:o}},t.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class lW extends ha{constructor(t){super(t),this.handleSegClick=(n,r)=>{let{component:s}=this,{context:i}=s,o=ea(r);if(o&&s.isValidSegDownEl(n.target)){let a=Jt(n.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";i.emitter.trigger("eventClick",{el:r,event:new ft(s.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:i.viewApi}),l&&!n.defaultPrevented&&(window.location.href=l)}},this.destroy=ej(t.el,"click",".fc-event",this.handleSegClick)}}class cW extends ha{constructor(t){super(t),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{ea(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=DV(t.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(t,n,r){let{component:s}=this,{context:i}=s,o=ea(r);(!n||s.isValidSegDownEl(n.target))&&i.emitter.trigger(t,{el:r,event:new ft(i,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:i.viewApi})}}class uW extends Qi{constructor(){super(...arguments),this.buildViewContext=qe(B6),this.buildViewPropTransformers=qe(fW),this.buildToolbarProps=qe(dW),this.headerRef=ss(),this.footerRef=ss(),this.interactionsStore={},this.state={viewLabelId:$f()},this.registerInteractiveComponent=(t,n)=>{let r=z8(t,n),o=[lW,cW].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(r));this.interactionsStore[t.uid]=o,jg[t.uid]=r},this.unregisterInteractiveComponent=t=>{let n=this.interactionsStore[t.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[t.uid]}delete jg[t.uid]},this.resizeRunner=new D0(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=t=>{let{options:n}=this.props;n.handleWindowResize&&t.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:t}=this,{toolbarConfig:n,options:r}=t,s=!1,i="",o;t.isHeightAuto||t.forPrint?i="":r.height!=null?s=!0:r.contentHeight!=null?i=r.contentHeight:o=Math.max(r.aspectRatio,.5);let a=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.nowManager,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return P(Yi.Provider,{value:a},P(Qf,{unit:"day"},c=>{let d=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,c,t.viewTitle);return P(wt,null,n.header&&P(BS,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:l},d)),P(aW,{liquid:s,height:i,aspectRatio:o,labeledById:l},this.renderView(t),this.buildAppendContent()),n.footer&&P(BS,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},d)))}))}componentDidMount(){let{props:t}=this;this.calendarInteractions=t.pluginHooks.calendarInteractions.map(r=>new r(t)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=t.pluginHooks;for(let r in n)n[r](t[r],t)}componentDidUpdate(t){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let s in r)n[s]!==t[s]&&r[s](n[s],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let t of this.calendarInteractions)t.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:t}=this,n=t.pluginHooks.viewContainerAppends.map(r=>r(t));return P(wt,{},...n)}renderView(t){let{pluginHooks:n}=t,{viewSpec:r}=t,s={dateProfile:t.dateProfile,businessHours:t.businessHours,eventStore:t.renderableEventStore,eventUiBases:t.eventUiBases,dateSelection:t.dateSelection,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,isHeightAuto:t.isHeightAuto,forPrint:t.forPrint},i=this.buildViewPropTransformers(n.viewPropsTransformers);for(let a of i)Object.assign(s,a.transform(s,t));let o=r.component;return P(o,Object.assign({},s))}}function dW(e,t,n,r,s,i){let o=n.build(s,void 0,!1),a=n.buildPrev(t,r,!1),l=n.buildNext(t,r,!1);return{title:i,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:o.isValid&&!Ls(t.currentRange,s),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function fW(e){return e.map(t=>new t)}class hW extends U8{constructor(t,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;zd(()=>{Vl(P(B8,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(s,i,o,a)=>(this.setClassNames(s),this.setHeight(i),P(lj.Provider,{value:this.customContentRenderId},P(uW,Object.assign({isHeightAuto:o,forPrint:a},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Vl(null,this.el),this.setClassNames([]),this.setHeight(""))},kV(t),this.el=t,this.renderRunner=new D0(this.handleRenderRequest),new X7({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){zd(()=>{super.updateSize()})}batchRendering(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(t,n){this.currentDataManager.resetOptions(t,n)}setClassNames(t){if(!$s(t,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of t)n.add(r);this.currentClassNames=t}}setHeight(t){ZA(this.el,"height",t)}}const pW=parseInt(String(H.version).split(".")[0]),mW=pW<18;class Zj extends x.Component{constructor(){super(...arguments),this.elRef=x.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const t=[];for(const n of this.state.customRenderingMap.values())t.push(H.createElement(gW,{key:n.id,customRendering:n}));return H.createElement("div",{ref:this.elRef},t)}componentDidMount(){this.isUnmounting=!1;const t=new X$;this.handleCustomRendering=t.handle.bind(t),this.calendar=new hW(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{ur.flushSync(()=>{})});let n;t.subscribe(r=>{const s=Date.now(),i=!n;(mW||i||this.isUpdating||this.isUnmounting||s-n<100?Jj:ur.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=s,i?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}Zj.act=Jj;class gW extends x.PureComponent{render(){const{customRendering:t}=this.props,{generatorMeta:n}=t,r=typeof n=="function"?n(t.renderProps):n;return ur.createPortal(r,t.containerEl)}}function Jj(e){e()}class yW extends Ki{constructor(){super(...arguments),this.headerElRef=ss()}renderSimpleLayout(t,n){let{props:r,context:s}=this,i=[],o=_S(s.options);return t&&i.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),i.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),P(xS,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},P(Bj,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:i}))}renderHScrollLayout(t,n,r,s){let i=this.context.pluginHooks.scrollGridImpl;if(!i)throw new Error("No ScrollGrid implementation");let{props:o,context:a}=this,l=!o.forPrint&&_S(a.options),c=!o.forPrint&&D$(a.options),d=[];return t&&d.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),c&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:R$}]}),P(xS,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},P(i,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:s}]}],sections:d}))}}function Bu(e,t){let n=[];for(let r=0;r<t;r+=1)n[r]=[];for(let r of e)n[r.row].push(r);return n}function au(e,t){let n=[];for(let r=0;r<t;r+=1)n[r]=[];for(let r of e)n[r.firstCol].push(r);return n}function zS(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let r of e.segs)n[r.row].segs.push(r)}else for(let r=0;r<t;r+=1)n[r]=null;return n}const e_=Lt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function t_(e){let{display:t}=e.eventRange.ui;return t==="list-item"||t==="auto"&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class n_ extends xt{render(){let{props:t}=this;return P(zj,Object.assign({},t,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:e_,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))}}class r_ extends xt{render(){let{props:t,context:n}=this,{options:r}=n,{seg:s}=t,i=r.eventTimeFormat||e_,o=kj(s,i,n,!0,t.defaultDisplayEventEnd);return P(ev,Object.assign({},t,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Ej(t.seg,n),defaultGenerator:vW,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function vW(e){return P(wt,null,P("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&P("div",{className:"fc-event-time"},e.timeText),P("div",{className:"fc-event-title"},e.event.title||P(wt,null,"")))}class xW extends xt{constructor(){super(...arguments),this.compileSegs=qe(bW)}render(){let{props:t}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(t.singlePlacements);return P($$,{elClasses:["fc-daygrid-more-link"],dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:()=>{let s=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return P(wt,null,n.map(i=>{let o=i.eventRange.instance.instanceId;return P("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:s[o]?"hidden":""}},t_(i)?P(r_,Object.assign({seg:i,isDragging:!1,isSelected:o===t.eventSelection,defaultDisplayEventEnd:!1},ul(i,t.todayRange))):P(n_,Object.assign({seg:i,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===t.eventSelection,defaultDisplayEventEnd:!1},ul(i,t.todayRange))))}))}})}}function bW(e){let t=[],n=[];for(let r of e)t.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:t,invisibleSegs:n}}const wW=Lt({week:"narrow"});class SW extends Ki{constructor(){super(...arguments),this.rootElRef=ss(),this.state={dayNumberId:$f()},this.handleRootEl=t=>{Lr(this.rootElRef,t),Lr(this.props.elRef,t)}}render(){let{context:t,props:n,state:r,rootElRef:s}=this,{options:i,dateEnv:o}=t,{date:a,dateProfile:l}=n;const c=n.showDayNumber&&EW(a,l.currentRange,o);return P(Hj,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:kW,date:a,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:c,extraRenderProps:n.extraRenderProps},(d,f)=>P("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&P(z$,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:_g(t,a,"week"),date:a,defaultFormat:wW}),!f.isDisabled&&(n.showDayNumber||Uj(i)||n.forceDayTop)?P("div",{className:"fc-daygrid-day-top"},P(d,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},_g(t,a)),{id:r.dayNumberId})})):n.showDayNumber?P("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},P("a",{className:"fc-daygrid-day-number"},"")):void 0,P("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,P("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},P(xW,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:s,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),P("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function kW(e){return e.dayNumberText||P(wt,null,"")}function EW(e,t,n){const{start:r,end:s}=t,i=Ws(s,-1),o=n.getYear(r),a=n.getMonth(r),l=n.getYear(i),c=n.getMonth(i);return!(o===l&&a===c)&&(e.valueOf()===r.valueOf()||n.getDay(e)===1&&e.valueOf()<s.valueOf())}function s_(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function i_(e){return s_(e)+":"+e.lastCol}function CW(e,t,n,r,s,i,o){let a=new AW(y=>{let g=e[y.index].eventRange.instance.instanceId+":"+y.span.start+":"+(y.span.end-1);return s[g]||1});a.allowReslicing=!0,a.strictOrder=r,t===!0||n===!0?(a.maxCoord=i,a.hiddenConsumes=!0):typeof t=="number"?a.maxStackCnt=t:typeof n=="number"&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],c=[];for(let y=0;y<e.length;y+=1){let g=e[y],w=i_(g);s[w]!=null?l.push({index:y,span:{start:g.firstCol,end:g.lastCol+1}}):c.push(g)}let d=a.addSegs(l),f=a.toRects(),{singleColPlacements:h,multiColPlacements:p,leftoverMargins:m}=TW(f,e,o),v=[],b=[];for(let y of c){p[y.firstCol].push({seg:y,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let g=y.firstCol;g<=y.lastCol;g+=1)h[g].push({seg:Po(y,g,g+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let y=0;y<o.length;y+=1)v.push(0);for(let y of d){let g=e[y.index],w=y.span;p[w.start].push({seg:Po(g,w.start,w.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let S=w.start;S<w.end;S+=1)v[S]+=1,h[S].push({seg:Po(g,S,S+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let y=0;y<o.length;y+=1)b.push(m[y]);return{singleColPlacements:h,multiColPlacements:p,moreCnts:v,moreMarginTops:b}}function TW(e,t,n){let r=NW(e,n.length),s=[],i=[],o=[];for(let a=0;a<n.length;a+=1){let l=r[a],c=[],d=0,f=0;for(let p of l){let m=t[p.index];c.push({seg:Po(m,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:p.levelCoord-d}),d=p.levelCoord+p.thickness}let h=[];d=0,f=0;for(let p of l){let m=t[p.index],v=p.span.end-p.span.start>1,b=p.span.start===a;f+=p.levelCoord-d,d=p.levelCoord+p.thickness,v?(f+=p.thickness,b&&h.push({seg:Po(m,p.span.start,p.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:p.levelCoord,marginTop:0})):b&&(h.push({seg:Po(m,p.span.start,p.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:f}),f=0)}s.push(c),i.push(h),o.push(f)}return{singleColPlacements:s,multiColPlacements:i,leftoverMargins:o}}function NW(e,t){let n=[];for(let r=0;r<t;r+=1)n.push([]);for(let r of e)for(let s=r.span.start;s<r.span.end;s+=1)n[s].push(r);return n}function Po(e,t,n,r){if(e.firstCol===t&&e.lastCol===n-1)return e;let s=e.eventRange,i=s.range,o=Jo(i,{start:r[t].date,end:Bt(r[n-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:o},isStart:e.isStart&&o.start.valueOf()===i.start.valueOf(),isEnd:e.isEnd&&o.end.valueOf()===i.end.valueOf()})}class AW extends s${constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(t){const n=super.addSegs(t),{entriesByLevel:r}=this,s=i=>!this.forceHidden[dl(i)];for(let i=0;i<r.length;i+=1)r[i]=r[i].filter(s);return n}handleInvalidInsertion(t,n,r){const{entriesByLevel:s,forceHidden:i}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:l}=t;if(this.hiddenConsumes&&o){const c=dl(o);if(!i[c])if(this.allowReslicing){const d=Object.assign(Object.assign({},o),{span:Dj(o.span,n.span)}),f=dl(d);i[f]=!0,s[a][l]=d,r.push(d),this.splitEntry(o,n,r)}else i[c]=!0,r.push(o)}super.handleInvalidInsertion(t,n,r)}}class o_ extends Ki{constructor(){super(...arguments),this.cellElRefs=new wi,this.frameElRefs=new wi,this.fgElRefs=new wi,this.segHarnessRefs=new wi,this.rootElRef=ss(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=t=>{t&&this.updateSizing(!0)}}render(){let{props:t,state:n,context:r}=this,{options:s}=r,i=t.cells.length,o=au(t.businessHourSegs,i),a=au(t.bgEventSegs,i),l=au(this.getHighlightSegs(),i),c=au(this.getMirrorSegs(),i),{singleColPlacements:d,multiColPlacements:f,moreCnts:h,moreMarginTops:p}=CW(S8(t.fgEventSegs,s.eventOrder),t.dayMaxEvents,t.dayMaxEventRows,s.eventOrderStrict,n.segHeights,n.maxContentHeight,t.cells),m=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{};return P("tr",{ref:this.rootElRef,role:"row"},t.renderIntro&&t.renderIntro(),t.cells.map((v,b)=>{let y=this.renderFgSegs(b,t.forPrint?d[b]:f[b],t.todayRange,m),g=this.renderFgSegs(b,jW(c[b],f),t.todayRange,{},!!t.eventDrag,!!t.eventResize,!1);return P(SW,{key:v.key,elRef:this.cellElRefs.createRef(v.key),innerElRef:this.frameElRefs.createRef(v.key),dateProfile:t.dateProfile,date:v.date,showDayNumber:t.showDayNumbers,showWeekNumber:t.showWeekNumbers&&b===0,forceDayTop:t.showWeekNumbers,todayRange:t.todayRange,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,extraRenderProps:v.extraRenderProps,extraDataAttrs:v.extraDataAttrs,extraClassNames:v.extraClassNames,extraDateSpan:v.extraDateSpan,moreCnt:h[b],moreMarginTop:p[b],singlePlacements:d[b],fgContentElRef:this.fgElRefs.createRef(v.key),fgContent:P(wt,null,P(wt,null,y),P(wt,null,g)),bgContent:P(wt,null,this.renderFillSegs(l[b],"highlight"),this.renderFillSegs(o[b],"non-business"),this.renderFillSegs(a[b],"bg-event")),minHeight:t.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(t,n){let r=this.props;this.updateSizing(!pr(t,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:t}=this;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs}getMirrorSegs(){let{props:t}=this;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]}renderFgSegs(t,n,r,s,i,o,a){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:d}=this.state,f=this.props.cells.length===1,h=i||o||a,p=[];if(d)for(let m of n){let{seg:v}=m,{instanceId:b}=v.eventRange.instance,y=m.isVisible&&!s[b],g=m.isAbsolute,w="",S="";g&&(l.isRtl?(S=0,w=d.lefts[v.lastCol]-d.lefts[v.firstCol]):(w=0,S=d.rights[v.firstCol]-d.rights[v.lastCol])),p.push(P("div",{className:"fc-daygrid-event-harness"+(g?" fc-daygrid-event-harness-abs":""),key:s_(v),ref:h?null:this.segHarnessRefs.createRef(i_(v)),style:{visibility:y?"":"hidden",marginTop:g?"":m.marginTop,top:g?m.absoluteTop:"",left:w,right:S}},t_(v)?P(r_,Object.assign({seg:v,isDragging:i,isSelected:b===c,defaultDisplayEventEnd:f},ul(v,r))):P(n_,Object.assign({seg:v,isDragging:i,isResizing:o,isDateSelecting:a,isSelected:b===c,defaultDisplayEventEnd:f},ul(v,r)))))}return p}renderFillSegs(t,n){let{isRtl:r}=this.context,{todayRange:s}=this.props,{framePositions:i}=this.state,o=[];if(i)for(let a of t){let l=r?{right:0,left:i.lefts[a.lastCol]-i.lefts[a.firstCol]}:{left:0,right:i.rights[a.firstCol]-i.rights[a.lastCol]};o.push(P("div",{key:A8(a.eventRange),className:"fc-daygrid-bg-harness",style:l},n==="bg-event"?P(L$,Object.assign({seg:a},ul(a,s))):B$(n)))}return P(wt,{},...o)}updateSizing(t){let{props:n,state:r,frameElRefs:s}=this;if(!n.forPrint&&n.clientWidth!==null){if(t){let l=n.cells.map(c=>s.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,d=new $d(c,l,!0,!1);(!r.framePositions||!r.framePositions.similarTo(d))&&this.setState({framePositions:new $d(c,l,!0,!1)})}}const i=this.state.segHeights,o=this.querySegHeights(),a=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},i),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let t=this.segHarnessRefs.currentMap,n={};for(let r in t){let s=Math.round(t[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,s)}return n}computeMaxContentHeight(){let t=this.props.cells[0].key,n=this.cellElRefs.currentMap[t],r=this.fgElRefs.currentMap[t];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let t=this.cellElRefs.currentMap;return this.props.cells.map(n=>t[n.key])}}o_.addStateEquality({segHeights:pr});function jW(e,t){if(!e.length)return[];let n=_W(t);return e.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function _W(e){let t={};for(let n of e)for(let r of n)t[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return t}class RW extends Ki{constructor(){super(...arguments),this.splitBusinessHourSegs=qe(Bu),this.splitBgEventSegs=qe(DW),this.splitFgEventSegs=qe(Bu),this.splitDateSelectionSegs=qe(Bu),this.splitEventDrag=qe(zS),this.splitEventResize=qe(zS),this.rowRefs=new wi}render(){let{props:t,context:n}=this,r=t.cells.length,s=this.splitBusinessHourSegs(t.businessHourSegs,r),i=this.splitBgEventSegs(t.bgEventSegs,r),o=this.splitFgEventSegs(t.fgEventSegs,r),a=this.splitDateSelectionSegs(t.dateSelectionSegs,r),l=this.splitEventDrag(t.eventDrag,r),c=this.splitEventResize(t.eventResize,r),d=r>=7&&t.clientWidth?t.clientWidth/n.options.aspectRatio/6:null;return P(Qf,{unit:"day"},(f,h)=>P(wt,null,t.cells.map((p,m)=>P(o_,{ref:this.rowRefs.createRef(m),key:p.length?p[0].date.toISOString():m,showDayNumbers:r>1,showWeekNumbers:t.showWeekNumbers,todayRange:h,dateProfile:t.dateProfile,cells:p,renderIntro:t.renderRowIntro,businessHourSegs:s[m],eventSelection:t.eventSelection,bgEventSegs:i[m],fgEventSegs:o[m],dateSelectionSegs:a[m],eventDrag:l[m],eventResize:c[m],dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,clientWidth:t.clientWidth,clientHeight:t.clientHeight,cellMinHeight:d,forPrint:t.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const t=this.rowRefs.currentMap[0].getCellEls()[0],n=t?t.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new $d(this.rootEl,this.rowRefs.collect().map(t=>t.getCellEls()[0]),!1,!0),this.colPositions=new $d(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(t,n){let{colPositions:r,rowPositions:s}=this,i=r.leftToIndex(t),o=s.topToIndex(n);if(o!=null&&i!=null){let a=this.props.cells[o][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,i),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(o,i),rect:{left:r.lefts[i],right:r.rights[i],top:s.tops[o],bottom:s.bottoms[o]},layer:0}}return null}getCellEl(t,n){return this.rowRefs.currentMap[t].getCellEls()[n]}getCellRange(t,n){let r=this.props.cells[t][n].date,s=Bt(r,1);return{start:r,end:s}}}function DW(e,t){return Bu(e.filter(IW),t)}function IW(e){return e.eventRange.def.allDay}class PW extends Ki{constructor(){super(...arguments),this.elRef=ss(),this.needsScrollReset=!1}render(){let{props:t}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:s}=t,i=r===!0||n===!0;i&&!s&&(i=!1,n=null,r=null);let o=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"];return P("div",{ref:this.elRef,className:o.join(" "),style:{width:t.clientWidth,minWidth:t.tableMinWidth}},P("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:s?t.clientHeight:""}},t.colGroupNode,P("tbody",{role:"presentation"},P(RW,{dateProfile:t.dateProfile,cells:t.cells,renderRowIntro:t.renderRowIntro,showWeekNumbers:t.showWeekNumbers,clientWidth:t.clientWidth,clientHeight:t.clientHeight,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:t.forPrint,isHitComboAllowed:t.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(t){t.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const t=OW(this.elRef.current,this.props.dateProfile);if(t){const n=t.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),s=t.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=s?s+1:0}this.needsScrollReset=!1}}}function OW(e,t){let n;return t.currentRangeUnit.match(/year|month/)&&(n=e.querySelector(`[data-date="${c6(t.currentDate)}-01"]`)),n||(n=e.querySelector(`[data-date="${M0(t.currentDate)}"]`)),n}class MW extends p${constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(t,n){return n.sliceRange(t)}}class LW extends Ki{constructor(){super(...arguments),this.slicer=new MW,this.tableRef=ss()}render(){let{props:t,context:n}=this;return P(PW,Object.assign({ref:this.tableRef},this.slicer.sliceProps(t,t.dateProfile,t.nextDayThreshold,n,t.dayTableModel),{dateProfile:t.dateProfile,cells:t.dayTableModel.cells,colGroupNode:t.colGroupNode,tableMinWidth:t.tableMinWidth,renderRowIntro:t.renderRowIntro,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.showWeekNumbers,expandRows:t.expandRows,headerAlignElRef:t.headerAlignElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint}))}}class FW extends yW{constructor(){super(...arguments),this.buildDayTableModel=qe(BW),this.headerRef=ss(),this.tableRef=ss()}render(){let{options:t,dateProfileGenerator:n}=this.context,{props:r}=this,s=this.buildDayTableModel(r.dateProfile,n),i=t.dayHeaders&&P(u$,{ref:this.headerRef,dateProfile:r.dateProfile,dates:s.headerDates,datesRepDistinctDays:s.rowCnt===1}),o=a=>P(LW,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:s,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:t.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:r.forPrint});return t.dayMinWidth?this.renderHScrollLayout(i,o,s.colCnt,t.dayMinWidth):this.renderSimpleLayout(i,o)}}function BW(e,t){let n=new f$(e.renderRange,t);return new h$(n,/year|month|week/.test(e.currentRangeUnit))}class zW extends fj{buildRenderRange(t,n,r){let s=super.buildRenderRange(t,n,r),{props:i}=this;return HW({currentRange:s,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}}function HW(e){let{dateEnv:t,currentRange:n}=e,{start:r,end:s}=n,i;if(e.snapToWeek&&(r=t.startOfWeek(r),i=t.startOfWeek(s),i.valueOf()!==s.valueOf()&&(s=dS(i,1))),e.fixedWeekCount){let o=t.startOfWeek(t.startOfMonth(Bt(n.end,-1))),a=Math.ceil(XV(o,s));s=dS(s,6-a)}return{start:r,end:s}}var UW=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';QA(UW);var VW=Zs({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:FW,dateProfileGeneratorClass:zW},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});J0.touchMouseIgnoreWait=500;let Dg=0,Wd=0,Ig=!1;class a_{constructor(t){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&$W(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let s=n.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,WW()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,s=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:s,deltaX:r-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=t,this.emitter=new Yf,t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),GW()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),qW()}tryStart(t){let n=this.querySubjectEl(t),r=t.target;return n&&(!this.handleSelector||Jt(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Ig=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(t){return this.selector?Jt(t.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Dg||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Ig=!0)}initScrollWatch(t){this.shouldWatchScroll&&(this.recordCoords(t),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(t){this.shouldWatchScroll&&(this.prevPageX=t.pageX,this.prevPageY=t.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(t,n){let r=0,s=0;return n?(this.origPageX=t.pageX,this.origPageY=t.pageY):(r=t.pageX-this.origPageX,s=t.pageY-this.origPageY),{origEvent:t,isTouch:!1,subjectEl:this.subjectEl,pageX:t.pageX,pageY:t.pageY,deltaX:r,deltaY:s}}createEventFromTouch(t,n){let r=t.touches,s,i,o=0,a=0;return r&&r.length?(s=r[0].pageX,i=r[0].pageY):(s=t.pageX,i=t.pageY),n?(this.origPageX=s,this.origPageY=i):(o=s-this.origPageX,a=i-this.origPageY),{origEvent:t,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:i,deltaX:o,deltaY:a}}}function $W(e){return e.button===0&&!e.ctrlKey}function WW(){Dg+=1,setTimeout(()=>{Dg-=1},J0.touchMouseIgnoreWait)}function GW(){Wd+=1,Wd===1&&window.addEventListener("touchmove",l_,{passive:!1})}function qW(){Wd-=1,Wd||window.removeEventListener("touchmove",l_,{passive:!1})}function l_(e){Ig&&e.preventDefault()}class YW{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(t,n,r){this.sourceEl=t,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(t,n){this.deltaX=t-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(t){t?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=t,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=t)}stop(t,n){let r=()=>{this.cleanup(),n()};t&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(t,n){let r=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",al(r,{left:s.left,top:s.top}),IV(r,()=>{r.style.transition="",t()})}cleanup(){this.mirrorEl&&(I0(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&al(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let t=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),al(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:t.right-t.left,height:t.bottom-t.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class c_ extends Z0{constructor(t,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=t,this.doesListening=n,this.scrollTop=this.origScrollTop=t.getScrollTop(),this.scrollLeft=this.origScrollLeft=t.getScrollLeft(),this.scrollWidth=t.getScrollWidth(),this.scrollHeight=t.getScrollHeight(),this.clientWidth=t.getClientWidth(),this.clientHeight=t.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class u_ extends c_{constructor(t,n){super(new n$(t),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return e$(this.scrollController.el)}}class QW extends c_{constructor(t){super(new r$,t)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const HS=typeof performance=="function"?performance.now:Date.now;class KW{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let t=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(t){let n=HS();this.handleSide(t,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(t,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(t,n))}handleMove(t,n){if(this.isEnabled){let r=t-window.scrollX,s=n-window.scrollY,i=this.pointerScreenY===null?0:s-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(HS()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let t of this.scrollCaches)t.destroy();this.scrollCaches=null}}requestAnimation(t){this.msSinceRequest=t,requestAnimationFrame(this.animate)}handleSide(t,n){let{scrollCache:r}=t,{edgeThreshold:s}=this,i=s-t.distance,o=i*i/(s*s)*this.maxVelocity*n,a=1;switch(t.name){case"left":a=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*a);break}}computeBestEdge(t,n){let{edgeThreshold:r}=this,s=null,i=this.scrollCaches||[];for(let o of i){let a=o.clientRect,l=t-a.left,c=a.right-t,d=n-a.top,f=a.bottom-n;l>=0&&c>=0&&d>=0&&f>=0&&(d<=r&&this.everMovedUp&&o.canScrollUp()&&(!s||s.distance>d)&&(s={scrollCache:o,name:"top",distance:d}),f<=r&&this.everMovedDown&&o.canScrollDown()&&(!s||s.distance>f)&&(s={scrollCache:o,name:"bottom",distance:f}),l<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!s||s.distance>l)&&(s={scrollCache:o,name:"left",distance:l}),c<=r&&this.everMovedRight&&o.canScrollRight()&&(!s||s.distance>c)&&(s={scrollCache:o,name:"right",distance:c}))}return s}buildCaches(t){return this.queryScrollEls(t).map(n=>n===window?new QW(!1):new u_(n,!1))}queryScrollEls(t){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(t.getRootNode().querySelectorAll(r)));return n}}class wc extends i${constructor(t,n){super(t),this.containerEl=t,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,PV(document.body),MV(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let i=this.minDistance,o,{deltaX:a,deltaY:l}=s;o=a*a+l*l,o>=i*i&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,OV(document.body),LV(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new a_(t);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new YW,this.autoScroller=new KW}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(t){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)}handleDelayEnd(t){this.isDelayEnded=!0,this.tryStartDrag(t)}handleDistanceSurpassed(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)}tryStartDrag(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))}stopDrag(t){this.isDragging=!1,this.emitter.trigger("dragend",t)}setIgnoreMove(t){this.pointer.shouldIgnoreMove=t}setMirrorIsVisible(t){this.mirror.setIsVisible(t)}setMirrorNeedsRevert(t){this.mirrorNeedsRevert=t}setAutoScrollEnabled(t){this.autoScroller.isEnabled=t}}class XW{constructor(t){this.el=t,this.origRect=X0(t),this.scrollCaches=Rj(t).map(n=>new u_(n,!0))}destroy(){for(let t of this.scrollCaches)t.destroy()}computeLeft(){let t=this.origRect.left;for(let n of this.scrollCaches)t+=n.origScrollLeft-n.getScrollLeft();return t}computeTop(){let t=this.origRect.top;for(let n of this.scrollCaches)t+=n.origScrollTop-n.getScrollTop();return t}isWithinClipping(t,n){let r={left:t,top:n};for(let s of this.scrollCaches)if(!ZW(s.getEventTarget())&&!V8(r,s.clientRect))return!1;return!0}}function ZW(e){let t=e.tagName;return t==="HTML"||t==="BODY"}class Kf{constructor(t,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):s.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragstart",this.handleDragStart),t.emitter.on("dragmove",this.handleDragMove),t.emitter.on("pointerup",this.handlePointerUp),t.emitter.on("dragend",this.handleDragEnd),this.dragging=t,this.emitter=new Yf}processFirstCoord(t){let n={left:t.pageX,top:t.pageY},r=n,s=t.subjectEl,i;s instanceof HTMLElement&&(i=X0(s),r=$8(r,i));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&i){let a=Aj(i,o.rect);a&&(r=W8(a))}this.coordAdjust=G8(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(t,n){let r=this.queryHitForOffset(t.pageX+this.coordAdjust.left,t.pageY+this.coordAdjust.top);(n||!Xf(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,t))}prepareHits(){this.offsetTrackers=qi(this.droppableStore,t=>(t.component.prepareHits(),new XW(t.el)))}releaseHits(){let{offsetTrackers:t}=this;for(let n in t)t[n].destroy();this.offsetTrackers={}}queryHitForOffset(t,n){let{droppableStore:r,offsetTrackers:s}=this,i=null;for(let o in r){let a=r[o].component,l=s[o];if(l&&l.isWithinClipping(t,n)){let c=l.computeLeft(),d=l.computeTop(),f=t-c,h=n-d,{origRect:p}=l,m=p.right-p.left,v=p.bottom-p.top;if(f>=0&&f<m&&h>=0&&h<v){let b=a.queryHit(f,h,m,v);b&&Gf(b.dateProfile.activeRange,b.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(f+c-window.scrollX,h+d-window.scrollY)))&&(!i||b.layer>i.layer)&&(b.componentId=o,b.context=a.context,b.rect.left+=c,b.rect.right+=c,b.rect.top+=d,b.rect.bottom+=d,i=b)}}}return i}}function Xf(e,t){return!e&&!t?!0:!!e!=!!t?!1:D8(e.dateSpan,t.dateSpan)}function d_(e,t){let n={};for(let r of t.pluginHooks.datePointTransforms)Object.assign(n,r(e,t));return Object.assign(n,JW(e,t.dateEnv)),n}function JW(e,t){return{date:t.toDate(e.range.start),dateStr:t.formatIso(e.range.start,{omitTime:e.allDay}),allDay:e.allDay}}class e9 extends ha{constructor(t){super(t),this.handlePointerDown=r=>{let{dragging:s}=this,i=r.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(i))},this.handleDragEnd=r=>{let{component:s}=this,{pointer:i}=this.dragging;if(!i.wasTouchScroll){let{initialHit:o,finalHit:a}=this.hitDragging;if(o&&a&&Xf(o,a)){let{context:l}=s,c=Object.assign(Object.assign({},d_(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new wc(t.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Kf(this.dragging,Q0(t));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class t9 extends ha{constructor(t){super(t),this.dragSelection=null,this.handlePointerDown=o=>{let{component:a,dragging:l}=this,{options:c}=a.context,d=c.selectable&&a.isValidDateDownEl(o.origEvent.target);l.setIgnoreMove(!d),l.delay=o.isTouch?n9(a):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,a)=>{let{context:l}=this.component,c=null,d=!1;if(o){let f=this.hitDragging.initialHit;o.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,o)||(c=r9(f,o,l.pluginHooks.dateSelectionTransformers)),(!c||!m$(c,o.dateProfile,l))&&(d=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):a||l.dispatch({type:"UNSELECT_DATES"}),d?P0():O0(),a||(this.dragSelection=c)},this.handlePointerUp=o=>{this.dragSelection&&(bj(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=t,{options:r}=n.context,s=this.dragging=new wc(t.el);s.touchScrollAllowed=!1,s.minDistance=r.selectMinDistance||0,s.autoScroller.isEnabled=r.dragScroll;let i=this.hitDragging=new Kf(this.dragging,Q0(t));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function n9(e){let{options:t}=e.context,n=t.selectLongPressDelay;return n==null&&(n=t.longPressDelay),n}function r9(e,t,n){let r=e.dateSpan,s=t.dateSpan,i=[r.range.start,r.range.end,s.range.start,s.range.end];i.sort(UV);let o={};for(let a of n){let l=a(e,t);if(l===!1)return null;l&&Object.assign(o,l)}return o.range={start:i[0],end:i[3]},o.allDay=r.allDay,o}class Sc extends ha{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let a=o.origEvent.target,{component:l,dragging:c}=this,{mirror:d}=c,{options:f}=l.context,h=l.context;this.subjectEl=o.subjectEl;let p=this.subjectSeg=ea(o.subjectEl),v=(this.eventRange=p.eventRange).instance.instanceId;this.relevantEvents=W0(h.getCurrentData().eventStore,v),c.minDistance=o.isTouch?0:f.eventDragMinDistance,c.delay=o.isTouch&&v!==l.props.eventSelection?i9(l):null,f.fixedMirrorParent?d.parentNode=f.fixedMirrorParent:d.parentNode=Jt(a,".fc"),d.revertDuration=f.dragRevertDuration;let b=l.isValidSegDownEl(a)&&!Jt(a,".fc-event-resizer");c.setIgnoreMove(!b),this.isDragging=b&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let a=this.component.context,l=this.eventRange,c=l.instance.instanceId;o.isTouch?c!==this.component.props.eventSelection&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):a.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(a.calendarApi.unselect(o),a.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new ft(a,l.def,l.instance),jsEvent:o.origEvent,view:a.viewApi}))},this.handleHitUpdate=(o,a)=>{if(!this.isDragging)return;let l=this.relevantEvents,c=this.hitDragging.initialHit,d=this.component.context,f=null,h=null,p=null,m=!1,v={affectedEvents:l,mutatedEvents:dr(),isEvent:!0};if(o){f=o.context;let b=f.options;d===f||b.editable&&b.droppable?(h=s9(c,o,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(p=Y0(l,f.getCurrentData().eventUiBases,h,f),v.mutatedEvents=p,Oj(v,o.dateProfile,f)||(m=!0,h=null,p=null,v.mutatedEvents=dr()))):f=null}this.displayDrag(f,v),m?P0():O0(),a||(d===f&&Xf(c,o)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=h,this.mutatedRelevantEvents=p)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let a=this.component.context,l=a.viewApi,{receivingContext:c,validMutation:d}=this,f=this.eventRange.def,h=this.eventRange.instance,p=new ft(a,f,h),m=this.relevantEvents,v=this.mutatedRelevantEvents,{finalHit:b}=this.hitDragging;if(this.clearDrag(),a.emitter.trigger("eventDragStop",{el:this.subjectEl,event:p,jsEvent:o.origEvent,view:l}),d){if(c===a){let y=new ft(a,v.defs[f.defId],h?v.instances[h.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:v});let g={oldEvent:p,event:y,relatedEvents:Ni(v,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:m})}},w={};for(let S of a.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(w,S(d,a));a.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},g),w),{el:o.subjectEl,delta:d.datesDelta,jsEvent:o.origEvent,view:l})),a.emitter.trigger("eventChange",g)}else if(c){let y={event:p,relatedEvents:Ni(m,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:m})}};a.emitter.trigger("eventLeave",Object.assign(Object.assign({},y),{draggedEl:o.subjectEl,view:l})),a.dispatch({type:"REMOVE_EVENTS",eventStore:m}),a.emitter.trigger("eventRemove",y);let g=v.defs[f.defId],w=v.instances[h.instanceId],S=new ft(c,g,w);c.dispatch({type:"MERGE_EVENTS",eventStore:v});let k={event:S,relatedEvents:Ni(v,c,w),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:v})}};c.emitter.trigger("eventAdd",k),o.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},d_(b.dateSpan,c)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:b.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},k),{draggedEl:o.subjectEl,view:b.context.viewApi}))}}else a.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,s=this.dragging=new wc(t.el);s.pointer.selector=Sc.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=r.dragScroll;let i=this.hitDragging=new Kf(this.dragging,jg);i.useSubjectCenter=t.useEventCenter,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,n){let r=this.component.context,s=this.receivingContext;s&&s!==t&&(s===r?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:dr(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let t=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),t!==n&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Sc.SELECTOR=".fc-event-draggable, .fc-event-resizable";function s9(e,t,n,r){let s=e.dateSpan,i=t.dateSpan,o=s.range.start,a=i.range.start,l={};s.allDay!==i.allDay&&(l.allDay=i.allDay,l.hasEnd=t.context.options.allDayMaintainDuration,i.allDay?o=dt(n):o=n);let c=Co(o,a,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);c.milliseconds&&(l.allDay=!1);let d={datesDelta:c,standardProps:l};for(let f of r)f(d,e,t);return d}function i9(e){let{options:t}=e.context,n=t.eventLongPressDelay;return n==null&&(n=t.longPressDelay),n}class o9 extends ha{constructor(t){super(t),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=i=>{let{component:o}=this,a=this.querySegEl(i),l=ea(a),c=this.eventRange=l.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(i.origEvent.target)||i.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=i=>{let{context:o}=this.component,a=this.eventRange;this.relevantEvents=W0(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(i);this.draggingSegEl=l,this.draggingSeg=ea(l),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:l,event:new ft(o,a.def,a.instance),jsEvent:i.origEvent,view:o.viewApi})},this.handleHitUpdate=(i,o,a)=>{let{context:l}=this.component,c=this.relevantEvents,d=this.hitDragging.initialHit,f=this.eventRange.instance,h=null,p=null,m=!1,v={affectedEvents:c,mutatedEvents:dr(),isEvent:!0};i&&(i.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,i)||(h=a9(d,i,a.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),h&&(p=Y0(c,l.getCurrentData().eventUiBases,h,l),v.mutatedEvents=p,Oj(v,i.dateProfile,l)||(m=!0,h=null,p=null,v.mutatedEvents=null)),p?l.dispatch({type:"SET_EVENT_RESIZE",state:v}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),m?P0():O0(),o||(h&&Xf(d,i)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=p)},this.handleDragEnd=i=>{let{context:o}=this.component,a=this.eventRange.def,l=this.eventRange.instance,c=new ft(o,a,l),d=this.relevantEvents,f=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:i.origEvent,view:o.viewApi}),this.validMutation){let h=new ft(o,f.defs[a.defId],l?f.instances[l.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:f});let p={oldEvent:c,event:h,relatedEvents:Ni(f,o,l),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:d})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},p),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Qe(0),endDelta:this.validMutation.endDelta||Qe(0),jsEvent:i.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",p)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=t,r=this.dragging=new wc(t.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let s=this.hitDragging=new Kf(this.dragging,Q0(t));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(t){return Jt(t.subjectEl,".fc-event")}}function a9(e,t,n,r){let s=e.context.dateEnv,i=e.dateSpan.range.start,o=t.dateSpan.range.start,a=Co(i,o,s,e.largeUnit);if(n){if(s.add(r.start,a)<r.end)return{startDelta:a}}else if(s.add(r.end,a)>r.start)return{endDelta:a};return null}class l9{constructor(t){this.context=t,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let s=this.context.options.unselectCancel,i=JA(r.origEvent);this.matchesCancel=!!Jt(i,s),this.matchesEvent=!!Jt(i,Sc.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:s}=this,{documentPointer:i}=this,o=s.getCurrentData();if(!i.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let a=s.options.unselectAuto;a&&(!a||!this.matchesCancel)&&s.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new a_(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),t.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const c9={fixedMirrorParent:D},u9={dateClick:D,eventDragStart:D,eventDragStop:D,eventDrop:D,eventResizeStart:D,eventResizeStop:D,eventResize:D,drop:D,eventReceive:D,eventLeave:D};J0.dataAttrPrefix="";var d9=Zs({name:"@fullcalendar/interaction",componentInteractions:[e9,t9,Sc,o9],calendarInteractions:[l9],elementDraggingImpl:wc,optionRefiners:c9,listenerRefiners:u9});const f9=async e=>(await ie.get(`/calendar/${e}`)).data,h9=async e=>(await ie.post("/calendar",e)).data,p9=async(e,t)=>{await ie.put(`/calendar/${e}`,t)},m9=async e=>{await ie.delete(`/calendar/${e}`)},US=()=>{const{family:e}=Jn(),{user:t,isAuthenticated:n,isLoading:r}=vt(),s=x.useRef(null),[i,o]=x.useState([]),[a,l]=x.useState(!0),[c,d]=x.useState(null),[f,h]=x.useState(!1),[p,m]=x.useState(null),[v,b]=x.useState(!1),[y,g]=x.useState(""),[w,S]=x.useState("UTC"),[k,E]=x.useState(""),[C,T]=x.useState(""),[N,A]=x.useState(""),[R,I]=x.useState(""),[O,j]=x.useState(""),[B,U]=x.useState({}),X=x.useMemo(()=>zt("calendar-page"),[]),L=()=>{const V={};return k||(V.newEventTitle="Event title is required."),C||(V.newEventStart="Start date is required."),U(V),Object.keys(V).length===0},$=x.useCallback(async()=>{if(X.log("fetchEvents: Called. Family:",e),!e){X.log("fetchEvents: Family not available, returning.");return}try{l(!0);const V=await f9(e.FamilyID.toString());X.log("fetchEvents: Received eventsData:",V),o(V)}catch(V){X.error("fetchEvents: Error fetching events:",V),d(V instanceof Error?V.message:"An unknown error occurred")}finally{l(!1)}},[e,X]);x.useEffect(()=>{S(Intl.DateTimeFormat().resolvedOptions().timeZone)},[]),x.useEffect(()=>{X.log("useEffect: Calling fetchEvents..."),$(),s.current&&g(s.current.getApi().view.title)},[$,X]);const ne=V=>{const fe=i.find(Ce=>Ce.EventID===Number(V.event.id));fe?(m(fe),E(fe.Title),T(fe.StartTime?new Date(fe.StartTime).toISOString().substring(0,16):""),A(fe.EndTime?new Date(fe.EndTime).toISOString().substring(0,16):""),I(fe.Description||""),j(fe.Location||""),b(!1),h(!0)):X.warn("Event not found for id:",V.event.id)},K=V=>{m(null),E(""),T(V.dateStr+"T00:00"),A(""),I(""),j(""),b(!0),h(!0)},ee=async()=>{if(!L())return;if(r||!n||!e||!t){X.error("Cannot save event: Auth status loading, not authenticated, or family/user data missing.");return}const V={familyId:e.FamilyID,title:k,description:R,startTime:C,endTime:N,location:O,createdByUserId:t.id};X.log("handleSaveEvent: Attempting to save event with data:",V);try{p?await p9(p.EventID.toString(),V):await h9(V),h(!1),$()}catch(fe){d(fe instanceof Error?fe.message:"Failed to save event")}},ce=V=>{if(s.current){const fe=s.current.getApi();V==="prev"?fe.prev():V==="next"?fe.next():V==="today"?fe.today():fe.changeView(V),g(fe.view.title)}},te=i.map(V=>({id:V.EventID,title:V.Title,start:V.StartTime,end:V.EndTime||null,backgroundColor:V.Color||"#3788d8",borderColor:V.Color||"#3788d8"}));return a?u.jsx("div",{children:"Loading calendar..."}):c?u.jsxs("div",{className:"text-error-500",children:["Error: ",c]}):u.jsxs("div",{id:"calendar-board",className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-1",children:"Family Calendar"}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"Plan and coordinate family activities"})]}),u.jsx("div",{className:"flex flex-col sm:flex-row flex-wrap gap-3 justify-end",children:u.jsxs("button",{onClick:()=>{m(null),E(""),T(""),A(""),I(""),j(""),b(!0),h(!0)},className:"flex items-center px-3 py-2 rounded-2xl bg-primary-500 text-white hover:bg-primary-600 dark:hover:bg-primary-400 transition-colors",children:[u.jsx(Hs,{size:18,className:"mr-2"}),u.jsx("span",{children:"Add Event"})]})})]}),u.jsx("div",{className:"flex items-center justify-between mt-4",children:u.jsxs("div",{className:"flex gap-1 nav-button-container",children:[u.jsx("button",{onClick:()=>ce("prev"),className:"px-3 py-2 rounded-xl text-white hover:bg-white/10 transition-colors nav-button",children:"<"}),u.jsx("button",{onClick:()=>ce("dayGridDay"),className:"px-3 py-2 rounded-xl text-white hover:bg-white/10 transition-colors nav-button",children:"Day"}),u.jsx("button",{onClick:()=>ce("dayGridWeek"),className:"px-3 py-2 rounded-xl text-white hover:bg-white/10 transition-colors nav-button",children:"Week"}),u.jsx("button",{onClick:()=>ce("today"),className:"px-3 py-2 rounded-xl text-white hover:bg-white/10 transition-colors nav-button",children:"Today"}),u.jsx("button",{onClick:()=>ce("dayGridMonth"),className:"px-3 py-2 rounded-xl text-white hover:bg-white/10 transition-colors nav-button",children:"Month"}),u.jsx("button",{onClick:()=>ce("next"),className:"px-3 py-2 rounded-xl text-white hover:bg-white/10 transition-colors nav-button",children:">"})]})}),u.jsx("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-card p-6",children:u.jsx(Zj,{ref:s,plugins:[VW,d9],initialView:"dayGridMonth",timeZone:w,events:te,eventClick:ne,dateClick:K,height:"auto",eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1},eventDisplay:"block",eventClassNames:"rounded-lg",dayMaxEvents:3,moreLinkContent:({num:V})=>u.jsxs("div",{className:"text-xs text-primary-500 dark:text-primary-400 font-medium",children:["+",V," more"]})})}),u.jsx(Cn,{children:f&&u.jsx("div",{className:"fixed inset-0 bg-neutral-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsxs(St.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-lg max-w-lg w-full",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-700",children:[u.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-white",children:p?"Edit Event":"New Event"}),u.jsx("button",{onClick:()=>h(!1),className:"text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-300",children:""})]}),u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Event Title"}),u.jsx("input",{type:"text",value:k,onChange:v?V=>E(V.target.value):void 0,readOnly:!v,className:`w-full px-3 py-2 rounded-xl border ${B.newEventTitle?"border-red-500":"border-neutral-200 dark:border-neutral-700"} bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 ${v?"":"bg-neutral-100 dark:bg-neutral-700 cursor-not-allowed"}`,placeholder:"Enter event title"}),B.newEventTitle&&u.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.newEventTitle})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Start Date"}),u.jsx("input",{type:"datetime-local",value:C,onChange:v?V=>T(V.target.value):void 0,readOnly:!v,className:`w-full px-3 py-2 rounded-xl border ${B.newEventStart?"border-red-500":"border-neutral-200 dark:border-neutral-700"} bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 ${v?"":"bg-neutral-100 dark:bg-neutral-700 cursor-not-allowed"}`}),B.newEventStart&&u.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.newEventStart})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"End Date"}),u.jsx("input",{type:"datetime-local",value:N,onChange:v?V=>A(V.target.value):void 0,readOnly:!v,className:`w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 ${v?"":"bg-neutral-100 dark:bg-neutral-700 cursor-not-allowed"}`})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Description"}),u.jsx("textarea",{rows:3,value:R,onChange:v?V=>I(V.target.value):void 0,readOnly:!v,className:`w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 ${v?"":"bg-neutral-100 dark:bg-neutral-700 cursor-not-allowed"}`,placeholder:"Add event description"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Location"}),u.jsx("input",{type:"text",value:O,onChange:v?V=>j(V.target.value):void 0,readOnly:!v,className:`w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 ${v?"":"bg-neutral-100 dark:bg-neutral-700 cursor-not-allowed"}`,placeholder:"Add location"})]})]})}),u.jsxs("div",{className:"flex justify-end p-4 border-t border-neutral-200 dark:border-neutral-700 space-x-3",children:[p&&!v&&u.jsx("button",{onClick:()=>b(!0),className:"px-4 py-2 text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 dark:hover:bg-primary-400 rounded-xl",children:"Edit"}),u.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-xl",children:"Cancel"}),v&&u.jsx("button",{onClick:ee,className:"px-4 py-2 text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 dark:hover:bg-primary-400 rounded-xl",children:p?"Save Changes":"Create Event"}),p&&u.jsx("button",{"data-testid":"delete-event-button",onClick:async()=>{p&&(await m9(p.EventID.toString()),h(!1),$())},className:"px-4 py-2 text-sm font-bold text-white bg-red-600 hover:bg-red-700 rounded-xl",children:"Delete"})]})]})})})]})},g9=async e=>(await ie.get(`/tasks/family/${e}`)).data,y9=async e=>(await ie.post("/tasks",e)).data,_p=async(e,t)=>(await ie.put(`/tasks/${e}`,t)).data,v9=async(e,t)=>{const n=new FormData;n.append("attachment",t),await ie.post(`/tasks/${e}/attachments`,n,{headers:{"Content-Type":"multipart/form-data"}})},x9=async(e,t)=>{await ie.delete(`/tasks/${e}/attachments/${t}`)},b9=async()=>(await ie.get("/task-statuses")).data,w9=({attachments:e})=>{const[t,n]=x.useState(null);return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mt-3",children:u.jsx("div",{className:"flex justify-end gap-2",children:e.map(r=>u.jsxs("div",{className:"relative group cursor-pointer w-20 h-20",onClick:()=>n(r.Url),children:[u.jsx("img",{src:r.Url,alt:r.FileName,className:"w-full h-full object-cover rounded-lg group-hover:opacity-75 transition-opacity"}),u.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(T4,{size:24,className:"text-white"})})]},r.AttachmentID))})}),u.jsx(Cn,{children:t&&u.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsxs(St.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative",children:[u.jsx("img",{src:t,alt:"Full screen attachment",className:"max-w-full max-h-[90vh] rounded-lg"}),u.jsx("button",{onClick:()=>n(null),className:"absolute -top-4 -right-4 bg-white dark:bg-neutral-800 rounded-full p-2 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:u.jsx(Oi,{size:20})})]})})})]})},VS=()=>{const{user:e}=vt(),{family:t}=Jn(),[n,r]=x.useState([]),[s,i]=x.useState([]),[o,a]=x.useState(!0),[l,c]=x.useState(null),[d,f]=x.useState("my"),[h,p]=x.useState(!1),[m,v]=x.useState(null),[b,y]=x.useState("all"),[g,w]=x.useState(0),S=x.useMemo(()=>zt("tasks-page"),[]),[k,E]=x.useState(""),[C,T]=x.useState(""),[N,A]=x.useState(""),[R,I]=x.useState(""),[O,j]=x.useState(null),[B,U]=x.useState([]),[X,L]=x.useState(!1);x.useEffect(()=>{m?(E(m.Title),T(m.Description||""),A(m.DueDate?new Date(m.DueDate).toISOString().substring(0,16):""),I(m.AssignedToUserID||""),K(m.RewardType||"points"),ce(m.RewardValue||0),U(m.attachments||[])):(E(""),T(""),A(new Date().toISOString().substring(0,16)),I(""),K("points"),ce(0),U([]))},[m]);const $=x.useCallback(async()=>{if(t)try{a(!0);const[G,Te]=await Promise.all([g9(t.FamilyID.toString()),b9()]);S.log("Tasks received by frontend:",JSON.stringify(G,null,2)),r(G),i(Te)}catch(G){c(G instanceof Error?G.message:"An unknown error occurred")}finally{a(!1)}},[t,S]);x.useEffect(()=>{$()},[$]);const[ne,K]=x.useState("points"),[ee,ce]=x.useState(0),[te,V]=x.useState({}),fe=()=>{const G={};return k||(G.newTaskTitle="Task title is required."),R===""&&(G.newTaskAssignedTo="Please assign this task to a family member."),V(G),Object.keys(G).length===0},[Ce,q]=x.useState(!1),ae=G=>{U(Te=>Te.filter(Oe=>Oe.AttachmentID!==G))},W=()=>{E(""),T(""),A(new Date().toISOString().substring(0,16)),I(""),K("points"),ce(0),j(null),U([]),V({}),v(null)},J=async()=>{if(!fe()||!t||!e)return;const G={FamilyID:t.FamilyID,Title:k,Description:C,DueDate:N?new Date(N).toISOString():void 0,AssignedToUserID:R,CreatedByUserID:e.id,RewardType:ne,RewardValue:ee};try{let Te;if(m){const Oe=m.attachments.filter(Be=>!B.some(at=>at.AttachmentID===Be.AttachmentID));for(const Be of Oe)await x9(m.TaskID.toString(),Be.AttachmentID);Te=await _p(m.TaskID.toString(),G)}else Te=await y9(G);if(O){q(!0);try{await v9(Te.TaskID.toString(),O)}catch(Oe){c(Oe instanceof Error?Oe.message:"Failed to upload attachment")}finally{q(!1),j(null)}}p(!1),W(),$()}catch(Te){c(Te instanceof Error?Te.message:"Failed to save task")}},pe=G=>{const Te=s.find(Oe=>Oe.StatusName.toLowerCase()==="completed");return Te?G.TaskStatusID===Te.TaskStatusID:!1},_e=async G=>{if(s.length===0){c("Task statuses have not been loaded yet.");return}const Te=s.find(at=>at.StatusName.toLowerCase()==="completed"),Oe=s.find(at=>at.StatusName.toLowerCase()==="pending");if(!Te||!Oe){c("Could not find task statuses.");return}const Be=pe(G)?Oe.TaskStatusID:Te.TaskStatusID;try{const at=await _p(G.TaskID.toString(),{TaskStatusID:Be});r(n.map(Hr=>Hr.TaskID===G.TaskID?at:Hr))}catch(at){c(at instanceof Error?at.message:"Failed to update task")}},Ae=async G=>{try{await _p(G.TaskID.toString(),{ApprovalStatusID:2}),$()}catch(Te){c(Te instanceof Error?Te.message:"Failed to approve task")}},Je=n.filter(G=>{const Te=s.find(Be=>Be.StatusName.toLowerCase()==="completed"),Oe=Te?G.TaskStatusID===Te.TaskStatusID:!1;return d==="my"?G.AssignedToUserID===(e==null?void 0:e.id)&&!Oe:d==="family"?!Oe:d==="completed"?Oe&&G.ApprovalStatusID===1:!0}),F=n,ve=F.filter(pe).length,xe=F.length-ve,we=Je.filter(G=>d==="my"&&G.AssignedToUserID===(e==null?void 0:e.id)),Pe=we.length>0&&we.every(pe);return o?u.jsx("div",{children:"Loading tasks..."}):l?u.jsxs("div",{className:"text-error-500",children:["Error: ",l]}):u.jsxs("div",{id:"tasks-board",className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-1",children:"Tasks"}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"Manage and track family responsibilities"})]}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[u.jsxs("button",{onClick:()=>L(!X),className:"flex items-center px-3 py-2 rounded-2xl border border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:[u.jsx(HT,{size:18,className:"mr-2"}),u.jsx("span",{children:"Filter"})]}),u.jsxs("button",{onClick:()=>{v(null),p(!0)},className:"flex items-center px-3 py-2 rounded-2xl bg-primary-500 text-white hover:bg-primary-600 dark:hover:bg-primary-400 transition-colors",children:[u.jsx(Hs,{size:18,className:"mr-2"}),u.jsx("span",{children:"Add Task"})]})]})]}),X&&u.jsxs(St.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-card p-4 mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-2",children:"Filter Options"}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"More filter options will go here."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-card p-6 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>f("completed"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:"Completed"}),u.jsx(Qc,{className:"text-success-500",size:24})]}),u.jsx("p",{className:"text-3xl font-bold text-neutral-900 dark:text-white",children:ve}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Tasks completed"})]}),u.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:"Pending"}),u.jsx(sg,{className:"text-warning-500",size:24})]}),u.jsx("p",{className:"text-3xl font-bold text-neutral-900 dark:text-white",children:xe}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Tasks to complete"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-card overflow-hidden",children:[u.jsxs("div",{className:"flex border-b border-neutral-200 dark:border-neutral-700",children:[u.jsx("button",{onClick:()=>f("my"),className:`flex-1 px-6 py-4 text-sm font-medium ${d==="my"?"text-primary-600 border-b-2 border-primary-500":"text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-300"}`,children:"My Tasks"}),u.jsx("button",{onClick:()=>f("family"),className:`flex-1 px-6 py-4 text-sm font-medium ${d==="family"?"text-primary-600 border-b-2 border-primary-500":"text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-300"}`,children:"Family Tasks"}),(e==null?void 0:e.role)==="parent"&&u.jsx("button",{onClick:()=>f("completed"),className:`flex-1 px-6 py-4 text-sm font-medium ${d==="completed"?"text-primary-600 border-b-2 border-primary-500":"text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-300"}`,children:"Completed"})]}),u.jsx("div",{className:"p-6",children:d==="my"&&Pe?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"h-16 w-16 rounded-full bg-success-100 dark:bg-success-900/30 text-success-600 dark:text-success-400 flex items-center justify-center mx-auto mb-4",children:u.jsx(Qc,{size:32})}),u.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-white mb-2",children:"All Tasks Complete!"}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 mb-4",children:"Great job! Why not help out a family member?"}),u.jsxs("button",{onClick:()=>f("family"),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 dark:hover:bg-primary-400 rounded-xl",children:["Check Family Tasks",u.jsx(m4,{size:16,className:"ml-2"})]})]}):u.jsx("div",{className:"space-y-4",children:Je.map(G=>{var Te;return u.jsx(St.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`p-4 rounded-xl border border-neutral-200 dark:border-neutral-700 min-h-[120px] ${pe(G)?"bg-neutral-50 dark:bg-neutral-800/50":"bg-white dark:bg-neutral-800"}`,children:u.jsxs("div",{className:"flex items-start",children:[u.jsx("button",{onClick:()=>_e(G),disabled:o,className:`p-2 rounded-xl ${pe(G)?"text-primary-500 dark:text-primary-400":"text-neutral-400 dark:text-neutral-500 hover:text-primary-500 dark:hover:text-primary-400"}`,children:pe(G)?u.jsx(Qc,{size:20}):u.jsx(sg,{size:20})}),u.jsxs("div",{className:"flex-1 ml-3",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsx("div",{className:"flex-1",children:u.jsx("h3",{className:`font-medium ${pe(G)?"text-neutral-400 dark:text-neutral-500 line-through":"text-neutral-900 dark:text-white"}`,children:G.Title})}),u.jsxs("div",{className:"flex items-center space-x-2 ml-auto",children:[G.attachments&&G.attachments.length>0&&u.jsx("div",{className:"ml-4",children:u.jsx(w9,{attachments:G.attachments})}),pe(G)&&G.ApprovalStatusID===1&&(e==null?void 0:e.role)==="parent"&&u.jsx("button",{onClick:()=>Ae(G),className:"p-2 rounded-xl hover:bg-neutral-100 dark:hover:bg-neutral-700 text-success-500 dark:text-success-400",children:u.jsx(Qc,{size:18})}),u.jsx("button",{onClick:()=>{v(G),p(!0)},className:"p-2 rounded-xl hover:bg-neutral-100 dark:hover:bg-neutral-700 text-neutral-400 dark:text-neutral-500",children:u.jsx(_4,{size:18})})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[G.DueDate&&u.jsxs("span",{className:"flex items-center text-xs text-neutral-500 dark:text-neutral-400",children:[u.jsx(n0,{size:12,className:"mr-1"}),new Date(G.DueDate).toLocaleDateString()]}),G.AssignedToUserID&&u.jsx("div",{className:"flex -space-x-2 ml-auto",children:u.jsx("div",{className:"h-6 w-6 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center text-xs text-primary-700 dark:text-primary-300 ring-2 ring-white dark:ring-neutral-800",children:(Te=t==null?void 0:t.members.find(Oe=>Oe.UserID===G.AssignedToUserID))==null?void 0:Te.FirstName.charAt(0)},G.AssignedToUserID)})]}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mt-1",children:G.Description})]})]})},G.TaskID)})})})]}),u.jsx(Cn,{children:h&&u.jsx("div",{className:"fixed inset-0 bg-neutral-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:u.jsxs(St.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-lg w-full max-w-lg my-8",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-700",children:[u.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-white",children:m?"Edit Task":"New Task"}),u.jsx("button",{onClick:()=>p(!1),className:"text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-300",children:""})]}),u.jsx("div",{className:"p-4 max-h-[calc(100vh-16rem)] overflow-y-auto",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Task Title"}),u.jsx("input",{type:"text",value:k,onChange:G=>E(G.target.value),className:`w-full px-3 py-2 rounded-xl border ${te.newTaskTitle?"border-red-500":"border-neutral-200 dark:border-neutral-700"} bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400`,placeholder:"Enter task title"}),te.newTaskTitle&&u.jsx("p",{className:"text-red-500 text-xs mt-1",children:te.newTaskTitle})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Description"}),u.jsx("textarea",{rows:3,value:C,onChange:G=>T(G.target.value),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400",placeholder:"Add task description"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Due Date"}),u.jsx("input",{type:"datetime-local",value:N,onChange:G=>A(G.target.value),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Reward"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("select",{value:ne,onChange:G=>K(G.target.value),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400",children:[u.jsx("option",{value:"points",children:"Points"}),u.jsx("option",{value:"screentime",children:"Screen Time (minutes)"}),u.jsx("option",{value:"currency",children:"Currency"})]}),u.jsx("input",{type:"number",value:ee,onChange:G=>ce(Number(G.target.value)),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400",placeholder:"Value"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Assign To"}),u.jsxs("select",{value:R,onChange:G=>I(G.target.value),className:`w-full px-3 py-2 rounded-xl border ${te.newTaskAssignedTo?"border-red-500":"border-neutral-200 dark:border-neutral-700"} bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400`,children:[u.jsx("option",{value:"",children:"Unassigned"}),t==null?void 0:t.members.map(G=>u.jsxs("option",{value:G.UserID,children:[G.FirstName," ",G.LastName]},G.UserID))]}),te.newTaskAssignedTo&&u.jsx("p",{className:"text-red-500 text-xs mt-1",children:te.newTaskAssignedTo})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Attachment"}),u.jsx("input",{type:"file",onChange:G=>j(G.target.files?G.target.files[0]:null),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"})]}),m&&B.length>0&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Existing Attachments"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(G=>u.jsxs("div",{className:"relative group",children:[u.jsx("img",{src:G.Url,alt:G.FileName,className:"w-20 h-20 object-cover rounded-lg"}),u.jsx("button",{onClick:()=>ae(G.AttachmentID),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(Oi,{size:16})})]},G.AttachmentID))})]})]})}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 p-4 border-t border-neutral-200 dark:border-neutral-700",children:[u.jsx("button",{onClick:()=>p(!1),className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-xl",children:"Cancel"}),u.jsx("button",{onClick:J,disabled:Ce,className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 dark:hover:bg-primary-400 rounded-xl disabled:bg-primary-300 dark:disabled:bg-primary-700 flex items-center justify-center",children:Ce?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Uploading..."]}):m?"Save Changes":"Create Task"})]})]})})})]})},Rp=zt("api-gigs"),f_=async()=>(await ie.get("/gigs/templates")).data,S9=async e=>(await ie.get(`/gigs?familyId=${e}`)).data,k9=async(e,t,n,r,s)=>(Rp.log("addGigToFamily: gigTemplateId",e),Rp.log("addGigToFamily: roomId",t),Rp.log("addGigToFamily: cadenceType",n),(await ie.post("/gigs",{gigTemplateId:e,roomId:t,cadenceType:n,maxPerDay:r,visible:s})).data),h_=async e=>(await ie.get(`/rooms?familyId=${e}`)).data,E9=async(e,t,n)=>(await ie.post("/rooms",{familyId:e,name:t,roomTemplateId:n})).data,C9=async e=>{await ie.delete(`/rooms/${e}`)},T9=async e=>{await ie.post("/rooms/reset",{familyId:e})},N9=async e=>(await ie.post(`/gigs/${e}/claim`)).data,A9=async e=>(await ie.post(`/gigs/${e}/complete`)).data,j9=e=>e.overridePoints?(x.useMemo(()=>zt("gig-card"),[]),`${e.overridePoints} points`):e.overrideCurrencyCents?`${(e.overrideCurrencyCents/100).toFixed(2)}`:e.overrideScreenMinutes?`${e.overrideScreenMinutes} min screen time`:"auto",_9=({gig:e,onDetailsClick:t,isClaimed:n,overdueDays:r})=>{var d,f;const{user:s}=vt(),i=(d=e.claims)==null?void 0:d.find(h=>{const p=new Date,m=`${p.getFullYear()}-${p.getMonth()+1}-${p.getDate()}`;return h.periodKey===m&&h.status==="claimed"}),o=(f=i==null?void 0:i.user)==null?void 0:f.FirstName,a=async()=>{try{const h=await N9(e.id);gigsDebug.log("Gig claimed successfully:",h)}catch(h){gigsDebug.error("Failed to claim gig:",h)}},l=async()=>{try{const h=await A9(e.id);gigsDebug.log("Gig completed successfully:",h)}catch(h){gigsDebug.error("Failed to complete gig:",h)}},c=`bg-white dark:bg-neutral-800 rounded-2xl shadow-card p-6 ${n?"opacity-50":""} ${r>0?r>7?"bg-red-300 dark:bg-red-900":"bg-red-100 dark:bg-red-800":""}`;return u.jsxs("div",{className:c,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:e.gigTemplate.name}),u.jsx("div",{className:"text-xs px-2 py-1 rounded-full bg-primary-100 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400",children:e.cadenceType})]}),u.jsx("div",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-4",children:e.familyRoom.name}),o&&u.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 mb-2",children:["Claimed by: ",o]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(S4,{size:16,className:"mr-2"}),u.jsxs("span",{children:[e.gigTemplate.estimatedMinutes," min"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(k4,{size:16,className:"mr-2"}),u.jsx("span",{children:j9(e)})]})]}),u.jsxs("div",{className:"mt-6 flex gap-2",children:[n?u.jsx("button",{onClick:l,className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700",children:"Complete"}):u.jsx("button",{onClick:a,className:"flex-1 bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700",children:"Claim"}),u.jsx("button",{onClick:()=>t(e),className:"flex-1 bg-neutral-200 text-neutral-800 py-2 px-4 rounded-md hover:bg-neutral-300 dark:bg-neutral-700 dark:text-white dark:hover:bg-neutral-600",children:"Details"})]})]})},R9=({isOpen:e,onClose:t,gig:n})=>!e||!n?null:u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-lg p-6 w-full max-w-md",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gig Details"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Name:"})," ",n.gigTemplate.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Room:"})," ",n.familyRoom.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Cadence:"})," ",n.cadenceType]}),n.gigTemplate.estimatedMinutes&&u.jsxs("p",{children:[u.jsx("strong",{children:"Estimated Time:"})," ",n.gigTemplate.estimatedMinutes," min"]}),n.overridePoints&&u.jsxs("p",{children:[u.jsx("strong",{children:"Reward Points:"})," ",n.overridePoints]}),n.overrideCurrencyCents&&u.jsxs("p",{children:[u.jsx("strong",{children:"Reward Currency:"})," $",(n.overrideCurrencyCents/100).toFixed(2)]}),n.overrideScreenMinutes&&u.jsxs("p",{children:[u.jsx("strong",{children:"Reward Screen Time:"})," ",n.overrideScreenMinutes," min"]})]}),u.jsx("div",{className:"mt-6 flex justify-end",children:u.jsx("button",{onClick:t,className:"bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700",children:"Close"})})]})}),Dp=(e,t)=>{var s;const n=new Date,r=`${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()}`;return(s=e.claims)==null?void 0:s.some(i=>i.userId===t&&i.periodKey===r)},Ip=(e,t)=>{var o;const n=new Date,r=(o=e.claims)==null?void 0:o.find(a=>a.userId===t);if(!r){const a=new Date(e.claimedAt||e.createdAt),l=Math.abs(n.getTime()-a.getTime()),c=Math.ceil(l/(1e3*60*60*24));return c>0?c:0}const s=new Date(r.claimedAt);let i=0;switch(e.cadenceType){case"daily":i=Math.ceil(Math.abs(n.getTime()-s.getTime())/(1e3*60*60*24))-1;break;case"weekly":i=Math.ceil(Math.abs(n.getTime()-s.getTime())/(1e3*60*60*24*7))-1;break;case"monthly":i=Math.ceil(Math.abs(n.getTime()-s.getTime())/(1e3*60*60*24*30))-1;break}return Math.max(0,i)},$S=()=>{const{family:e,isLoading:t,error:n}=Jn(),{user:r}=vt(),[s,i]=x.useState([]),[o,a]=x.useState(!0),[l,c]=x.useState(null),[d,f]=x.useState(!1),[h,p]=x.useState(null);x.useEffect(()=>{if(!e||!r)return;(async()=>{try{const g=[...(await ie.get(`/gigs?familyId=${e.FamilyID}`)).data].sort((w,S)=>{const k=Dp(w,r.id),E=Dp(S,r.id);if(k&&!E)return-1;if(!k&&E)return 1;const C=Ip(w,r.id);return Ip(S,r.id)-C});i(g)}catch(b){c(b instanceof Error?b.message:"An unknown error occurred")}finally{a(!1)}})()},[e,r]);const m=v=>{p(v),f(!0)};return t?u.jsx("div",{children:"Loading family data..."}):n?u.jsxs("div",{className:"text-error-500",children:["Error loading family data: ",n]}):o?u.jsx("div",{children:"Loading gigs..."}):l?u.jsxs("div",{className:"text-error-500",children:["Error: ",l]}):u.jsxs("div",{id:"gigs-board",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Gigs"}),u.jsx(nn,{id:"cta-manage-gigs",to:"/gigs/settings",className:"bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700",children:"Manage Gigs"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(v=>u.jsx(_9,{gig:v,onDetailsClick:m,isClaimed:Dp(v,r.id),overdueDays:Ip(v,r.id)},v.id))}),u.jsx(R9,{isOpen:d,onClose:()=>f(!1),gig:h})]})},WS=()=>{const{family:e}=Jn(),[t,n]=x.useState([]),[r,s]=x.useState([]),[i,o]=x.useState([]),[a,l]=x.useState(!0),[c,d]=x.useState(null),[f,h]=x.useState(!1),[p,m]=x.useState(null),v=x.useMemo(()=>zt("gigs-settings-page"),[]);x.useEffect(()=>{if(!e)return;(async()=>{try{const[S,k,E]=await Promise.all([f_(),S9(e.FamilyID),h_(e.FamilyID)]);n(S),s(k),o(E)}catch(S){d(S instanceof Error?S.message:"An unknown error occurred")}finally{l(!1)}})()},[e]);const b=w=>{m(w),h(!0)},y=async w=>{if(!(!p||!e)){v.log("handleConfirmAddGig: selectedTemplateId",p),v.log("handleConfirmAddGig: roomId",w);try{const S=await k9(p,w,"daily");s([...r,S])}catch(S){v.error("Failed to add gig",S)}finally{h(!1),m(null)}}};if(a)return u.jsx("div",{children:"Loading..."});if(c)return u.jsxs("div",{className:"text-error-500",children:["Error: ",c]});const g=t.filter(w=>!r.some(S=>S.gigTemplateId===w.id));return u.jsxs("div",{className:"space-y-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Gigs Settings"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"My Gigs"}),r.length===0?u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"You haven't added any gigs yet. Add some from the list below!"}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(w=>u.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-card p-6",children:[u.jsx("h3",{className:"text-lg font-semibold",children:w.gigTemplate.name}),u.jsx("p",{className:"text-sm text-neutral-500",children:w.familyRoom.name}),u.jsx("p",{className:"text-sm text-neutral-500",children:w.cadenceType})]},w.id))})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Available Gigs"}),i.length===0?u.jsxs("p",{className:"text-error-500",children:["You need to create at least one room before you can add gigs. Please go to the ",u.jsx(nn,{to:"/family",className:"text-primary-600 hover:underline",children:"Family settings"})," to create rooms."]}):g.length===0?u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"All available gigs have been added to your family."}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(w=>u.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-card p-6",children:[u.jsx("h3",{className:"text-lg font-semibold",children:w.name}),u.jsxs("p",{className:"text-sm text-neutral-500",children:[w.estimatedMinutes," min"]}),u.jsx("button",{onClick:()=>b(w.id),className:"mt-4 bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700",children:"Add to My Gigs"})]},w.id))})]}),u.jsx(SelectRoomModal,{isOpen:f,onClose:()=>h(!1),onConfirm:y,rooms:i})]})},D9=async e=>(await ie.get(`/messages/${e}`)).data,I9=async e=>(await ie.post("/messages",e)).data,GS=()=>{const{user:e}=vt(),{family:t}=Jn(),[n,r]=x.useState([]),[s,i]=x.useState(!0),[o,a]=x.useState(null),[l,c]=x.useState(""),d=x.useRef(null),f=()=>{var m;(m=d.current)==null||m.scrollIntoView({behavior:"smooth"})},h=x.useCallback(async()=>{if(t)try{i(!0);const m=await D9(t.FamilyID.toString());r(m)}catch(m){a(m instanceof Error?m.message:"Failed to fetch messages")}finally{i(!1)}},[t]);x.useEffect(()=>{h()},[h]),x.useEffect(()=>{f()},[n]);const p=async()=>{if(!(!l.trim()||!t||!e))try{await I9({FamilyID:t.FamilyID,MessageText:l,SenderID:e.id}),c(""),h()}catch(m){a(m instanceof Error?m.message:"Failed to send message")}};return s?u.jsx("div",{children:"Loading messages..."}):o?u.jsxs("div",{className:"text-error-500",children:["Error: ",o]}):u.jsxs("div",{className:"h-[calc(100vh-7rem)] flex flex-col bg-white dark:bg-neutral-800 rounded-2xl shadow-card",children:[u.jsx("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-700 flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center text-primary-700 dark:text-primary-300",children:u.jsx(kd,{size:18})}),u.jsxs("div",{children:[u.jsxs("h2",{className:"font-semibold text-neutral-900 dark:text-white",children:[t==null?void 0:t.FamilyName," Chat"]}),u.jsxs("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[t==null?void 0:t.members.length," members"]})]})]})}),u.jsxs("div",{id:"messages-thread",className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.map(m=>{const v=m.SenderID===(e==null?void 0:e.id),b=t==null?void 0:t.members.find(y=>y.UserID===m.SenderID);return u.jsx("div",{className:`flex ${v?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[70%] flex ${v?"flex-row-reverse":"flex-row"} items-end space-x-2`,children:[!v&&b&&u.jsx("img",{src:b.ProfilePhotoUrl||"",alt:b.FirstName,className:"h-8 w-8 rounded-full object-cover"}),u.jsxs("div",{className:`px-4 py-2 rounded-2xl ${v?"bg-primary-500 text-white":"bg-neutral-100 dark:bg-neutral-700"}`,children:[!v&&u.jsx("p",{className:"text-xs font-bold mb-1",children:b==null?void 0:b.FirstName}),u.jsx("p",{children:m.MessageText}),u.jsx("p",{className:"text-xs mt-1 opacity-70 text-right",children:new Date(m.Timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},m.MessageID)}),u.jsx("div",{ref:d})]}),u.jsx("div",{className:"p-4 border-t border-neutral-200 dark:border-neutral-700",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"text",value:l,onChange:m=>c(m.target.value),placeholder:"Type a message...",className:"flex-1 px-4 py-2 rounded-xl border bg-white dark:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-primary-500",onKeyPress:m=>{m.key==="Enter"&&p()}}),u.jsx("button",{onClick:p,disabled:!l.trim(),className:"p-2 rounded-xl bg-primary-500 text-white disabled:opacity-50",children:u.jsx(D4,{size:20})})]})})]})},P9=async e=>(await ie.get(`/shopping-lists/family/${e}`)).data,O9=async e=>(await ie.post("/shopping-lists",e)).data,M9=async e=>(await ie.post("/shopping-items",e)).data,L9=async(e,t)=>{await ie.put(`/shopping-items/${e}`,t)},F9=async e=>(await ie.get(`/meals/${e}/meals`)).data,B9=async(e,t)=>(await ie.get(`/meals/${e}/plan`,{params:t})).data,z9=async(e,t)=>(await ie.post(`/meals/${e}/plan`,t)).data,qS=()=>{const{user:e}=vt(),{family:t}=Jn(),[n,r]=x.useState([]),[s,i]=x.useState(null),[o,a]=x.useState(!0),[l,c]=x.useState(null),[d,f]=x.useState(!1),[h,p]=x.useState(!1),[m,v]=x.useState("lists"),[b,y]=x.useState([]),[g,w]=x.useState([]),[S,k]=x.useState(()=>{const F=new Date,ve=F.getDay(),xe=F.getDate()-ve,we=new Date(F.setDate(xe===0?xe-6:xe-1));return we.setHours(0,0,0,0),we.toISOString().split("T")[0]}),[E,C]=x.useState("all"),[T,N]=x.useState(""),[A,R]=x.useState(""),[I,O]=x.useState(""),[j,B]=x.useState(1),U=()=>{const F={};return I||(F.newItemName="Item name is required."),ne(F),Object.keys(F).length===0},[X,L]=x.useState(""),[$,ne]=x.useState({}),K=()=>{const F={};return A||(F.newListName="List name is required."),ne(F),Object.keys(F).length===0},ee=x.useCallback(async()=>{if(t)try{a(!0);const F=await P9(t.FamilyID.toString());r(F),F.length>0&&i(F[0])}catch(F){c(F instanceof Error?F.message:"An unknown error occurred")}finally{a(!1)}},[t]),ce=x.useCallback(async()=>{if(t)try{const[F,ve]=await Promise.all([F9(t.FamilyID),B9(t.FamilyID,{weekStart:S})]);y(F),w(ve)}catch(F){c(F instanceof Error?F.message:"Failed to load meals")}},[t,S]);x.useEffect(()=>{ee()},[ee]),x.useEffect(()=>{m==="meal-planner"&&ce()},[m,ce]);const te=async()=>{if(K()&&!(!t||!e))try{await O9({FamilyID:t.FamilyID,Name:A,CreatedByUserID:e.id}),R(""),f(!1),ee()}catch(F){c(F instanceof Error?F.message:"Failed to create list")}},V=async()=>{if(U()&&!(!s||!e))try{await M9({ShoppingListID:s.ShoppingListID,Name:I,Quantity:j,Unit:X,Completed:!1,AddedByUserID:e.id}),O(""),B(1),L(""),p(!1),ee()}catch(F){c(F instanceof Error?F.message:"Failed to create item")}},fe=async F=>{try{await L9(F.ShoppingItemID.toString(),{Completed:!F.Completed}),ee()}catch(ve){c(ve instanceof Error?ve.message:"Failed to update item")}},Ce=n.filter(F=>F.Name.toLowerCase().includes(T.toLowerCase())||F.ShoppingItems.some(ve=>ve.Name.toLowerCase().includes(T.toLowerCase()))),q=(s==null?void 0:s.ShoppingItems.filter(F=>F.Completed).length)||0,ae=(s==null?void 0:s.ShoppingItems.length)||0,W=()=>u.jsx("div",{className:"border-b border-neutral-200 dark:border-neutral-700",children:u.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[u.jsx("button",{onClick:()=>v("lists"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors ${m==="lists"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300 dark:text-neutral-400"}`,children:u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx(C4,{size:16})," Lists"]})}),u.jsx("button",{onClick:()=>v("meal-planner"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors ${m==="meal-planner"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300 dark:text-neutral-400"}`,children:u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx(n0,{size:16})," Meal Planner"]})})]})}),J=x.useMemo(()=>["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[]),pe=[{slot:"BREAKFAST",label:"Breakfast"},{slot:"LUNCH",label:"Lunch"},{slot:"DINNER",label:"Dinner"},{slot:"SNACK",label:"Snack"}],_e=x.useMemo(()=>{const F=g.find(xe=>xe.WeekStart.startsWith(S)),ve={};if(F)for(const xe of F.Entries)ve[`${xe.DayOfWeek}-${xe.MealSlot}`]=xe;return ve},[g,S]),Ae=async(F,ve,xe)=>{var we;if(!(!t||!e))try{await z9(t.FamilyID,{WeekStart:S,DayOfWeek:F,MealSlot:ve,MealID:xe,Servings:((we=b.find(Pe=>Pe.MealID===xe))==null?void 0:we.DefaultServings)??4,AddedByUserID:e.id}),ce()}catch(Pe){c(Pe instanceof Error?Pe.message:"Failed to add meal")}},Je=()=>u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[u.jsxs("div",{className:"lg:w-2/3 bg-white dark:bg-neutral-800 rounded-2xl shadow-card p-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-white",children:"Weekly Meal Plan"}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:"Assign meals to each day and slot. LinZ will sync picked meals to your lists."})]}),u.jsx("input",{type:"date",value:S,onChange:F=>k(F.target.value),className:"px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full border-separate border-spacing-y-3",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left text-xs font-semibold uppercase text-neutral-500 dark:text-neutral-400 w-28",children:"Meal"}),J.map((F,ve)=>u.jsx("th",{className:"text-left text-xs font-semibold uppercase text-neutral-500 dark:text-neutral-400 px-2",children:F},F))]})}),u.jsx("tbody",{children:pe.map(({slot:F,label:ve})=>u.jsxs("tr",{children:[u.jsx("td",{className:"align-top pr-2 pt-3 text-sm font-medium text-neutral-700 dark:text-neutral-300",children:ve}),J.map((xe,we)=>{var Te,Oe;const Pe=`${we}-${F}`,G=_e[Pe];return u.jsx("td",{className:"align-top px-2",children:u.jsxs("div",{className:"rounded-xl border border-dashed border-neutral-200 dark:border-neutral-700 p-3 min-h-[110px] flex flex-col gap-3 bg-neutral-50/60 dark:bg-neutral-800/40",children:[G?u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-neutral-900 dark:text-white truncate",children:((Te=G.Meal)==null?void 0:Te.Title)??"Meal removed"}),u.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["Serves ",G.Servings]}),u.jsx("div",{className:"mt-2 text-xs text-neutral-500 dark:text-neutral-400 line-clamp-3",children:((Oe=G.Meal)==null?void 0:Oe.Description)||"No description"})]}):u.jsx("div",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:"Tap a meal to assign"}),u.jsxs("div",{className:"mt-auto",children:[u.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 mb-1",children:"Suggestions"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:b.slice(0,3).map(Be=>u.jsx("button",{onClick:()=>Ae(we,F,Be.MealID),className:"text-xs px-2 py-1 rounded-full bg-primary-100 text-primary-700 dark:bg-primary-900/40 dark:text-primary-300 hover:bg-primary-200 dark:hover:bg-primary-800/60",children:Be.Title},`${Pe}-${Be.MealID}`))})]})]})},Pe)})]},F))})]})})]}),u.jsxs("div",{className:"lg:w-1/3 space-y-4",children:[u.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-card p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:"Family Suggestions"}),u.jsx("button",{className:"text-sm text-primary-600 dark:text-primary-400 hover:underline",children:"See all"})]}),u.jsx("div",{className:"space-y-3",children:b.slice(0,5).map(F=>{var ve;return u.jsx("div",{className:"flex items-start gap-3 p-3 rounded-xl border border-neutral-200 dark:border-neutral-700",children:u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-white",children:F.Title}),F.IsFavorite&&u.jsx("span",{className:"text-xs text-primary-500",children:"Favorite"})]}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 line-clamp-2",children:F.Description||"No description yet."}),u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(ve=F.Tags)==null?void 0:ve.map(xe=>u.jsx("span",{className:"text-[11px] px-2 py-1 rounded-full bg-neutral-100 dark:bg-neutral-700/60 text-neutral-600 dark:text-neutral-300",children:xe.Tag},xe.MealTagID))})]})},F.MealID)})})]}),u.jsxs("div",{className:"bg-primary-50/70 dark:bg-primary-900/40 rounded-2xl p-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-primary-700 dark:text-primary-300 mb-2",children:"LinZ Assist"}),u.jsx("p",{className:"text-xs text-primary-700/80 dark:text-primary-200/80",children:"LinZ will import ingredients from your confirmed meals into the active shopping list. Tap the bubble to ask for recipe ideas or substitutions."}),u.jsxs("button",{className:"mt-3 inline-flex items-center gap-2 text-xs text-primary-700 hover:text-primary-800 dark:text-primary-200",onClick:()=>{},children:[u.jsx(L4,{size:14})," Ask LinZ for a recipe"]})]})]})]})});return o&&m==="lists"?u.jsx("div",{children:"Loading shopping lists..."}):l?u.jsxs("div",{className:"text-error-500",children:["Error: ",l]}):u.jsxs("div",{id:"shopping-lists-panel",className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-1",children:"Shopping Lists"}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"Manage family shopping lists and track expenses"})]}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[u.jsxs("div",{className:"relative flex-1 md:flex-none md:min-w-[200px]",children:[u.jsx("input",{type:"text",placeholder:"Search lists...",value:T,onChange:F=>N(F.target.value),className:"w-full pl-10 pr-4 py-2 rounded-2xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"}),u.jsx(s0,{className:"absolute left-3 top-2.5 text-neutral-400 dark:text-neutral-500",size:18})]}),u.jsxs("button",{onClick:()=>f(!0),className:"flex items-center px-3 py-2 rounded-2xl bg-primary-500 text-white hover:bg-primary-600 dark:hover:bg-primary-400 transition-colors",children:[u.jsx(Hs,{size:18,className:"mr-2"}),u.jsx("span",{children:"New List"})]})]})]}),W(),m==="meal-planner"?Je():u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-neutral-800 rounded-2xl shadow-card overflow-hidden",children:[u.jsx("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"font-semibold text-neutral-900 dark:text-white",children:"Your Lists"}),u.jsx("div",{className:"flex items-center space-x-2"})]})}),u.jsx("div",{className:"divide-y divide-neutral-200 dark:divide-neutral-700",children:Ce.map(F=>u.jsxs("button",{onClick:()=>i(F),className:`w-full p-4 text-left transition-colors ${(s==null?void 0:s.ShoppingListID)===F.ShoppingListID?"bg-primary-50 dark:bg-primary-900/30":"hover:bg-neutral-50 dark:hover:bg-neutral-700"}`,children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"font-medium text-neutral-900 dark:text-white",children:F.Name}),u.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:new Date(F.CreatedAt).toLocaleDateString()})]}),u.jsx("div",{className:"mt-2 flex items-center justify-between text-sm",children:u.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:[F.ShoppingItems.length," items"]})})]},F.ShoppingListID))})]}),s?u.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-neutral-800 rounded-2xl shadow-card",children:[u.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-700",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-white",children:s.Name}),u.jsxs("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[q," of ",ae," items completed"]})]}),u.jsx("div",{className:"flex items-center space-x-2"})]}),u.jsx("div",{className:"mt-4 flex items-center justify-between",children:u.jsx("div",{className:"flex-1",children:u.jsx("div",{className:"h-2 bg-neutral-100 dark:bg-neutral-700 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-primary-500 rounded-full transition-all",style:{width:`${q/ae*100}%`}})})})})]}),u.jsxs("div",{className:"p-4",children:[u.jsxs("button",{onClick:()=>p(!0),className:"w-full p-3 rounded-xl border-2 border-dashed border-neutral-200 dark:border-neutral-700 text-neutral-500 dark:text-neutral-400 hover:border-primary-500 hover:text-primary-500 dark:hover:border-primary-400 dark:hover:text-primary-400 transition-colors",children:[u.jsx(Hs,{size:20,className:"mx-auto"}),u.jsx("span",{className:"block mt-1 text-sm",children:"Add Item"})]}),u.jsx("div",{className:"mt-4 space-y-2",children:s.ShoppingItems.map(F=>u.jsx(St.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`p-3 rounded-xl border border-neutral-200 dark:border-neutral-700 ${F.Completed?"bg-neutral-50 dark:bg-neutral-800/50":"bg-white dark:bg-neutral-800"}`,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("button",{onClick:()=>fe(F),className:`p-2 rounded-xl ${F.Completed?"text-primary-500 dark:text-primary-400":"text-neutral-400 dark:text-neutral-500 hover:text-primary-500 dark:hover:text-primary-400"}`,children:F.Completed?u.jsx(v4,{size:20}):u.jsx(sg,{size:20})}),u.jsxs("div",{className:"flex-1 ml-3",children:[u.jsx("div",{className:"flex items-center",children:u.jsx("h3",{className:`font-medium ${F.Completed?"text-neutral-400 dark:text-neutral-500 line-through":"text-neutral-900 dark:text-white"}`,children:F.Name})}),u.jsxs("div",{className:"mt-1 text-sm text-neutral-500 dark:text-neutral-400",children:[F.Quantity," ",F.Unit]})]})]})},F.ShoppingItemID))})]})]}):u.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-neutral-800 rounded-2xl shadow-card flex items-center justify-center p-8",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"h-16 w-16 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center text-primary-700 dark:text-primary-300 mx-auto mb-4",children:u.jsx(Sd,{size:32})}),u.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-white mb-2",children:"No list selected"}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"Select a list from the sidebar or create a new one"})]})})]}),u.jsx(Cn,{children:d&&u.jsx("div",{className:"fixed inset-0 bg-neutral-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsxs(St.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-lg max-w-lg w-full",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-700",children:[u.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-white",children:"Create New List"}),u.jsx("button",{onClick:()=>f(!1),className:"text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-300",children:""})]}),u.jsx("div",{className:"p-4",children:u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"List Name"}),u.jsx("input",{type:"text",value:A,onChange:F=>R(F.target.value),className:`w-full px-3 py-2 rounded-xl border ${$.newListName?"border-red-500":"border-neutral-200 dark:border-neutral-700"} bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400`,placeholder:"Enter list name"}),$.newListName&&u.jsx("p",{className:"text-red-500 text-xs mt-1",children:$.newListName})]})})}),u.jsxs("div",{className:"flex justify-end p-4 border-t border-neutral-200 dark:border-neutral-700 space-x-3",children:[u.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-xl",children:"Cancel"}),u.jsx("button",{onClick:te,className:"px-4 py-2 text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 dark:hover:bg-primary-400 rounded-xl",children:"Create List"})]})]})})}),u.jsx(Cn,{children:h&&u.jsx("div",{className:"fixed inset-0 bg-neutral-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsxs(St.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-lg max-w-lg w-full",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-700",children:[u.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-white",children:"Add New Item"}),u.jsx("button",{onClick:()=>p(!1),className:"text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-300",children:""})]}),u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Item Name"}),u.jsx("input",{type:"text",value:I,onChange:F=>O(F.target.value),className:`w-full px-3 py-2 rounded-xl border ${$.newItemName?"border-red-500":"border-neutral-200 dark:border-neutral-700"} bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400`,placeholder:"Enter item name"}),$.newItemName&&u.jsx("p",{className:"text-red-500 text-xs mt-1",children:$.newItemName})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Quantity"}),u.jsx("input",{type:"number",min:"1",value:j,onChange:F=>B(parseInt(F.target.value)),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Unit"}),u.jsx("input",{type:"text",value:X,onChange:F=>L(F.target.value),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400",placeholder:"e.g., pieces, lbs"})]})]})]})}),u.jsxs("div",{className:"flex justify-end p-4 border-t border-neutral-200 dark:border-neutral-700 space-x-3",children:[u.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-xl",children:"Cancel"}),u.jsx("button",{onClick:V,className:"px-4 py-2 text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 dark:hover:bg-primary-400 rounded-xl",children:"Add Item"})]})]})})})]})},H9="modulepreload",U9=function(e){return"/app/"+e},YS={},pa=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=U9(l),l in YS)return;YS[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":H9,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};function QS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Gd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(n),!0).forEach(function(r){p_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V9(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function $9(e,t){if(e==null)return{};var n=V9(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Oo(e,t){return W9(e)||G9(e,t)||q9(e,t)||Y9()}function W9(e){if(Array.isArray(e))return e}function G9(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],s=!0,i=!1,o,a;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));s=!0);}catch(l){i=!0,a=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw a}}return r}}function q9(e,t){if(e){if(typeof e=="string")return KS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KS(e,t)}}function KS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Q9=["src","checkForExisting"],Wa={},XS=function(t){var n=document.querySelector('script[src="'.concat(t,'"]'));if(n)return Wa[t]={loading:!1,error:null,scriptEl:n}},ZS=typeof window<"u"&&typeof window.document<"u";function K9(e){var t=e.src,n=e.checkForExisting,r=n===void 0?!1:n,s=$9(e,Q9),i=t?Wa[t]:void 0;!i&&r&&t&&ZS&&(i=XS(t));var o=x.useState(i?i.loading:!!t),a=Oo(o,2),l=a[0],c=a[1],d=x.useState(i?i.error:null),f=Oo(d,2),h=f[0],p=f[1],m=x.useState(!1),v=Oo(m,2),b=v[0],y=v[1];return x.useEffect(function(){if(!(!ZS||!t||b||h)){i=Wa[t],!i&&r&&(i=XS(t));var g;i?g=i.scriptEl:(g=document.createElement("script"),g.src=t,Object.keys(s).forEach(function(k){g[k]===void 0?g.setAttribute(k,s[k]):g[k]=s[k]}),i=Wa[t]={loading:!0,error:null,scriptEl:g});var w=function(){i&&(i.loading=!1),c(!1),y(!0)},S=function(E){i&&(i.error=E),p(E)};return g.addEventListener("load",w),g.addEventListener("error",S),document.body.appendChild(g),function(){g.removeEventListener("load",w),g.removeEventListener("error",S),i&&i.loading&&(g.remove(),delete Wa[t])}}},[t]),[l,h]}var X9=function(t,n,r){var s={};return delete Object.assign(s,t,p_({},r,t[n]))[n],s},Z9=function(t,n){var r={plaid:null,open:!1,onExitCallback:null};if(typeof window>"u"||!window.Plaid)throw new Error("Plaid not loaded");r.plaid=n(Gd(Gd({},t),{},{onExit:function(c,d){r.open=!1,t.onExit&&t.onExit(c,d),r.onExitCallback&&r.onExitCallback()}}));var s=function(){r.plaid&&(r.open=!0,r.onExitCallback=null,r.plaid.open())},i=function(c){r.plaid&&r.plaid.submit(c)},o=function(c,d){if(!r.open||!r.plaid){d&&d();return}r.onExitCallback=d,r.plaid.exit(c),c&&c.force&&(r.open=!1)},a=function(){r.plaid&&(r.plaid.destroy(),r.plaid=null)};return{open:s,submit:i,exit:o,destroy:a}},J9=function(t,n){var r=X9(t,"publicKey","key");return Z9(r,n)},eG="https://cdn.plaid.com/link/v2/stable/link-initialize.js",JS=function(){},tG=function(t){var n=K9({src:eG,checkForExisting:!0}),r=Oo(n,2),s=r[0],i=r[1],o=x.useState(null),a=Oo(o,2),l=a[0],c=a[1],d=x.useState(!1),f=Oo(d,2),h=f[0],p=f[1],m=(t.product||[]).slice().sort().join(",");x.useEffect(function(){if(!s&&!(!t.token&&!t.publicKey&&!t.receivedRedirectUri)){if(i||!window.Plaid){console.error("Error loading Plaid",i);return}l!=null&&l.exit({force:!0},function(){return l.destroy()});var y=J9(Gd(Gd({},t),{},{onLoad:function(){p(!0),t.onLoad&&t.onLoad()}}),window.Plaid.create);return c(y),function(){return y.exit({force:!0},function(){return y.destroy()})}}},[s,i,t.publicKey,t.token,m]);var v=l!=null&&(!s||h),b=function(){t.token||console.warn("react-plaid-link: You cannot call open() without a valid token supplied to usePlaidLink. This is a no-op.")};return{error:i,ready:v,submit:l?l.submit:JS,exit:l?l.exit:JS,open:l?l.open:b}},ek;(function(e){e.OPEN="OPEN",e.EXIT="EXIT",e.HANDOFF="HANDOFF",e.SELECT_INSTITUTION="SELECT_INSTITUTION",e.ERROR="ERROR",e.BANK_INCOME_INSIGHTS_COMPLETED="BANK_INCOME_INSIGHTS_COMPLETED",e.IDENTITY_VERIFICATION_PASS_SESSION="IDENTITY_VERIFICATION_PASS_SESSION",e.IDENTITY_VERIFICATION_FAIL_SESSION="IDENTITY_VERIFICATION_FAIL_SESSION"})(ek||(ek={}));function nG(e,t){const[n,r]=x.useState(e);return x.useEffect(()=>{const s=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(s)}},[e,t]),n}const rG=async e=>(await ie.get(`/budget/family/${e}`)).data,sG=async e=>(await ie.post("/budget",e)).data,iG=async(e,t)=>{await ie.put(`/budget/${e}`,t)},oG=async e=>{await ie.delete(`/budget/${e}`)},aG=async e=>(await ie.get(`/savings-goals/family/${e}`)).data,lG=async e=>(await ie.post("/savings-goals",e)).data,cG=async(e,t)=>{await ie.put(`/savings-goals/${e}`,t)},uG=async e=>{await ie.delete(`/savings-goals/${e}`)},dG=async(e,t)=>{const n=new URLSearchParams;return t&&(n.append("startDate",t.startDate.toISOString()),n.append("endDate",t.endDate.toISOString())),(await ie.post(`/transactions/accounts?${n.toString()}`,{accountIds:e})).data},fG=async e=>(await ie.post("/transactions",e)).data,tk=async e=>{const t=e?`/plaid/accounts?familyId=${e}`:"/plaid/accounts";return(await ie.get(t)).data},hG=async e=>{await ie.delete(`/plaid/accounts/${e}`)},pG=async(e,t)=>{await ie.put(`/plaid/accounts/${e}`,{customName:t})},nk=({onEdit:e,onDelete:t})=>{const[n,r]=x.useState(!1);return u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>r(!n),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:u.jsx($T,{size:18})}),u.jsx(Cn,{children:n&&u.jsxs(St.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-40 bg-white dark:bg-gray-800 rounded-lg shadow-lg z-10",children:[u.jsxs("button",{onClick:()=>{e(),r(!1)},className:"flex items-center w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[u.jsx(i0,{size:14,className:"mr-2"})," Edit"]}),u.jsxs("button",{onClick:()=>{t(),r(!1)},className:"flex items-center w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-gray-700",children:[u.jsx(pc,{size:14,className:"mr-2"})," Delete"]})]})})]})},Zf=0,ei=1,ma=2,m_=4;function rk(e){return()=>e}function mG(e){e()}function g_(e,t){return n=>e(t(n))}function sk(e,t){return()=>e(t)}function gG(e,t){return n=>e(t,n)}function nv(e){return e!==void 0}function yG(...e){return()=>{e.map(mG)}}function ga(){}function Jf(e,t){return t(e),e}function vG(e,t){return t(e)}function ot(...e){return e}function Xe(e,t){return e(ei,t)}function Ie(e,t){e(Zf,t)}function rv(e){e(ma)}function Ct(e){return e(m_)}function ye(e,t){return Xe(e,gG(t,Zf))}function fr(e,t){const n=e(ei,r=>{n(),t(r)});return n}function ik(e){let t,n;return r=>s=>{t=s,n&&clearTimeout(n),n=setTimeout(()=>{r(t)},e)}}function y_(e,t){return e===t}function st(e=y_){let t;return n=>r=>{e(t,r)||(t=r,n(r))}}function Ne(e){return t=>n=>{e(n)&&t(n)}}function ue(e){return t=>g_(t,e)}function Nr(e){return t=>()=>{t(e)}}function Q(e,...t){const n=xG(...t);return(r,s)=>{switch(r){case ma:rv(e);return;case ei:return Xe(e,n(s))}}}function Rr(e,t){return n=>r=>{n(t=e(t,r))}}function Bi(e){return t=>n=>{e>0?e--:t(n)}}function Qr(e){let t=null,n;return r=>s=>{t=s,!n&&(n=setTimeout(()=>{n=void 0,r(t)},e))}}function Me(...e){const t=new Array(e.length);let n=0,r=null;const s=Math.pow(2,e.length)-1;return e.forEach((i,o)=>{const a=Math.pow(2,o);Xe(i,l=>{const c=n;n=n|a,t[o]=l,c!==s&&n===s&&r&&(r(),r=null)})}),i=>o=>{const a=()=>{i([o].concat(t))};n===s?a():r=a}}function xG(...e){return t=>e.reduceRight(vG,t)}function bG(e){let t,n;const r=()=>t==null?void 0:t();return function(s,i){switch(s){case ei:return i?n===i?void 0:(r(),n=i,t=Xe(e,i),t):(r(),ga);case ma:r(),n=null;return}}}function se(e){let t=e;const n=Ue();return(r,s)=>{switch(r){case Zf:t=s;break;case ei:{s(t);break}case m_:return t}return n(r,s)}}function tn(e,t){return Jf(se(t),n=>ye(e,n))}function Ue(){const e=[];return(t,n)=>{switch(t){case Zf:e.slice().forEach(r=>{r(n)});return;case ma:e.splice(0,e.length);return;case ei:return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)}}}}function On(e){return Jf(Ue(),t=>ye(e,t))}function Ye(e,t=[],{singleton:n}={singleton:!0}){return{constructor:e,dependencies:t,id:wG(),singleton:n}}const wG=()=>Symbol();function SG(e){const t=new Map,n=({constructor:r,dependencies:s,id:i,singleton:o})=>{if(o&&t.has(i))return t.get(i);const a=r(s.map(l=>n(l)));return o&&t.set(i,a),a};return n(e)}function Rt(...e){const t=Ue(),n=new Array(e.length);let r=0;const s=Math.pow(2,e.length)-1;return e.forEach((i,o)=>{const a=Math.pow(2,o);Xe(i,l=>{n[o]=l,r=r|a,r===s&&Ie(t,n)})}),function(i,o){switch(i){case ma:{rv(t);return}case ei:return r===s&&o(n),Xe(t,o)}}}function ke(e,t=y_){return Q(e,st(t))}function Pg(...e){return function(t,n){switch(t){case ma:return;case ei:return yG(...e.map(r=>Xe(r,n)))}}}var Tn=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(Tn||{});const kG={0:"debug",3:"error",1:"log",2:"warn"},EG=()=>typeof globalThis>"u"?window:globalThis,ti=Ye(()=>{const e=se(3);return{log:se((t,n,r=1)=>{var s;const i=(s=EG().VIRTUOSO_LOG_LEVEL)!=null?s:Ct(e);r>=i&&console[kG[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)}),logLevel:e}},[],{singleton:!0});function Xi(e,t,n){return sv(e,t,n).callbackRef}function sv(e,t,n){const r=H.useRef(null);let s=o=>{};const i=H.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(o=>{const a=()=>{const l=o[0].target;l.offsetParent!==null&&e(l)};n?a():requestAnimationFrame(a)}):null,[e,n]);return s=o=>{o&&t?(i==null||i.observe(o),r.current=o):(r.current&&(i==null||i.unobserve(r.current)),r.current=null)},{callbackRef:s,ref:r}}function CG(e,t,n,r,s,i,o,a,l){const c=H.useCallback(d=>{const f=TG(d.children,t,a?"offsetWidth":"offsetHeight",s);let h=d.parentElement;for(;!h.dataset.virtuosoScroller;)h=h.parentElement;const p=h.lastElementChild.dataset.viewportType==="window";let m;p&&(m=h.ownerDocument.defaultView);const v=o?a?o.scrollLeft:o.scrollTop:p?a?m.scrollX||m.document.documentElement.scrollLeft:m.scrollY||m.document.documentElement.scrollTop:a?h.scrollLeft:h.scrollTop,b=o?a?o.scrollWidth:o.scrollHeight:p?a?m.document.documentElement.scrollWidth:m.document.documentElement.scrollHeight:a?h.scrollWidth:h.scrollHeight,y=o?a?o.offsetWidth:o.offsetHeight:p?a?m.innerWidth:m.innerHeight:a?h.offsetWidth:h.offsetHeight;r({scrollHeight:b,scrollTop:Math.max(v,0),viewportHeight:y}),i==null||i(a?ok("column-gap",getComputedStyle(d).columnGap,s):ok("row-gap",getComputedStyle(d).rowGap,s)),f!==null&&e(f)},[e,t,s,i,o,r,a]);return sv(c,n,l)}function TG(e,t,n,r){const s=e.length;if(s===0)return null;const i=[];for(let o=0;o<s;o++){const a=e.item(o);if(a.dataset.index===void 0)continue;const l=parseInt(a.dataset.index),c=parseFloat(a.dataset.knownSize),d=t(a,n);if(d===0&&r("Zero-sized element, this should not happen",{child:a},Tn.ERROR),d===c)continue;const f=i[i.length-1];i.length===0||f.size!==d||f.endIndex!==l-1?i.push({endIndex:l,size:d,startIndex:l}):i[i.length-1].endIndex++}return i}function ok(e,t,n){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,Tn.WARN),t==="normal"?0:parseInt(t??"0",10)}function v_(e,t,n){const r=H.useRef(null),s=H.useCallback(l=>{if(!(l!=null&&l.offsetParent))return;const c=l.getBoundingClientRect(),d=c.width;let f,h;if(t){const p=t.getBoundingClientRect(),m=c.top-p.top;h=p.height-Math.max(0,m),f=m+t.scrollTop}else{const p=o.current.ownerDocument.defaultView;h=p.innerHeight-Math.max(0,c.top),f=c.top+p.scrollY}r.current={offsetTop:f,visibleHeight:h,visibleWidth:d},e(r.current)},[e,t]),{callbackRef:i,ref:o}=sv(s,!0,n),a=H.useCallback(()=>{s(o.current)},[s,o]);return H.useEffect(()=>{var l;if(t){t.addEventListener("scroll",a);const c=new ResizeObserver(()=>{requestAnimationFrame(a)});return c.observe(t),()=>{t.removeEventListener("scroll",a),c.unobserve(t)}}else{const c=(l=o.current)==null?void 0:l.ownerDocument.defaultView;return c==null||c.addEventListener("scroll",a),c==null||c.addEventListener("resize",a),()=>{c==null||c.removeEventListener("scroll",a),c==null||c.removeEventListener("resize",a)}}},[a,t,o]),i}const pn=Ye(()=>{const e=Ue(),t=Ue(),n=se(0),r=Ue(),s=se(0),i=Ue(),o=Ue(),a=se(0),l=se(0),c=se(0),d=se(0),f=Ue(),h=Ue(),p=se(!1),m=se(!1),v=se(!1);return ye(Q(e,ue(({scrollTop:b})=>b)),t),ye(Q(e,ue(({scrollHeight:b})=>b)),o),ye(t,s),{deviation:n,fixedFooterHeight:c,fixedHeaderHeight:l,footerHeight:d,headerHeight:a,horizontalDirection:m,scrollBy:h,scrollContainerState:e,scrollHeight:o,scrollingInProgress:p,scrollTo:f,scrollTop:t,skipAnimationFrameInResizeObserver:v,smoothScrollTargetReached:r,statefulScrollTop:s,viewportHeight:i}},[],{singleton:!0}),Gl={lvl:0};function x_(e,t){const n=e.length;if(n===0)return[];let{index:r,value:s}=t(e[0]);const i=[];for(let o=1;o<n;o++){const{index:a,value:l}=t(e[o]);i.push({end:a-1,start:r,value:s}),r=a,s=l}return i.push({end:1/0,start:r,value:s}),i}function et(e){return e===Gl}function ql(e,t){if(!et(e))return t===e.k?e.v:t<e.k?ql(e.l,t):ql(e.r,t)}function mr(e,t,n="k"){if(et(e))return[-1/0,void 0];if(Number(e[n])===t)return[e.k,e.v];if(Number(e[n])<t){const r=mr(e.r,t,n);return r[0]===-1/0?[e.k,e.v]:r}return mr(e.l,t,n)}function _n(e,t,n){return et(e)?S_(t,n,1):t===e.k?Pt(e,{k:t,v:n}):t<e.k?ak(Pt(e,{l:_n(e.l,t,n)})):ak(Pt(e,{r:_n(e.r,t,n)}))}function Mo(){return Gl}function eh(e,t,n){if(et(e))return[];const r=mr(e,t)[0];return NG(Mg(e,r,n))}function Og(e,t){if(et(e))return Gl;const{k:n,l:r,r:s}=e;if(t===n){if(et(r))return s;if(et(s))return r;{const[i,o]=w_(r);return zu(Pt(e,{k:i,l:b_(r),v:o}))}}else return t<n?zu(Pt(e,{l:Og(r,t)})):zu(Pt(e,{r:Og(s,t)}))}function Si(e){return et(e)?[]:[...Si(e.l),{k:e.k,v:e.v},...Si(e.r)]}function Mg(e,t,n){if(et(e))return[];const{k:r,l:s,r:i,v:o}=e;let a=[];return r>t&&(a=a.concat(Mg(s,t,n))),r>=t&&r<=n&&a.push({k:r,v:o}),r<=n&&(a=a.concat(Mg(i,t,n))),a}function zu(e){const{l:t,lvl:n,r}=e;if(r.lvl>=n-1&&t.lvl>=n-1)return e;if(n>r.lvl+1){if(Pp(t))return k_(Pt(e,{lvl:n-1}));if(!et(t)&&!et(t.r))return Pt(t.r,{l:Pt(t,{r:t.r.l}),lvl:n,r:Pt(e,{l:t.r.r,lvl:n-1})});throw new Error("Unexpected empty nodes")}else{if(Pp(e))return Lg(Pt(e,{lvl:n-1}));if(!et(r)&&!et(r.l)){const s=r.l,i=Pp(s)?r.lvl-1:r.lvl;return Pt(s,{l:Pt(e,{lvl:n-1,r:s.l}),lvl:s.lvl+1,r:Lg(Pt(r,{l:s.r,lvl:i}))})}else throw new Error("Unexpected empty nodes")}}function Pt(e,t){return S_(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function b_(e){return et(e.r)?e.l:zu(Pt(e,{r:b_(e.r)}))}function Pp(e){return et(e)||e.lvl>e.r.lvl}function w_(e){return et(e.r)?[e.k,e.v]:w_(e.r)}function S_(e,t,n,r=Gl,s=Gl){return{k:e,l:r,lvl:n,r:s,v:t}}function ak(e){return Lg(k_(e))}function k_(e){const{l:t}=e;return!et(t)&&t.lvl===e.lvl?Pt(t,{r:Pt(e,{l:t.r})}):e}function Lg(e){const{lvl:t,r:n}=e;return!et(n)&&!et(n.r)&&n.lvl===t&&n.r.lvl===t?Pt(n,{l:Pt(e,{r:n.l}),lvl:t+1}):e}function NG(e){return x_(e,({k:t,v:n})=>({index:t,value:n}))}function E_(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}function Yl(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}const iv=Ye(()=>({recalcInProgress:se(!1)}),[],{singleton:!0});function C_(e,t,n){return e[qd(e,t,n)]}function qd(e,t,n,r=0){let s=e.length-1;for(;r<=s;){const i=Math.floor((r+s)/2),o=e[i],a=n(o,t);if(a===0)return i;if(a===-1){if(s-r<2)return i-1;s=i-1}else{if(s===r)return i;r=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function AG(e,t,n,r){const s=qd(e,t,r),i=qd(e,n,r,s);return e.slice(s,i+1)}function Gs(e,t){return Math.round(e.getBoundingClientRect()[t])}function th(e){return!et(e.groupOffsetTree)}function ov({index:e},t){return t===e?0:t<e?-1:1}function jG(){return{groupIndices:[],groupOffsetTree:Mo(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:Mo()}}function _G(e,t){let n=et(e)?0:1/0;for(const r of t){const{endIndex:s,size:i,startIndex:o}=r;if(n=Math.min(n,o),et(e)){e=_n(e,0,i);continue}const a=eh(e,o-1,s+1);if(a.some(LG(r)))continue;let l=!1,c=!1;for(const{end:d,start:f,value:h}of a)l?(s>=f||i===h)&&(e=Og(e,f)):(c=h!==i,l=!0),d>s&&s>=f&&h!==i&&(e=_n(e,s+1,h));c&&(e=_n(e,o,i))}return[e,n]}function RG(e){return typeof e.groupIndex<"u"}function DG({offset:e},t){return t===e?0:t<e?-1:1}function Ql(e,t,n){if(t.length===0)return 0;const{index:r,offset:s,size:i}=C_(t,e,ov),o=e-r,a=i*o+(o-1)*n+s;return a>0?a+n:a}function T_(e,t){if(!th(t))return e;let n=0;for(;t.groupIndices[n]<=e+n;)n++;return e+n}function N_(e,t,n){if(RG(e))return t.groupIndices[e.groupIndex]+1;{const r=e.index==="LAST"?n:e.index;let s=T_(r,t);return s=Math.max(0,s,Math.min(n,s)),s}}function IG(e,t,n,r=0){return r>0&&(t=Math.max(t,C_(e,r,ov).offset)),x_(AG(e,t,n,DG),MG)}function PG(e,[t,n,r,s]){t.length>0&&r("received item sizes",t,Tn.DEBUG);const i=e.sizeTree;let o=i,a=0;if(n.length>0&&et(i)&&t.length===2){const h=t[0].size,p=t[1].size;o=n.reduce((m,v)=>_n(_n(m,v,h),v+1,p),o)}else[o,a]=_G(o,t);if(o===i)return e;const{lastIndex:l,lastOffset:c,lastSize:d,offsetTree:f}=Fg(e.offsetTree,a,o,s);return{groupIndices:n,groupOffsetTree:n.reduce((h,p)=>_n(h,p,Ql(p,f,s)),Mo()),lastIndex:l,lastOffset:c,lastSize:d,offsetTree:f,sizeTree:o}}function OG(e){return Si(e).map(({k:t,v:n},r,s)=>{const i=s[r+1];return{endIndex:i?i.k-1:1/0,size:n,startIndex:t}})}function lk(e,t){let n=0,r=0;for(;n<e;)n+=t[r+1]-t[r]-1,r++;return r-(n===e?0:1)}function Fg(e,t,n,r){let s=e,i=0,o=0,a=0,l=0;if(t!==0){l=qd(s,t-1,ov),a=s[l].offset;const c=mr(n,t-1);i=c[0],o=c[1],s.length&&s[l].size===mr(n,t)[1]&&(l-=1),s=s.slice(0,l+1)}else s=[];for(const{start:c,value:d}of eh(n,t,1/0)){const f=c-i,h=f*o+a+f*r;s.push({index:c,offset:h,size:d}),i=c,a=h,o=d}return{lastIndex:i,lastOffset:a,lastSize:o,offsetTree:s}}function MG(e){return{index:e.index,value:e}}function LG(e){const{endIndex:t,size:n,startIndex:r}=e;return s=>s.start===r&&(s.end===t||s.end===1/0)&&s.value===n}const FG={offsetHeight:"height",offsetWidth:"width"},zr=Ye(([{log:e},{recalcInProgress:t}])=>{const n=Ue(),r=Ue(),s=tn(r,0),i=Ue(),o=Ue(),a=se(0),l=se([]),c=se(void 0),d=se(void 0),f=se((k,E)=>Gs(k,FG[E])),h=se(void 0),p=se(0),m=jG(),v=tn(Q(n,Me(l,e,p),Rr(PG,m),st()),m),b=tn(Q(l,st(),Rr((k,E)=>({current:E,prev:k.current}),{current:[],prev:[]}),ue(({prev:k})=>k)),[]);ye(Q(l,Ne(k=>k.length>0),Me(v,p),ue(([k,E,C])=>{const T=k.reduce((N,A,R)=>_n(N,A,Ql(A,E.offsetTree,C)||R),Mo());return{...E,groupIndices:k,groupOffsetTree:T}})),v),ye(Q(r,Me(v),Ne(([k,{lastIndex:E}])=>k<E),ue(([k,{lastIndex:E,lastSize:C}])=>[{endIndex:E,size:C,startIndex:k}])),n),ye(c,d);const y=tn(Q(c,ue(k=>k===void 0)),!0);ye(Q(d,Ne(k=>k!==void 0&&et(Ct(v).sizeTree)),ue(k=>[{endIndex:0,size:k,startIndex:0}])),n);const g=On(Q(n,Me(v),Rr(({sizes:k},[E,C])=>({changed:C!==k,sizes:C}),{changed:!1,sizes:m}),ue(k=>k.changed)));Xe(Q(a,Rr((k,E)=>({diff:k.prev-E,prev:E}),{diff:0,prev:0}),ue(k=>k.diff)),k=>{const{groupIndices:E}=Ct(v);if(k>0)Ie(t,!0),Ie(i,k+lk(k,E));else if(k<0){const C=Ct(b);C.length>0&&(k-=lk(-k,C)),Ie(o,k)}}),Xe(Q(a,Me(e)),([k,E])=>{k<0&&E("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:a},Tn.ERROR)});const w=On(i);ye(Q(i,Me(v),ue(([k,E])=>{const C=E.groupIndices.length>0,T=[],N=E.lastSize;if(C){const A=ql(E.sizeTree,0);let R=0,I=0;for(;R<k;){const j=E.groupIndices[I],B=E.groupIndices.length===I+1?1/0:E.groupIndices[I+1]-j-1;T.push({endIndex:j,size:A,startIndex:j}),T.push({endIndex:j+1+B-1,size:N,startIndex:j+1}),I++,R+=B+1}const O=Si(E.sizeTree);return R!==k&&O.shift(),O.reduce((j,{k:B,v:U})=>{let X=j.ranges;return j.prevSize!==0&&(X=[...j.ranges,{endIndex:B+k-1,size:j.prevSize,startIndex:j.prevIndex}]),{prevIndex:B+k,prevSize:U,ranges:X}},{prevIndex:k,prevSize:0,ranges:T}).ranges}return Si(E.sizeTree).reduce((A,{k:R,v:I})=>({prevIndex:R+k,prevSize:I,ranges:[...A.ranges,{endIndex:R+k-1,size:A.prevSize,startIndex:A.prevIndex}]}),{prevIndex:0,prevSize:N,ranges:[]}).ranges})),n);const S=On(Q(o,Me(v,p),ue(([k,{offsetTree:E},C])=>{const T=-k;return Ql(T,E,C)})));return ye(Q(o,Me(v,p),ue(([k,E,C])=>{if(E.groupIndices.length>0){if(et(E.sizeTree))return E;let T=Mo();const N=Ct(b);let A=0,R=0,I=0;for(;A<-k;){I=N[R];const O=N[R+1]-I-1;R++,A+=O+1}if(T=Si(E.sizeTree).reduce((O,{k:j,v:B})=>_n(O,Math.max(0,j+k),B),T),A!==-k){const O=ql(E.sizeTree,I);T=_n(T,0,O);const j=mr(E.sizeTree,-k+1)[1];T=_n(T,1,j)}return{...E,sizeTree:T,...Fg(E.offsetTree,0,T,C)}}else{const T=Si(E.sizeTree).reduce((N,{k:A,v:R})=>_n(N,Math.max(0,A+k),R),Mo());return{...E,sizeTree:T,...Fg(E.offsetTree,0,T,C)}}})),v),{beforeUnshiftWith:w,data:h,defaultItemSize:d,firstItemIndex:a,fixedItemSize:c,gap:p,groupIndices:l,itemSize:f,listRefresh:g,shiftWith:o,shiftWithOffset:S,sizeRanges:n,sizes:v,statefulTotalCount:s,totalCount:r,trackItemSizes:y,unshiftWith:i}},ot(ti,iv),{singleton:!0});function BG(e){return e.reduce((t,n)=>(t.groupIndices.push(t.totalCount),t.totalCount+=n+1,t),{groupIndices:[],totalCount:0})}const A_=Ye(([{groupIndices:e,sizes:t,totalCount:n},{headerHeight:r,scrollTop:s}])=>{const i=Ue(),o=Ue(),a=On(Q(i,ue(BG)));return ye(Q(a,ue(l=>l.totalCount)),n),ye(Q(a,ue(l=>l.groupIndices)),e),ye(Q(Rt(s,t,r),Ne(([l,c])=>th(c)),ue(([l,c,d])=>mr(c.groupOffsetTree,Math.max(l-d,0),"v")[0]),st(),ue(l=>[l])),o),{groupCounts:i,topItemsIndexes:o}},ot(zr,pn)),ni=Ye(([{log:e}])=>{const t=se(!1),n=On(Q(t,Ne(r=>r),st()));return Xe(t,r=>{r&&Ct(e)("props updated",{},Tn.DEBUG)}),{didMount:n,propsReady:t}},ot(ti),{singleton:!0}),zG=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function j_(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!zG)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const kc=Ye(([{gap:e,listRefresh:t,sizes:n,totalCount:r},{fixedFooterHeight:s,fixedHeaderHeight:i,footerHeight:o,headerHeight:a,scrollingInProgress:l,scrollTo:c,smoothScrollTargetReached:d,viewportHeight:f},{log:h}])=>{const p=Ue(),m=Ue(),v=se(0);let b=null,y=null,g=null;function w(){b&&(b(),b=null),g&&(g(),g=null),y&&(clearTimeout(y),y=null),Ie(l,!1)}return ye(Q(p,Me(n,f,r,v,a,o,h),Me(e,i,s),ue(([[S,k,E,C,T,N,A,R],I,O,j])=>{const B=j_(S),{align:U,behavior:X,offset:L}=B,$=C-1,ne=N_(B,k,$);let K=Ql(ne,k.offsetTree,I)+N;U==="end"?(K+=O+mr(k.sizeTree,ne)[1]-E+j,ne===$&&(K+=A)):U==="center"?K+=(O+mr(k.sizeTree,ne)[1]-E+j)/2:K-=T,L&&(K+=L);const ee=ce=>{w(),ce?(R("retrying to scroll to",{location:S},Tn.DEBUG),Ie(p,S)):(Ie(m,!0),R("list did not change, scroll successful",{},Tn.DEBUG))};if(w(),X==="smooth"){let ce=!1;g=Xe(t,te=>{ce=ce||te}),b=fr(d,()=>{ee(ce)})}else b=fr(Q(t,HG(150)),ee);return y=setTimeout(()=>{w()},1200),Ie(l,!0),R("scrolling from index to",{behavior:X,index:ne,top:K},Tn.DEBUG),{behavior:X,top:K}})),c),{scrollTargetReached:m,scrollToIndex:p,topListHeight:v}},ot(zr,pn,ti),{singleton:!0});function HG(e){return t=>{const n=setTimeout(()=>{t(!1)},e);return r=>{r&&(t(!0),clearTimeout(n))}}}function av(e,t){e==0?t():requestAnimationFrame(()=>{av(e-1,t)})}function lv(e,t){const n=t-1;return typeof e=="number"?e:e.index==="LAST"?n:e.index}const Ec=Ye(([{defaultItemSize:e,listRefresh:t,sizes:n},{scrollTop:r},{scrollTargetReached:s,scrollToIndex:i},{didMount:o}])=>{const a=se(!0),l=se(0),c=se(!0);return ye(Q(o,Me(l),Ne(([d,f])=>!!f),Nr(!1)),a),ye(Q(o,Me(l),Ne(([d,f])=>!!f),Nr(!1)),c),Xe(Q(Rt(t,o),Me(a,n,e,c),Ne(([[,d],f,{sizeTree:h},p,m])=>d&&(!et(h)||nv(p))&&!f&&!m),Me(l)),([,d])=>{fr(s,()=>{Ie(c,!0)}),av(4,()=>{fr(r,()=>{Ie(a,!0)}),Ie(i,d)})}),{initialItemFinalLocationReached:c,initialTopMostItemIndex:l,scrolledToInitialItem:a}},ot(zr,pn,kc,ni),{singleton:!0});function __(e,t){return Math.abs(e-t)<1.01}const Kl="up",fl="down",UG="none",VG={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},$G=0,Cc=Ye(([{footerHeight:e,headerHeight:t,scrollBy:n,scrollContainerState:r,scrollTop:s,viewportHeight:i}])=>{const o=se(!1),a=se(!0),l=Ue(),c=Ue(),d=se(4),f=se($G),h=tn(Q(Pg(Q(ke(s),Bi(1),Nr(!0)),Q(ke(s),Bi(1),Nr(!1),ik(100))),st()),!1),p=tn(Q(Pg(Q(n,Nr(!0)),Q(n,Nr(!1),ik(200))),st()),!1);ye(Q(Rt(ke(s),ke(f)),ue(([g,w])=>g<=w),st()),a),ye(Q(a,Qr(50)),c);const m=On(Q(Rt(r,ke(i),ke(t),ke(e),ke(d)),Rr((g,[{scrollHeight:w,scrollTop:S},k,E,C,T])=>{const N=S+k-w>-T,A={scrollHeight:w,scrollTop:S,viewportHeight:k};if(N){let I,O;return S>g.state.scrollTop?(I="SCROLLED_DOWN",O=g.state.scrollTop-S):(I="SIZE_DECREASED",O=g.state.scrollTop-S||g.scrollTopDelta),{atBottom:!0,atBottomBecause:I,scrollTopDelta:O,state:A}}let R;return A.scrollHeight>g.state.scrollHeight?R="SIZE_INCREASED":k<g.state.viewportHeight?R="VIEWPORT_HEIGHT_DECREASING":S<g.state.scrollTop?R="SCROLLING_UPWARDS":R="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:R,state:A}},VG),st((g,w)=>g&&g.atBottom===w.atBottom))),v=tn(Q(r,Rr((g,{scrollHeight:w,scrollTop:S,viewportHeight:k})=>{if(__(g.scrollHeight,w))return{changed:!1,jump:0,scrollHeight:w,scrollTop:S};{const E=w-(S+k)<1;return g.scrollTop!==S&&E?{changed:!0,jump:g.scrollTop-S,scrollHeight:w,scrollTop:S}:{changed:!0,jump:0,scrollHeight:w,scrollTop:S}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),Ne(g=>g.changed),ue(g=>g.jump)),0);ye(Q(m,ue(g=>g.atBottom)),o),ye(Q(o,Qr(50)),l);const b=se(fl);ye(Q(r,ue(({scrollTop:g})=>g),st(),Rr((g,w)=>Ct(p)?{direction:g.direction,prevScrollTop:w}:{direction:w<g.prevScrollTop?Kl:fl,prevScrollTop:w},{direction:fl,prevScrollTop:0}),ue(g=>g.direction)),b),ye(Q(r,Qr(50),Nr(UG)),b);const y=se(0);return ye(Q(h,Ne(g=>!g),Nr(0)),y),ye(Q(s,Qr(100),Me(h),Ne(([g,w])=>!!w),Rr(([g,w],[S])=>[w,S],[0,0]),ue(([g,w])=>w-g)),y),{atBottomState:m,atBottomStateChange:l,atBottomThreshold:d,atTopStateChange:c,atTopThreshold:f,isAtBottom:o,isAtTop:a,isScrolling:h,lastJumpDueToItemResize:v,scrollDirection:b,scrollVelocity:y}},ot(pn)),Yd="top",Qd="bottom",ck="none";function uk(e,t,n){return typeof e=="number"?n===Kl&&t===Yd||n===fl&&t===Qd?e:0:n===Kl?t===Yd?e.main:e.reverse:t===Qd?e.main:e.reverse}function dk(e,t){var n;return typeof e=="number"?e:(n=e[t])!=null?n:0}const cv=Ye(([{deviation:e,fixedHeaderHeight:t,headerHeight:n,scrollTop:r,viewportHeight:s}])=>{const i=Ue(),o=se(0),a=se(0),l=se(0),c=tn(Q(Rt(ke(r),ke(s),ke(n),ke(i,Yl),ke(l),ke(o),ke(t),ke(e),ke(a)),ue(([d,f,h,[p,m],v,b,y,g,w])=>{const S=d-g,k=b+y,E=Math.max(h-S,0);let C=ck;const T=dk(w,Yd),N=dk(w,Qd);return p-=g,p+=h+y,m+=h+y,m-=g,p>d+k-T&&(C=Kl),m<d-E+f+N&&(C=fl),C!==ck?[Math.max(S-h-uk(v,Yd,C)-T,0),S-E-y+f+uk(v,Qd,C)+N]:null}),Ne(d=>d!=null),st(Yl)),[0,0]);return{increaseViewportBy:a,listBoundary:i,overscan:l,topListHeight:o,visibleRange:c}},ot(pn),{singleton:!0});function WG(e,t,n){if(th(t)){const r=T_(e,t);return[{index:mr(t.groupOffsetTree,r)[0],offset:0,size:0},{data:n==null?void 0:n[0],index:r,offset:0,size:0}]}return[{data:n==null?void 0:n[0],index:e,offset:0,size:0}]}const Op={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function Hu(e,t,n,r,s,i){const{lastIndex:o,lastOffset:a,lastSize:l}=s;let c=0,d=0;if(e.length>0){c=e[0].offset;const v=e[e.length-1];d=v.offset+v.size}const f=n-o,h=a+f*l+(f-1)*r,p=c,m=h-d;return{bottom:d,firstItemIndex:i,items:fk(e,s,i),offsetBottom:m,offsetTop:c,top:p,topItems:fk(t,s,i),topListHeight:t.reduce((v,b)=>b.size+v,0),totalCount:n}}function R_(e,t,n,r,s,i){let o=0;if(n.groupIndices.length>0)for(const d of n.groupIndices){if(d-o>=e)break;o++}const a=e+o,l=lv(t,a),c=Array.from({length:a}).map((d,f)=>({data:i[f+l],index:f+l,offset:0,size:0}));return Hu(c,[],a,s,n,r)}function fk(e,t,n){if(e.length===0)return[];if(!th(t))return e.map(c=>({...c,index:c.index+n,originalIndex:c.index}));const r=e[0].index,s=e[e.length-1].index,i=[],o=eh(t.groupOffsetTree,r,s);let a,l=0;for(const c of e){(!a||a.end<c.index)&&(a=o.shift(),l=t.groupIndices.indexOf(a.start));let d;c.index===a.start?d={index:l,type:"group"}:d={groupIndex:l,index:c.index-(l+1)+n},i.push({...d,data:c.data,offset:c.offset,originalIndex:c.index,size:c.size})}return i}const Zi=Ye(([{data:e,firstItemIndex:t,gap:n,sizes:r,totalCount:s},i,{listBoundary:o,topListHeight:a,visibleRange:l},{initialTopMostItemIndex:c,scrolledToInitialItem:d},{topListHeight:f},h,{didMount:p},{recalcInProgress:m}])=>{const v=se([]),b=se(0),y=Ue();ye(i.topItemsIndexes,v);const g=tn(Q(Rt(p,m,ke(l,Yl),ke(s),ke(r),ke(c),d,ke(v),ke(t),ke(n),e),Ne(([E,C,,T,,,,,,,N])=>{const A=N&&N.length!==T;return E&&!C&&!A}),ue(([,,[E,C],T,N,A,R,I,O,j,B])=>{const U=N,{offsetTree:X,sizeTree:L}=U,$=Ct(b);if(T===0)return{...Op,totalCount:T};if(E===0&&C===0)return $===0?{...Op,totalCount:T}:R_($,A,N,O,j,B||[]);if(et(L))return $>0?null:Hu(WG(lv(A,T),U,B),[],T,j,U,O);const ne=[];if(I.length>0){const V=I[0],fe=I[I.length-1];let Ce=0;for(const q of eh(L,V,fe)){const ae=q.value,W=Math.max(q.start,V),J=Math.min(q.end,fe);for(let pe=W;pe<=J;pe++)ne.push({data:B==null?void 0:B[pe],index:pe,offset:Ce,size:ae}),Ce+=ae}}if(!R)return Hu([],ne,T,j,U,O);const K=I.length>0?I[I.length-1]+1:0,ee=IG(X,E,C,K);if(ee.length===0)return null;const ce=T-1,te=Jf([],V=>{for(const fe of ee){const Ce=fe.value;let q=Ce.offset,ae=fe.start;const W=Ce.size;if(Ce.offset<E){ae+=Math.floor((E-Ce.offset+j)/(W+j));const pe=ae-fe.start;q+=pe*W+pe*j}ae<K&&(q+=(K-ae)*W,ae=K);const J=Math.min(fe.end,ce);for(let pe=ae;pe<=J&&!(q>=C);pe++)V.push({data:B==null?void 0:B[pe],index:pe,offset:q,size:W}),q+=W+j}});return Hu(te,ne,T,j,U,O)}),Ne(E=>E!==null),st()),Op);ye(Q(e,Ne(nv),ue(E=>E==null?void 0:E.length)),s),ye(Q(g,ue(E=>E.topListHeight)),f),ye(f,a),ye(Q(g,ue(E=>[E.top,E.bottom])),o),ye(Q(g,ue(E=>E.items)),y);const w=On(Q(g,Ne(({items:E})=>E.length>0),Me(s,e),Ne(([{items:E},C])=>E[E.length-1].originalIndex===C-1),ue(([,E,C])=>[E-1,C]),st(Yl),ue(([E])=>E))),S=On(Q(g,Qr(200),Ne(({items:E,topItems:C})=>E.length>0&&E[0].originalIndex===C.length),ue(({items:E})=>E[0].index),st())),k=On(Q(g,Ne(({items:E})=>E.length>0),ue(({items:E})=>{let C=0,T=E.length-1;for(;E[C].type==="group"&&C<T;)C++;for(;E[T].type==="group"&&T>C;)T--;return{endIndex:E[T].index,startIndex:E[C].index}}),st(E_)));return{endReached:w,initialItemCount:b,itemsRendered:y,listState:g,rangeChanged:k,startReached:S,topItemsIndexes:v,...h}},ot(zr,A_,cv,Ec,kc,Cc,ni,iv),{singleton:!0}),D_=Ye(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:n,headerHeight:r},{listState:s}])=>{const i=Ue(),o=tn(Q(Rt(n,e,r,t,s),ue(([a,l,c,d,f])=>a+l+c+d+f.offsetBottom+f.bottom)),0);return ye(ke(o),i),{totalListHeight:o,totalListHeightChanged:i}},ot(pn,Zi),{singleton:!0}),GG=Ye(([{viewportHeight:e},{totalListHeight:t}])=>{const n=se(!1),r=tn(Q(Rt(n,e,t),Ne(([s])=>s),ue(([,s,i])=>Math.max(0,s-i)),Qr(0),st()),0);return{alignToBottom:n,paddingTopAddition:r}},ot(pn,D_),{singleton:!0}),I_=Ye(()=>({context:se(null)})),qG=({itemBottom:e,itemTop:t,locationParams:{align:n,behavior:r,...s},viewportBottom:i,viewportTop:o})=>t<o?{...s,align:n??"start",behavior:r}:e>i?{...s,align:n??"end",behavior:r}:null,P_=Ye(([{gap:e,sizes:t,totalCount:n},{fixedFooterHeight:r,fixedHeaderHeight:s,headerHeight:i,scrollingInProgress:o,scrollTop:a,viewportHeight:l},{scrollToIndex:c}])=>{const d=Ue();return ye(Q(d,Me(t,l,n,i,s,r,a),Me(e),ue(([[f,h,p,m,v,b,y,g],w])=>{const{align:S,behavior:k,calculateViewLocation:E=qG,done:C,...T}=f,N=N_(f,h,m-1),A=Ql(N,h.offsetTree,w)+v+b,R=A+mr(h.sizeTree,N)[1],I=g+b,O=g+p-y,j=E({itemBottom:R,itemTop:A,locationParams:{align:S,behavior:k,...T},viewportBottom:O,viewportTop:I});return j?C&&fr(Q(o,Ne(B=>!B),Bi(Ct(o)?1:2)),C):C&&C(),j}),Ne(f=>f!==null)),c),{scrollIntoView:d}},ot(zr,pn,kc,Zi,ti),{singleton:!0});function hk(e){return e?e==="smooth"?"smooth":"auto":!1}const YG=(e,t)=>typeof e=="function"?hk(e(t)):t&&hk(e),QG=Ye(([{listRefresh:e,totalCount:t,fixedItemSize:n,data:r},{atBottomState:s,isAtBottom:i},{scrollToIndex:o},{scrolledToInitialItem:a},{didMount:l,propsReady:c},{log:d},{scrollingInProgress:f},{context:h},{scrollIntoView:p}])=>{const m=se(!1),v=Ue();let b=null;function y(k){Ie(o,{align:"end",behavior:k,index:"LAST"})}Xe(Q(Rt(Q(ke(t),Bi(1)),l),Me(ke(m),i,a,f),ue(([[k,E],C,T,N,A])=>{let R=E&&N,I="auto";return R&&(I=YG(C,T||A),R=R&&!!I),{followOutputBehavior:I,shouldFollow:R,totalCount:k}}),Ne(({shouldFollow:k})=>k)),({followOutputBehavior:k,totalCount:E})=>{b&&(b(),b=null),Ct(n)?requestAnimationFrame(()=>{Ct(d)("following output to ",{totalCount:E},Tn.DEBUG),y(k)}):b=fr(e,()=>{Ct(d)("following output to ",{totalCount:E},Tn.DEBUG),y(k),b=null})});function g(k){const E=fr(s,C=>{k&&!C.atBottom&&C.notAtBottomBecause==="SIZE_INCREASED"&&!b&&(Ct(d)("scrolling to bottom due to increased size",{},Tn.DEBUG),y("auto"))});setTimeout(E,100)}Xe(Q(Rt(ke(m),t,c),Ne(([k,,E])=>k&&E),Rr(({value:k},[,E])=>({refreshed:k===E,value:E}),{refreshed:!1,value:0}),Ne(({refreshed:k})=>k),Me(m,t)),([,k])=>{Ct(a)&&g(k!==!1)}),Xe(v,()=>{g(Ct(m)!==!1)}),Xe(Rt(ke(m),s),([k,E])=>{k&&!E.atBottom&&E.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&y("auto")});const w=se(null),S=Ue();return ye(Pg(Q(ke(r),ue(k=>{var E;return(E=k==null?void 0:k.length)!=null?E:0})),Q(ke(t))),S),Xe(Q(Rt(Q(S,Bi(1)),l),Me(ke(w),a,f,h),ue(([[k,E],C,T,N,A])=>E&&T&&(C==null?void 0:C({context:A,totalCount:k,scrollingInProgress:N}))),Ne(k=>!!k),Qr(0)),k=>{b&&(b(),b=null),Ct(n)?requestAnimationFrame(()=>{Ct(d)("scrolling into view",{}),Ie(p,k)}):b=fr(e,()=>{Ct(d)("scrolling into view",{}),Ie(p,k),b=null})}),{autoscrollToBottom:v,followOutput:m,scrollIntoViewOnChange:w}},ot(zr,Cc,kc,Ec,ni,ti,pn,I_,P_)),KG=Ye(([{data:e,firstItemIndex:t,gap:n,sizes:r},{initialTopMostItemIndex:s},{initialItemCount:i,listState:o},{didMount:a}])=>(ye(Q(a,Me(i),Ne(([,l])=>l!==0),Me(s,r,t,n,e),ue(([[,l],c,d,f,h,p=[]])=>R_(l,c,d,f,h,p))),o),{}),ot(zr,Ec,Zi,ni),{singleton:!0}),XG=Ye(([{didMount:e},{scrollTo:t},{listState:n}])=>{const r=se(0);return Xe(Q(e,Me(r),Ne(([,s])=>s!==0),ue(([,s])=>({top:s}))),s=>{fr(Q(n,Bi(1),Ne(i=>i.items.length>1)),()=>{requestAnimationFrame(()=>{Ie(t,s)})})}),{initialScrollTop:r}},ot(ni,pn,Zi),{singleton:!0}),O_=Ye(([{scrollVelocity:e}])=>{const t=se(!1),n=Ue(),r=se(!1);return ye(Q(e,Me(r,t,n),Ne(([s,i])=>!!i),ue(([s,i,o,a])=>{const{enter:l,exit:c}=i;if(o){if(c(s,a))return!1}else if(l(s,a))return!0;return o}),st()),t),Xe(Q(Rt(t,e,n),Me(r)),([[s,i,o],a])=>{s&&a&&a.change&&a.change(i,o)}),{isSeeking:t,scrollSeekConfiguration:r,scrollSeekRangeChanged:n,scrollVelocity:e}},ot(Cc),{singleton:!0}),uv=Ye(([{scrollContainerState:e,scrollTo:t}])=>{const n=Ue(),r=Ue(),s=Ue(),i=se(!1),o=se(void 0);return ye(Q(Rt(n,r),ue(([{scrollHeight:a,scrollTop:l,viewportHeight:c},{offsetTop:d}])=>({scrollHeight:a,scrollTop:Math.max(0,l-d),viewportHeight:c}))),e),ye(Q(t,Me(r),ue(([a,{offsetTop:l}])=>({...a,top:a.top+l}))),s),{customScrollParent:o,useWindowScroll:i,windowScrollContainerState:n,windowScrollTo:s,windowViewportRect:r}},ot(pn)),ZG=Ye(([{sizeRanges:e,sizes:t},{headerHeight:n,scrollTop:r},{initialTopMostItemIndex:s},{didMount:i},{useWindowScroll:o,windowScrollContainerState:a,windowViewportRect:l}])=>{const c=Ue(),d=se(void 0),f=se(null),h=se(null);return ye(a,f),ye(l,h),Xe(Q(c,Me(t,r,o,f,h,n)),([p,m,v,b,y,g,w])=>{const S=OG(m.sizeTree);b&&y!==null&&g!==null&&(v=y.scrollTop-g.offsetTop),v-=w,p({ranges:S,scrollTop:v})}),ye(Q(d,Ne(nv),ue(JG)),s),ye(Q(i,Me(d),Ne(([,p])=>p!==void 0),st(),ue(([,p])=>p.ranges)),e),{getState:c,restoreStateFrom:d}},ot(zr,pn,Ec,ni,uv));function JG(e){return{align:"start",index:0,offset:e.scrollTop}}const eq=Ye(([{topItemsIndexes:e}])=>{const t=se(0);return ye(Q(t,Ne(n=>n>=0),ue(n=>Array.from({length:n}).map((r,s)=>s))),e),{topItemCount:t}},ot(Zi));function M_(e){let t=!1,n;return()=>(t||(t=!0,n=e()),n)}const tq=M_(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),nq=Ye(([{deviation:e,scrollBy:t,scrollingInProgress:n,scrollTop:r},{isAtBottom:s,isScrolling:i,lastJumpDueToItemResize:o,scrollDirection:a},{listState:l},{beforeUnshiftWith:c,gap:d,shiftWithOffset:f,sizes:h},{log:p},{recalcInProgress:m}])=>{const v=On(Q(l,Me(o),Rr(([,y,g,w],[{bottom:S,items:k,offsetBottom:E,totalCount:C},T])=>{const N=S+E;let A=0;return g===C&&y.length>0&&k.length>0&&(k[0].originalIndex===0&&y[0].originalIndex===0||(A=N-w,A!==0&&(A+=T))),[A,k,C,N]},[0,[],0,0]),Ne(([y])=>y!==0),Me(r,a,n,s,p,m),Ne(([,y,g,w,,,S])=>!S&&!w&&y!==0&&g===Kl),ue(([[y],,,,,g])=>(g("Upward scrolling compensation",{amount:y},Tn.DEBUG),y))));function b(y){y>0?(Ie(t,{behavior:"auto",top:-y}),Ie(e,0)):(Ie(e,0),Ie(t,{behavior:"auto",top:-y}))}return Xe(Q(v,Me(e,i)),([y,g,w])=>{w&&tq()?Ie(e,g-y):b(-y)}),Xe(Q(Rt(tn(i,!1),e,m),Ne(([y,g,w])=>!y&&!w&&g!==0),ue(([y,g])=>g),Qr(1)),b),ye(Q(f,ue(y=>({top:-y}))),t),Xe(Q(c,Me(h,d),ue(([y,{groupIndices:g,lastSize:w,sizeTree:S},k])=>{function E(C){return C*(w+k)}if(g.length===0)return E(y);{let C=0;const T=ql(S,0);let N=0,A=0;for(;N<y;){N++,C+=T;let R=g.length===A+1?1/0:g[A+1]-g[A]-1;N+R>y&&(C-=T,R=y-N+1),N+=R,C+=E(R),A++}return C}})),y=>{Ie(e,y),requestAnimationFrame(()=>{Ie(t,{top:y}),requestAnimationFrame(()=>{Ie(e,0),Ie(m,!1)})})}),{deviation:e}},ot(pn,Cc,Zi,zr,ti,iv)),rq=Ye(([e,t,n,r,s,i,o,a,l,c,d])=>({...e,...t,...n,...r,...s,...i,...o,...a,...l,...c,...d}),ot(cv,KG,ni,O_,D_,XG,GG,uv,P_,ti,I_)),L_=Ye(([{data:e,defaultItemSize:t,firstItemIndex:n,fixedItemSize:r,gap:s,groupIndices:i,itemSize:o,sizeRanges:a,sizes:l,statefulTotalCount:c,totalCount:d,trackItemSizes:f},{initialItemFinalLocationReached:h,initialTopMostItemIndex:p,scrolledToInitialItem:m},v,b,y,{listState:g,topItemsIndexes:w,...S},{scrollToIndex:k},E,{topItemCount:C},{groupCounts:T},N])=>(ye(S.rangeChanged,N.scrollSeekRangeChanged),ye(Q(N.windowViewportRect,ue(A=>A.visibleHeight)),v.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:n,fixedItemHeight:r,gap:s,groupCounts:T,initialItemFinalLocationReached:h,initialTopMostItemIndex:p,scrolledToInitialItem:m,sizeRanges:a,topItemCount:C,topItemsIndexes:w,totalCount:d,...y,groupIndices:i,itemSize:o,listState:g,scrollToIndex:k,statefulTotalCount:c,trackItemSizes:f,...S,...N,...v,sizes:l,...b}),ot(zr,Ec,pn,ZG,QG,Zi,kc,nq,eq,A_,rq));function sq(e,t){const n={},r={};let s=0;const i=e.length;for(;s<i;)r[e[s]]=1,s+=1;for(const o in t)Object.hasOwn(r,o)||(n[o]=t[o]);return n}const lu=typeof document<"u"?H.useLayoutEffect:H.useEffect;function F_(e,t,n){const r=Object.keys(t.required||{}),s=Object.keys(t.optional||{}),i=Object.keys(t.methods||{}),o=Object.keys(t.events||{}),a=H.createContext({});function l(b,y){b.propsReady&&Ie(b.propsReady,!1);for(const g of r){const w=b[t.required[g]];Ie(w,y[g])}for(const g of s)if(g in y){const w=b[t.optional[g]];Ie(w,y[g])}b.propsReady&&Ie(b.propsReady,!0)}function c(b){return i.reduce((y,g)=>(y[g]=w=>{const S=b[t.methods[g]];Ie(S,w)},y),{})}function d(b){return o.reduce((y,g)=>(y[g]=bG(b[t.events[g]]),y),{})}const f=H.forwardRef((b,y)=>{const{children:g,...w}=b,[S]=H.useState(()=>Jf(SG(e),C=>{l(C,w)})),[k]=H.useState(sk(d,S));lu(()=>{for(const C of o)C in w&&Xe(k[C],w[C]);return()=>{Object.values(k).map(rv)}},[w,k,S]),lu(()=>{l(S,w)}),H.useImperativeHandle(y,rk(c(S)));const E=n;return u.jsx(a.Provider,{value:S,children:n?u.jsx(E,{...sq([...r,...s,...o],w),children:g}):g})}),h=b=>{const y=H.useContext(a);return H.useCallback(g=>{Ie(y[b],g)},[y,b])},p=b=>{const y=H.useContext(a)[b],g=H.useCallback(w=>Xe(y,w),[y]);return H.useSyncExternalStore(g,()=>Ct(y),()=>Ct(y))},m=b=>{const y=H.useContext(a)[b],[g,w]=H.useState(sk(Ct,y));return lu(()=>Xe(y,S=>{S!==g&&w(rk(S))}),[y,g]),g},v=H.version.startsWith("18")?p:m;return{Component:f,useEmitter:(b,y)=>{const g=H.useContext(a)[b];lu(()=>Xe(g,y),[y,g])},useEmitterValue:v,usePublisher:h}}const B_=H.createContext(void 0),z_=H.createContext(void 0),H_=typeof document<"u"?H.useLayoutEffect:H.useEffect;function Mp(e){return"self"in e}function iq(e){return"body"in e}function U_(e,t,n,r=ga,s,i){const o=H.useRef(null),a=H.useRef(null),l=H.useRef(null),c=H.useCallback(h=>{let p,m,v;const b=h.target;if(iq(b)||Mp(b)){const g=Mp(b)?b:b.defaultView;v=i?g.scrollX:g.scrollY,p=i?g.document.documentElement.scrollWidth:g.document.documentElement.scrollHeight,m=i?g.innerWidth:g.innerHeight}else v=i?b.scrollLeft:b.scrollTop,p=i?b.scrollWidth:b.scrollHeight,m=i?b.offsetWidth:b.offsetHeight;const y=()=>{e({scrollHeight:p,scrollTop:Math.max(v,0),viewportHeight:m})};h.suppressFlushSync?y():tl.flushSync(y),a.current!==null&&(v===a.current||v<=0||v===p-m)&&(a.current=null,t(!0),l.current&&(clearTimeout(l.current),l.current=null))},[e,t,i]);H.useEffect(()=>{const h=s||o.current;return r(s||o.current),c({suppressFlushSync:!0,target:h}),h.addEventListener("scroll",c,{passive:!0}),()=>{r(null),h.removeEventListener("scroll",c)}},[o,c,n,r,s]);function d(h){const p=o.current;if(!p||(i?"offsetWidth"in p&&p.offsetWidth===0:"offsetHeight"in p&&p.offsetHeight===0))return;const m=h.behavior==="smooth";let v,b,y;Mp(p)?(b=Math.max(Gs(p.document.documentElement,i?"width":"height"),i?p.document.documentElement.scrollWidth:p.document.documentElement.scrollHeight),v=i?p.innerWidth:p.innerHeight,y=i?window.scrollX:window.scrollY):(b=p[i?"scrollWidth":"scrollHeight"],v=Gs(p,i?"width":"height"),y=p[i?"scrollLeft":"scrollTop"]);const g=b-v;if(h.top=Math.ceil(Math.max(Math.min(g,h.top),0)),__(v,b)||h.top===y){e({scrollHeight:b,scrollTop:y,viewportHeight:v}),m&&t(!0);return}m?(a.current=h.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,a.current=null,t(!0)},1e3)):a.current=null,i&&(h={behavior:h.behavior,left:h.top}),p.scrollTo(h)}function f(h){i&&(h={behavior:h.behavior,left:h.top}),o.current.scrollBy(h)}return{scrollByCallback:f,scrollerRef:o,scrollToCallback:d}}const Lp="-webkit-sticky",pk="sticky",dv=M_(()=>{if(typeof document>"u")return pk;const e=document.createElement("div");return e.style.position=Lp,e.style.position===Lp?Lp:pk});function fv(e){return e}const oq=Ye(()=>{const e=se(a=>`Item ${a}`),t=se(a=>`Group ${a}`),n=se({}),r=se(fv),s=se("div"),i=se(ga),o=(a,l=null)=>tn(Q(n,ue(c=>c[a]),st()),l);return{components:n,computeItemKey:r,EmptyPlaceholder:o("EmptyPlaceholder"),FooterComponent:o("Footer"),GroupComponent:o("Group","div"),groupContent:t,HeaderComponent:o("Header"),HeaderFooterTag:s,ItemComponent:o("Item","div"),itemContent:e,ListComponent:o("List","div"),ScrollerComponent:o("Scroller","div"),scrollerRef:i,ScrollSeekPlaceholder:o("ScrollSeekPlaceholder"),TopItemListComponent:o("TopItemList")}}),aq=Ye(([e,t])=>({...e,...t}),ot(L_,oq)),lq=({height:e})=>u.jsx("div",{style:{height:e}}),cq={overflowAnchor:"none",position:dv(),zIndex:1},V_={overflowAnchor:"none"},uq={...V_,display:"inline-block",height:"100%"},mk=H.memo(function({showTopList:e=!1}){const t=je("listState"),n=qn("sizeRanges"),r=je("useWindowScroll"),s=je("customScrollParent"),i=qn("windowScrollContainerState"),o=qn("scrollContainerState"),a=s||r?i:o,l=je("itemContent"),c=je("context"),d=je("groupContent"),f=je("trackItemSizes"),h=je("itemSize"),p=je("log"),m=qn("gap"),v=je("horizontalDirection"),{callbackRef:b}=CG(n,h,f,e?ga:a,p,m,s,v,je("skipAnimationFrameInResizeObserver")),[y,g]=H.useState(0);hv("deviation",j=>{y!==j&&g(j)});const w=je("EmptyPlaceholder"),S=je("ScrollSeekPlaceholder")||lq,k=je("ListComponent"),E=je("ItemComponent"),C=je("GroupComponent"),T=je("computeItemKey"),N=je("isSeeking"),A=je("groupIndices").length>0,R=je("alignToBottom"),I=je("initialItemFinalLocationReached"),O=e?{}:{boxSizing:"border-box",...v?{display:"inline-block",height:"100%",marginLeft:y!==0?y:R?"auto":0,paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,whiteSpace:"nowrap"}:{marginTop:y!==0?y:R?"auto":0,paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},...I?{}:{visibility:"hidden"}};return!e&&t.totalCount===0&&w?u.jsx(w,{...Ut(w,c)}):u.jsx(k,{...Ut(k,c),"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",ref:b,style:O,children:(e?t.topItems:t.items).map(j=>{const B=j.originalIndex,U=T(B+t.firstItemIndex,j.data,c);return N?x.createElement(S,{...Ut(S,c),height:j.size,index:j.index,key:U,type:j.type||"item",...j.type==="group"?{}:{groupIndex:j.groupIndex}}):j.type==="group"?x.createElement(C,{...Ut(C,c),"data-index":B,"data-item-index":j.index,"data-known-size":j.size,key:U,style:cq},d(j.index,c)):x.createElement(E,{...Ut(E,c),...pq(E,j.data),"data-index":B,"data-item-group-index":j.groupIndex,"data-item-index":j.index,"data-known-size":j.size,key:U,style:v?uq:V_},A?l(j.index,j.groupIndex,j.data,c):l(j.index,j.data,c))})})}),dq={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},fq={outline:"none",overflowX:"auto",position:"relative"},nh=e=>({height:"100%",position:"absolute",top:0,width:"100%",...e?{display:"flex",flexDirection:"column"}:{}}),hq={position:dv(),top:0,width:"100%",zIndex:1};function Ut(e,t){if(typeof e!="string")return{context:t}}function pq(e,t){return{item:typeof e=="string"?void 0:t}}const mq=H.memo(function(){const e=je("HeaderComponent"),t=qn("headerHeight"),n=je("HeaderFooterTag"),r=Xi(H.useMemo(()=>i=>{t(Gs(i,"height"))},[t]),!0,je("skipAnimationFrameInResizeObserver")),s=je("context");return e?u.jsx(n,{ref:r,children:u.jsx(e,{...Ut(e,s)})}):null}),gq=H.memo(function(){const e=je("FooterComponent"),t=qn("footerHeight"),n=je("HeaderFooterTag"),r=Xi(H.useMemo(()=>i=>{t(Gs(i,"height"))},[t]),!0,je("skipAnimationFrameInResizeObserver")),s=je("context");return e?u.jsx(n,{ref:r,children:u.jsx(e,{...Ut(e,s)})}):null});function $_({useEmitter:e,useEmitterValue:t,usePublisher:n}){return H.memo(function({children:r,style:s,...i}){const o=n("scrollContainerState"),a=t("ScrollerComponent"),l=n("smoothScrollTargetReached"),c=t("scrollerRef"),d=t("context"),f=t("horizontalDirection")||!1,{scrollByCallback:h,scrollerRef:p,scrollToCallback:m}=U_(o,l,a,c,void 0,f);return e("scrollTo",m),e("scrollBy",h),u.jsx(a,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:p,style:{...f?fq:dq,...s},tabIndex:0,...i,...Ut(a,d),children:r})})}function W_({useEmitter:e,useEmitterValue:t,usePublisher:n}){return H.memo(function({children:r,style:s,...i}){const o=n("windowScrollContainerState"),a=t("ScrollerComponent"),l=n("smoothScrollTargetReached"),c=t("totalListHeight"),d=t("deviation"),f=t("customScrollParent"),h=t("context"),p=H.useRef(null),m=t("scrollerRef"),{scrollByCallback:v,scrollerRef:b,scrollToCallback:y}=U_(o,l,a,m,f);return H_(()=>{var g;return b.current=f||((g=p.current)==null?void 0:g.ownerDocument.defaultView),()=>{b.current=null}},[b,f]),e("windowScrollTo",y),e("scrollBy",v),u.jsx(a,{ref:p,"data-virtuoso-scroller":!0,style:{position:"relative",...s,...c!==0?{height:c+d}:{}},...i,...Ut(a,h),children:r})})}const yq=({children:e})=>{const t=H.useContext(B_),n=qn("viewportHeight"),r=qn("fixedItemHeight"),s=je("alignToBottom"),i=je("horizontalDirection"),o=H.useMemo(()=>g_(n,l=>Gs(l,i?"width":"height")),[n,i]),a=Xi(o,!0,je("skipAnimationFrameInResizeObserver"));return H.useEffect(()=>{t&&(n(t.viewportHeight),r(t.itemHeight))},[t,n,r]),u.jsx("div",{"data-viewport-type":"element",ref:a,style:nh(s),children:e})},vq=({children:e})=>{const t=H.useContext(B_),n=qn("windowViewportRect"),r=qn("fixedItemHeight"),s=je("customScrollParent"),i=v_(n,s,je("skipAnimationFrameInResizeObserver")),o=je("alignToBottom");return H.useEffect(()=>{t&&(r(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,n,r]),u.jsx("div",{"data-viewport-type":"window",ref:i,style:nh(o),children:e})},xq=({children:e})=>{const t=je("TopItemListComponent")||"div",n=je("headerHeight"),r={...hq,marginTop:`${n}px`},s=je("context");return u.jsx(t,{style:r,...Ut(t,s),children:e})},bq=H.memo(function(e){const t=je("useWindowScroll"),n=je("topItemsIndexes").length>0,r=je("customScrollParent"),s=je("context"),i=r||t?kq:Sq,o=r||t?vq:yq;return u.jsxs(i,{...e,...Ut(i,s),children:[n&&u.jsx(xq,{children:u.jsx(mk,{showTopList:!0})}),u.jsxs(o,{children:[u.jsx(mq,{}),u.jsx(mk,{}),u.jsx(gq,{})]})]})}),{Component:wq,useEmitter:hv,useEmitterValue:je,usePublisher:qn}=F_(aq,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},bq),Sq=$_({useEmitter:hv,useEmitterValue:je,usePublisher:qn}),kq=W_({useEmitter:hv,useEmitterValue:je,usePublisher:qn}),Eq=wq,Cq=Ye(()=>{const e=se(c=>u.jsxs("td",{children:["Item $",c]})),t=se(null),n=se(c=>u.jsxs("td",{colSpan:1e3,children:["Group ",c]})),r=se(null),s=se(null),i=se({}),o=se(fv),a=se(ga),l=(c,d=null)=>tn(Q(i,ue(f=>f[c]),st()),d);return{components:i,computeItemKey:o,context:t,EmptyPlaceholder:l("EmptyPlaceholder"),FillerRow:l("FillerRow"),fixedFooterContent:s,fixedHeaderContent:r,itemContent:e,groupContent:n,ScrollerComponent:l("Scroller","div"),scrollerRef:a,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TableBodyComponent:l("TableBody","tbody"),TableComponent:l("Table","table"),TableFooterComponent:l("TableFoot","tfoot"),TableHeadComponent:l("TableHead","thead"),TableRowComponent:l("TableRow","tr"),GroupComponent:l("Group","tr")}});ot(L_,Cq);dv();const gk={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},Tq={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:yk,floor:Kd,max:hl,min:Fp,round:vk}=Math;function xk(e,t,n){return Array.from({length:t-e+1}).map((r,s)=>({data:n===null?null:n[s+e],index:s+e}))}function Nq(e){return{...Tq,items:e}}function cu(e,t){return e&&e.width===t.width&&e.height===t.height}function Aq(e,t){return e&&e.column===t.column&&e.row===t.row}const jq=Ye(([{increaseViewportBy:e,listBoundary:t,overscan:n,visibleRange:r},{footerHeight:s,headerHeight:i,scrollBy:o,scrollContainerState:a,scrollTo:l,scrollTop:c,smoothScrollTargetReached:d,viewportHeight:f},h,p,{didMount:m,propsReady:v},{customScrollParent:b,useWindowScroll:y,windowScrollContainerState:g,windowScrollTo:w,windowViewportRect:S},k])=>{const E=se(0),C=se(0),T=se(gk),N=se({height:0,width:0}),A=se({height:0,width:0}),R=Ue(),I=Ue(),O=se(0),j=se(null),B=se({column:0,row:0}),U=Ue(),X=Ue(),L=se(!1),$=se(0),ne=se(!0),K=se(!1),ee=se(!1);Xe(Q(m,Me($),Ne(([q,ae])=>!!ae)),()=>{Ie(ne,!1)}),Xe(Q(Rt(m,ne,A,N,$,K),Ne(([q,ae,W,J,,pe])=>q&&!ae&&W.height!==0&&J.height!==0&&!pe)),([,,,,q])=>{Ie(K,!0),av(1,()=>{Ie(R,q)}),fr(Q(c),()=>{Ie(t,[0,0]),Ie(ne,!0)})}),ye(Q(X,Ne(q=>q!=null&&q.scrollTop>0),Nr(0)),C),Xe(Q(m,Me(X),Ne(([,q])=>q!=null)),([,q])=>{q&&(Ie(N,q.viewport),Ie(A,q.item),Ie(B,q.gap),q.scrollTop>0&&(Ie(L,!0),fr(Q(c,Bi(1)),ae=>{Ie(L,!1)}),Ie(l,{top:q.scrollTop})))}),ye(Q(N,ue(({height:q})=>q)),f),ye(Q(Rt(ke(N,cu),ke(A,cu),ke(B,(q,ae)=>q&&q.column===ae.column&&q.row===ae.row),ke(c)),ue(([q,ae,W,J])=>({gap:W,item:ae,scrollTop:J,viewport:q}))),U),ye(Q(Rt(ke(E),r,ke(B,Aq),ke(A,cu),ke(N,cu),ke(j),ke(C),ke(L),ke(ne),ke($)),Ne(([,,,,,,,q])=>!q),ue(([q,[ae,W],J,pe,_e,Ae,Je,,F,ve])=>{const{column:xe,row:we}=J,{height:Pe,width:G}=pe,{width:Te}=_e;if(Je===0&&(q===0||Te===0))return gk;if(G===0){const si=lv(ve,q),ii=si+Math.max(Je-1,0);return Nq(xk(si,ii,Ae))}const Oe=G_(Te,G,xe);let Be,at;F?ae===0&&W===0&&Je>0?(Be=0,at=Je-1):(Be=Oe*Kd((ae+we)/(Pe+we)),at=Oe*yk((W+we)/(Pe+we))-1,at=Fp(q-1,hl(at,Oe-1)),Be=Fp(at,hl(0,Be))):(Be=0,at=-1);const Hr=xk(Be,at,Ae),{bottom:Ji,top:eo}=bk(_e,J,pe,Hr),to=yk(q/Oe),no=to*Pe+(to-1)*we-Ji;return{bottom:Ji,itemHeight:Pe,items:Hr,itemWidth:G,offsetBottom:no,offsetTop:eo,top:eo}})),T),ye(Q(j,Ne(q=>q!==null),ue(q=>q.length)),E),ye(Q(Rt(N,A,T,B),Ne(([q,ae,{items:W}])=>W.length>0&&ae.height!==0&&q.height!==0),ue(([q,ae,{items:W},J])=>{const{bottom:pe,top:_e}=bk(q,J,ae,W);return[_e,pe]}),st(Yl)),t);const ce=se(!1);ye(Q(c,Me(ce),ue(([q,ae])=>ae||q!==0)),ce);const te=On(Q(Rt(T,E),Ne(([{items:q}])=>q.length>0),Me(ce),Ne(([[q,ae],W])=>{const J=q.items[q.items.length-1].index===ae-1;return(W||q.bottom>0&&q.itemHeight>0&&q.offsetBottom===0&&q.items.length===ae)&&J}),ue(([[,q]])=>q-1),st())),V=On(Q(ke(T),Ne(({items:q})=>q.length>0&&q[0].index===0),Nr(0),st())),fe=On(Q(ke(T),Me(L),Ne(([{items:q},ae])=>q.length>0&&!ae),ue(([{items:q}])=>({endIndex:q[q.length-1].index,startIndex:q[0].index})),st(E_),Qr(0)));ye(fe,p.scrollSeekRangeChanged),ye(Q(R,Me(N,A,E,B),ue(([q,ae,W,J,pe])=>{const _e=j_(q),{align:Ae,behavior:Je,offset:F}=_e;let ve=_e.index;ve==="LAST"&&(ve=J-1),ve=hl(0,ve,Fp(J-1,ve));let xe=Bg(ae,pe,W,ve);return Ae==="end"?xe=vk(xe-ae.height+W.height):Ae==="center"&&(xe=vk(xe-ae.height/2+W.height/2)),F&&(xe+=F),{behavior:Je,top:xe}})),l);const Ce=tn(Q(T,ue(q=>q.offsetBottom+q.bottom)),0);return ye(Q(S,ue(q=>({height:q.visibleHeight,width:q.visibleWidth}))),N),{customScrollParent:b,data:j,deviation:O,footerHeight:s,gap:B,headerHeight:i,increaseViewportBy:e,initialItemCount:C,itemDimensions:A,overscan:n,restoreStateFrom:X,scrollBy:o,scrollContainerState:a,scrollHeight:I,scrollTo:l,scrollToIndex:R,scrollTop:c,smoothScrollTargetReached:d,totalCount:E,useWindowScroll:y,viewportDimensions:N,windowScrollContainerState:g,windowScrollTo:w,windowViewportRect:S,...p,gridState:T,horizontalDirection:ee,initialTopMostItemIndex:$,totalListHeight:Ce,...h,endReached:te,propsReady:v,rangeChanged:fe,startReached:V,stateChanged:U,stateRestoreInProgress:L,...k}},ot(cv,pn,Cc,O_,ni,uv,ti));function G_(e,t,n){return hl(1,Kd((e+n)/(Kd(t)+n)))}function bk(e,t,n,r){const{height:s}=n;if(s===void 0||r.length===0)return{bottom:0,top:0};const i=Bg(e,t,n,r[0].index);return{bottom:Bg(e,t,n,r[r.length-1].index)+s,top:i}}function Bg(e,t,n,r){const s=G_(e.width,n.width,t.column),i=Kd(r/s),o=i*n.height+hl(0,i-1)*t.row;return o>0?o+t.row:o}const _q=Ye(()=>{const e=se(f=>`Item ${f}`),t=se({}),n=se(null),r=se("virtuoso-grid-item"),s=se("virtuoso-grid-list"),i=se(fv),o=se("div"),a=se(ga),l=(f,h=null)=>tn(Q(t,ue(p=>p[f]),st()),h),c=se(!1),d=se(!1);return ye(ke(d),c),{components:t,computeItemKey:i,context:n,FooterComponent:l("Footer"),HeaderComponent:l("Header"),headerFooterTag:o,itemClassName:r,ItemComponent:l("Item","div"),itemContent:e,listClassName:s,ListComponent:l("List","div"),readyStateChanged:c,reportReadyState:d,ScrollerComponent:l("Scroller","div"),scrollerRef:a,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}}),Rq=Ye(([e,t])=>({...e,...t}),ot(jq,_q)),Dq=H.memo(function(){const e=ct("gridState"),t=ct("listClassName"),n=ct("itemClassName"),r=ct("itemContent"),s=ct("computeItemKey"),i=ct("isSeeking"),o=Yn("scrollHeight"),a=ct("ItemComponent"),l=ct("ListComponent"),c=ct("ScrollSeekPlaceholder"),d=ct("context"),f=Yn("itemDimensions"),h=Yn("gap"),p=ct("log"),m=ct("stateRestoreInProgress"),v=Yn("reportReadyState"),b=Xi(H.useMemo(()=>y=>{const g=y.parentElement.parentElement.scrollHeight;o(g);const w=y.firstChild;if(w){const{height:S,width:k}=w.getBoundingClientRect();f({height:S,width:k})}h({column:wk("column-gap",getComputedStyle(y).columnGap,p),row:wk("row-gap",getComputedStyle(y).rowGap,p)})},[o,f,h,p]),!0,!1);return H_(()=>{e.itemHeight>0&&e.itemWidth>0&&v(!0)},[e]),m?null:u.jsx(l,{className:t,ref:b,...Ut(l,d),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(y=>{const g=s(y.index,y.data,d);return i?u.jsx(c,{...Ut(c,d),height:e.itemHeight,index:y.index,width:e.itemWidth},g):x.createElement(a,{...Ut(a,d),className:n,"data-index":y.index,key:g},r(y.index,y.data,d))})})}),Iq=H.memo(function(){const e=ct("HeaderComponent"),t=Yn("headerHeight"),n=ct("headerFooterTag"),r=Xi(H.useMemo(()=>i=>{t(Gs(i,"height"))},[t]),!0,!1),s=ct("context");return e?u.jsx(n,{ref:r,children:u.jsx(e,{...Ut(e,s)})}):null}),Pq=H.memo(function(){const e=ct("FooterComponent"),t=Yn("footerHeight"),n=ct("headerFooterTag"),r=Xi(H.useMemo(()=>i=>{t(Gs(i,"height"))},[t]),!0,!1),s=ct("context");return e?u.jsx(n,{ref:r,children:u.jsx(e,{...Ut(e,s)})}):null}),Oq=({children:e})=>{const t=H.useContext(z_),n=Yn("itemDimensions"),r=Yn("viewportDimensions"),s=Xi(H.useMemo(()=>i=>{r(i.getBoundingClientRect())},[r]),!0,!1);return H.useEffect(()=>{t&&(r({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,r,n]),u.jsx("div",{ref:s,style:nh(!1),children:e})},Mq=({children:e})=>{const t=H.useContext(z_),n=Yn("windowViewportRect"),r=Yn("itemDimensions"),s=ct("customScrollParent"),i=v_(n,s,!1);return H.useEffect(()=>{t&&(r({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,r]),u.jsx("div",{ref:i,style:nh(!1),children:e})},Lq=H.memo(function({...e}){const t=ct("useWindowScroll"),n=ct("customScrollParent"),r=n||t?Bq:Fq,s=n||t?Mq:Oq,i=ct("context");return u.jsx(r,{...e,...Ut(r,i),children:u.jsxs(s,{children:[u.jsx(Iq,{}),u.jsx(Dq,{}),u.jsx(Pq,{})]})})}),{useEmitter:q_,useEmitterValue:ct,usePublisher:Yn}=F_(Rq,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},Lq),Fq=$_({useEmitter:q_,useEmitterValue:ct,usePublisher:Yn}),Bq=W_({useEmitter:q_,useEmitterValue:ct,usePublisher:Yn});function wk(e,t,n){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,Tn.WARN),t==="normal"?0:parseInt(t??"0",10)}const zq=H.lazy(()=>pa(()=>import("./NewEditBudgetModal-Cx_H8OFA.js"),[])),Hq=H.lazy(()=>pa(()=>import("./NewEditSavingsGoalModal-_KT1T9Yq.js"),[])),Uq=H.lazy(()=>pa(()=>import("./NewTransactionModal-ijWU6OTM.js"),[])),Vq=H.lazy(()=>pa(()=>import("./FilterTransactionsModal-Dd39mrWh.js"),[])),$q=H.lazy(()=>pa(()=>import("./ConfirmationModal-64Vn6zz4.js"),[])),Wq=H.lazy(()=>pa(()=>import("./EditAccountNameModal-NhJfJIJr.js"),[])),Sk={housing:"bg-blue-100 text-blue-800",utilities:"bg-yellow-100 text-yellow-800",groceries:"bg-green-100 text-green-800",transportation:"bg-indigo-100 text-indigo-800",healthcare:"bg-red-100 text-red-800",education:"bg-purple-100 text-purple-800",entertainment:"bg-pink-100 text-pink-800",savings:"bg-teal-100 text-teal-800",other:"bg-gray-100 text-gray-800"},Yt=({className:e})=>u.jsx("div",{className:`animate-pulse bg-gray-200 dark:bg-gray-700 rounded-md ${e}`}),kk=()=>{const{user:e}=vt(),{family:t}=Jn(),n=(t==null?void 0:t.FamilyID)??null,[r,s]=x.useState([]),[i,o]=x.useState([]),[a,l]=x.useState([]),[c,d]=x.useState([]),[f,h]=x.useState([]),p=nG(f,300),[m,v]=x.useState(!0),[b,y]=x.useState(!0),[g,w]=x.useState(!0),[S,k]=x.useState(!0),[E,C]=x.useState(null),T=x.useMemo(()=>zt("budget-page"),[]),[N,A]=x.useState("my-finances"),[R,I]=x.useState(!1),[O,j]=x.useState(!1),[B,U]=x.useState(!1),[X,L]=x.useState(!1),[$,ne]=x.useState(null),[K,ee]=x.useState(null),[ce,te]=x.useState(null),[V,fe]=x.useState(null),[Ce,q]=x.useState(new Date),ae=x.useRef(""),[W,J]=x.useState(null),pe=x.useCallback(async Y=>{const[_,re]=await Promise.all([rG(Y.toString()),aG(Y.toString())]);return{budgetsData:_,savingsGoalsData:re}},[]),_e=x.useCallback(async()=>{if(!(N!=="family-finances"||!n))try{const{budgetsData:Y,savingsGoalsData:_}=await pe(n);s(Y),o(_),C(null)}catch(Y){C(Y instanceof Error?Y.message:"Failed to refresh family financial data")}},[N,n,pe]);x.useEffect(()=>{if(N!=="family-finances"){s([]),o([]),w(!1),k(!1);return}if(!n){s([]),o([]),w(!1),k(!1);return}let Y=!1;return(async()=>{w(!0),k(!0);try{const{budgetsData:re,savingsGoalsData:ge}=await pe(n);if(Y)return;s(re),o(ge),C(null)}catch(re){if(Y)return;C(re instanceof Error?re.message:"Failed to load family financial data")}finally{if(Y)return;w(!1),k(!1)}})(),()=>{Y=!0}},[N,n,pe]);const Ae=x.useCallback(async()=>{if(N==="family-finances"&&!n){s([]),o([]),w(!1),k(!1),y(!1);return}if(p.length===0){l([]),y(!1);return}const Y=`${N}:${n??"personal"}:${Ce.toISOString()}:${p.slice().sort().join(",")}`;if(Y===ae.current)return;ae.current=Y,y(!0),C(null);const _=new Date(Ce.getFullYear(),Ce.getMonth(),1),re=new Date(Ce.getFullYear(),Ce.getMonth()+1,0);try{const ge=await dG(p,{startDate:_,endDate:re});l(ge)}catch(ge){C(ge instanceof Error?ge.message:"An unknown error occurred"),y(!1);return}y(!1)},[n,p,N,Ce]);x.useEffect(()=>{Ae()},[Ae]),x.useEffect(()=>{let Y=!1;const _=N==="family-finances"?"family":"personal";if(_==="family"&&!n){J(null);return}return(async()=>{try{J(null);const ge={scope:_};_==="family"&&n&&(ge.familyId=n);const Et=await ie.post("/plaid/create_link_token",ge);if(Y)return;J(Et.data.link_token)}catch(ge){if(Y)return;J(null),T.error("Failed to create link token",ge)}})(),()=>{Y=!0}},[N,n,T]),x.useEffect(()=>{let Y=!1;const _=async()=>{v(!0);try{if(N==="my-finances"){const re=await tk();if(Y)return;d(re),h(re.map(ge=>ge.id))}else if(n){const re=await tk(n.toString());if(Y)return;d(re),h(re.map(ge=>ge.id))}else d([]),h([])}catch(re){Y||C(re instanceof Error?re.message:"Failed to load accounts")}finally{Y||v(!1)}};return ae.current="",_(),()=>{Y=!0}},[N,n]);const Je=x.useMemo(()=>W?{token:W,onSuccess:async Y=>{const _=N==="family-finances"?"family":"personal",re={public_token:Y,scope:_};_==="family"&&n&&(re.familyId=n),await ie.post("/plaid/exchange_public_token",re),ae.current="",Ae()},onExit:(Y,_)=>{T.log("Plaid Link exited:",Y,_)}}:null,[W,N,n,T,Ae]),{open:F,ready:ve}=tG(Je??{token:"",onSuccess:()=>{},onExit:()=>{}}),xe=N==="family-finances"?"Link Family Account":"Link Personal Account",we=!ve||!W||N==="family-finances"&&!n,Pe=x.useCallback(()=>{we||F()},[we,F]),G=Y=>{Y!==N&&(A(Y),ae.current="")},Te=Y=>{h(_=>_.includes(Y)?_.filter(re=>re!==Y):[..._,Y])},Oe=x.useCallback(()=>{q(Y=>new Date(Y.getFullYear(),Y.getMonth()-1,1)),ae.current=""},[ae]),Be=x.useCallback(()=>{q(Y=>new Date(Y.getFullYear(),Y.getMonth()+1,1)),ae.current=""},[ae]),at=async Y=>{if(!n||!e)return;const _={...Y,familyId:n.toString(),period:"monthly",spent:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};$?await iG($.id,_):await sG(_),await _e(),ae.current="",await Ae(),I(!1),ne(null)},Hr=async Y=>{await oG(Y),await _e(),ae.current="",await Ae()},Ji=async Y=>{if(!n||!e)return;const _={...Y,familyId:n.toString(),category:"savings",CreatedByUserID:e.id};K?await cG(K.id,_):await lG(_),await _e(),ae.current="",await Ae(),j(!1),ee(null)},eo=async Y=>{await uG(Y),await _e(),ae.current="",await Ae()},to=async()=>{ce&&(await hG(ce),ae.current="",await Ae(),te(null))},no=async Y=>{V&&(await pG(V.id,Y),ae.current="",await Ae(),fe(null))},si=async Y=>{!n||!e||(await fG({...Y,familyId:n.toString(),createdBy:e.id}),ae.current="",await Ae(),U(!1))},{totalSpent:ii,byBudget:ah}=x.useMemo(()=>{let Y=0;const _=new Map,re=new Map;for(const ge of r)re.set(ge.category,ge.id);for(const ge of a)if(Y+=ge.amount,ge.category){const Et=re.get(ge.category);Et&&_.set(Et,(_.get(Et)??0)+ge.amount)}return{totalSpent:Y,byBudget:_}},[a,r]),ro=x.useMemo(()=>r.reduce((Y,_)=>Y+_.amount,0),[r]),lh=x.useMemo(()=>i.reduce((Y,_)=>Y+_.currentAmount,0),[i]),ch=ro-ii,uh=ro>0?ii/ro*100:0;return E?u.jsxs("div",{className:"p-6 text-red-500",children:["Error: ",E]}):u.jsxs("div",{id:"budget-overview",className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Finances"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:Oe,className:"p-2 rounded-full hover:bg-gray-100",children:u.jsx(_f,{size:20})}),u.jsx("span",{className:"font-semibold",children:Ce.toLocaleString("default",{month:"long",year:"numeric"})}),u.jsx("button",{onClick:Be,className:"p-2 rounded-full hover:bg-gray-100",children:u.jsx(r0,{size:20})})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>U(!0),className:"px-4 py-2 bg-secondary-500 text-white rounded-lg",children:"Add Transaction"}),u.jsx("button",{onClick:Pe,disabled:we,className:"px-4 py-2 bg-primary-500 text-white rounded-lg disabled:bg-gray-300",children:xe})]})]}),u.jsx("div",{className:"border-b border-gray-200",children:u.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[u.jsx("button",{onClick:()=>G("my-finances"),className:`${N==="my-finances"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"My Finances"}),u.jsx("button",{onClick:()=>G("family-finances"),className:`${N==="family-finances"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Family Finances"})]})}),N==="my-finances"?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow-soft p-6",children:m?u.jsxs("div",{className:"space-y-4",children:[u.jsx(Yt,{className:"h-8 w-full"}),u.jsx(Yt,{className:"h-8 w-full"}),u.jsx(Yt,{className:"h-8 w-full"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-[1fr,auto,auto] gap-4 items-center mb-2 font-semibold",children:[u.jsx("div",{children:"Account"}),u.jsx("div",{className:"text-right",children:"Balance"}),u.jsx("div",{})]}),c.map(Y=>u.jsxs("div",{className:"grid grid-cols-[1fr,auto,auto] gap-4 items-center",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",id:Y.id,checked:f.includes(Y.id),onChange:()=>Te(Y.id)}),u.jsxs("label",{htmlFor:Y.id,children:[Y.customName||Y.name," (",Y.mask,")"]})]}),u.jsxs("div",{className:"text-right",children:["$",(Y.balance||0).toLocaleString()]}),u.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[u.jsx("button",{onClick:()=>fe(Y),className:"p-2 rounded-full hover:bg-gray-100 text-gray-500",children:u.jsx(i0,{size:16})}),u.jsx("button",{onClick:()=>te(Y.id),className:"p-2 rounded-full hover:bg-gray-100 text-red-500",children:u.jsx(pc,{size:16})})]})]},Y.id))]})}),u.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-soft p-6",children:b?u.jsxs("div",{className:"space-y-4",children:[u.jsx(Yt,{className:"h-8 w-full"}),u.jsx(Yt,{className:"h-8 w-full"}),u.jsx(Yt,{className:"h-8 w-full"}),u.jsx(Yt,{className:"h-8 w-full"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"font-bold",children:"Recent Transactions"}),u.jsx("button",{onClick:()=>L(!0),className:"p-2 rounded-full hover:bg-gray-100",children:u.jsx(HT,{size:18})})]}),u.jsx("div",{style:{height:400},children:u.jsx(Eq,{data:a,components:{Table:({style:Y,..._})=>u.jsx("table",{..._,style:{...Y,width:"100%"},className:"w-full"}),TableHead:()=>u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left py-2",children:"Description"}),u.jsx("th",{className:"text-left py-2",children:"Category"}),u.jsx("th",{className:"text-left py-2",children:"Date"}),u.jsx("th",{className:"text-right py-2",children:"Amount"})]})})},itemContent:(Y,_)=>{const re=r.find(dh=>dh.category===_.category),ge=re&&re.category?re.category.toLowerCase():"other",Et=Sk[ge]||Sk.other;return u.jsxs("tr",{children:[u.jsxs("td",{className:"py-2",children:[_.description,_.recurring&&u.jsxs("span",{className:"ml-2 text-xs bg-gray-200 text-gray-800 px-2 py-1 rounded-full",children:["Recurring  ",_.recurringPeriod]})]}),u.jsx("td",{className:"py-2",children:u.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Et}`,children:ge})}),u.jsx("td",{className:"py-2",children:_.date?new Date(_.date).toLocaleDateString():""}),u.jsxs("td",{className:"text-right py-2",children:["$",(_.amount||0).toLocaleString()]})]},_.id)}})})]})})]}):u.jsxs("div",{className:"space-y-6",children:[g||b||S?u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(Yt,{className:"h-24"}),u.jsx(Yt,{className:"h-24"}),u.jsx(Yt,{className:"h-24"}),u.jsx(Yt,{className:"h-24"})]}):u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-soft",children:[u.jsx("h4",{className:"text-gray-500",children:"Total Budget"}),u.jsxs("p",{className:"text-2xl font-bold",children:["$",(ro||0).toLocaleString()]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-soft",children:[u.jsx("h4",{className:"text-gray-500",children:"Total Spent"}),u.jsxs("p",{className:"text-2xl font-bold",children:["$",(ii||0).toLocaleString()]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-soft",children:[u.jsx("h4",{className:"text-gray-500",children:"Remaining"}),u.jsxs("p",{className:"text-2xl font-bold",children:["$",(ch||0).toLocaleString()]}),u.jsxs("p",{className:"text-sm text-gray-400",children:[uh.toFixed(1),"% spent"]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-soft",children:[u.jsx("h4",{className:"text-gray-500",children:"Total Savings"}),u.jsxs("p",{className:"text-2xl font-bold",children:["$",(lh||0).toLocaleString()]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-soft p-6",children:g?u.jsxs("div",{className:"space-y-4",children:[u.jsx(Yt,{className:"h-16 w-full"}),u.jsx(Yt,{className:"h-16 w-full"}),u.jsx(Yt,{className:"h-16 w-full"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"font-bold",children:"Finance Categories"}),u.jsx("button",{onClick:()=>{ne(null),I(!0)},className:"p-2 rounded-full bg-primary-500 text-white",children:u.jsx(Hs,{size:18})})]}),r.map(Y=>{const _=ah.get(Y.id)??0,re=Y.amount>0?_/Y.amount*100:0,ge=re>90?"bg-red-500":"bg-primary-500";return u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{children:Y.category}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("span",{children:["$",(_||0).toLocaleString()," of $",(Y.amount||0).toLocaleString()]}),u.jsx(nk,{onEdit:()=>{ne(Y),I(!0)},onDelete:()=>Hr(Y.id)})]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:u.jsx("div",{className:`${ge} h-2.5 rounded-full`,style:{width:`${re}%`}})})]},Y.id)})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-soft p-6",children:S?u.jsxs("div",{className:"space-y-4",children:[u.jsx(Yt,{className:"h-16 w-full"}),u.jsx(Yt,{className:"h-16 w-full"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"font-bold",children:"Savings Goals"}),u.jsx("button",{onClick:()=>{ee(null),j(!0)},className:"p-2 rounded-full bg-primary-500 text-white",children:u.jsx(Hs,{size:18})})]}),i.map(Y=>{const _=Y.targetAmount>0?Y.currentAmount/Y.targetAmount*100:0;return u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{children:Y.name}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("span",{children:["$",(Y.currentAmount||0).toLocaleString()," of $",(Y.targetAmount||0).toLocaleString()]}),u.jsx(nk,{onEdit:()=>{ee(Y),j(!0)},onDelete:()=>eo(Y.id)})]})]}),Y.deadline&&u.jsxs("p",{className:"text-sm text-gray-400",children:["Due ",new Date(Y.deadline).toLocaleDateString()]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:u.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${_}%`}})})]},Y.id)})]})})]})]}),u.jsxs(x.Suspense,{fallback:u.jsx("div",{children:"Loading..."}),children:[u.jsx(zq,{isOpen:R,onClose:()=>I(!1),onSave:at,editingBudget:$}),u.jsx(Hq,{isOpen:O,onClose:()=>j(!1),onSave:Ji,editingGoal:K}),u.jsx(Uq,{isOpen:B,onClose:()=>U(!1),onSave:si,budgets:r}),u.jsx(Vq,{isOpen:X,onClose:()=>L(!1)}),u.jsx($q,{isOpen:!!ce,onClose:()=>te(null),onConfirm:to,title:"Delete Account",message:"Are you sure you want to delete this account? All associated transactions will also be deleted."}),u.jsx(Wq,{isOpen:!!V,onClose:()=>fe(null),onSave:no,account:V})]})]})},Gq=({isOpen:e,onClose:t,onConfirm:n,roomTemplates:r})=>{var c;const[s,i]=x.useState(""),[o,a]=x.useState((c=r[0])==null?void 0:c.id);if(!e)return null;const l=()=>{s&&o&&n(s,o)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-lg p-6 w-full max-w-md",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create New Room"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"roomName",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Room Name"}),u.jsx("input",{type:"text",id:"roomName",value:s,onChange:d=>i(d.target.value),className:"w-full px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Living Room, John's Bedroom"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"roomTemplate",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Based on Template"}),u.jsx("select",{id:"roomTemplate",value:o,onChange:d=>a(parseInt(d.target.value)),className:"w-full px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:r.map(d=>u.jsx("option",{value:d.id,children:d.name},d.id))})]})]}),u.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[u.jsx("button",{onClick:t,className:"text-neutral-600 dark:text-neutral-300",children:"Cancel"}),u.jsx("button",{onClick:l,className:"bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700",children:"Create Room"})]})]})})},qq=async()=>(await ie.get("/relationships")).data,Yq=({isOpen:e,onClose:t,onInvite:n,relationships:r,initialEmail:s,initialRelationshipId:i,inviteeName:o})=>{var f;const[a,l]=x.useState(s??""),[c,d]=x.useState(i??((f=r[0])==null?void 0:f.RelationshipID)??0);return x.useEffect(()=>{var h;e&&(l(s??""),d(i??((h=r[0])==null?void 0:h.RelationshipID)??0))},[e,s,i,r]),e?u.jsx("div",{className:"fixed inset-0 bg-neutral-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsxs(St.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-lg w-full max-w-lg my-8",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-700",children:[u.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-white",children:"Invite Family Member"}),u.jsx("button",{onClick:t,className:"text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-300",children:""})]}),u.jsxs("div",{className:"p-4 space-y-4",children:[o&&u.jsxs("div",{className:"rounded-xl bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-200 px-3 py-2 text-sm",children:["Replace the placeholder for ",u.jsx("strong",{children:o})," by sending them an invitation."]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email Address"}),u.jsx("input",{type:"email",value:a,onChange:h=>l(h.target.value),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400",placeholder:"Enter email address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Role"}),u.jsx("select",{value:c,onChange:h=>d(parseInt(h.target.value)),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400",children:r.map(h=>u.jsx("option",{value:h.RelationshipID,children:h.RelationshipName},h.RelationshipID))})]})]}),u.jsxs("div",{className:"flex justify-end p-4 border-t border-neutral-200 dark:border-neutral-700 space-x-3",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-xl",children:"Cancel"}),u.jsx("button",{onClick:()=>n(a,c),className:"px-4 py-2 text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 dark:hover:bg-primary-400 rounded-xl",children:"Send Invitation"})]})]})}):null},Qq=({isOpen:e,onClose:t,onSave:n,onLeaveFamily:r,onCreateNewFamily:s,family:i})=>{const[o,a]=x.useState(""),[l,c]=x.useState("");return x.useEffect(()=>{i&&(a(i.FamilyName),c(i.FamilyMantra||""))},[i]),e?u.jsx("div",{className:"fixed inset-0 bg-neutral-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsxs(St.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-lg w-full max-w-lg my-8",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-700",children:[u.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-white",children:"Family Settings"}),u.jsx("button",{onClick:t,className:"text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-300",children:""})]}),u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Family Name"}),u.jsx("input",{type:"text",value:o,onChange:d=>a(d.target.value),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Family Mantra"}),u.jsx("textarea",{rows:3,value:l,onChange:d=>c(d.target.value),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 border-t border-neutral-200 dark:border-neutral-700 space-y-3 sm:space-y-0 sm:space-x-3",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[u.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-xl",children:"Leave Family"}),u.jsx("button",{onClick:s,className:"px-4 py-2 text-sm font-medium text-primary-600 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-xl",children:"Create Another Household"})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-xl",children:"Cancel"}),u.jsx("button",{onClick:()=>n(o,l),className:"px-4 py-2 text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 dark:hover:bg-primary-400 rounded-xl",children:"Save Changes"})]})]})]})}):null},Kq=({isOpen:e,onClose:t,onEdit:n,onRemove:r})=>e?u.jsx(St.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-12 right-0 bg-white dark:bg-neutral-700 rounded-xl shadow-lg w-48 z-10",children:u.jsxs("ul",{className:"py-2",children:[u.jsx(nn,{to:"/profile",children:u.jsxs("li",{onClick:t,className:"flex items-center px-4 py-2 text-sm text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-600 cursor-pointer",children:[u.jsx(M4,{size:16,className:"mr-2"}),"View Profile"]})}),u.jsxs("li",{onClick:n,className:"flex items-center px-4 py-2 text-sm text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-600 cursor-pointer",children:[u.jsx(i0,{size:16,className:"mr-2"}),"Edit Profile"]}),u.jsxs("li",{onClick:r,className:"flex items-center px-4 py-2 text-sm text-error-600 hover:bg-error-50 dark:hover:bg-error-900/30 cursor-pointer",children:[u.jsx(pc,{size:16,className:"mr-2"}),"Remove from Family"]})]})}):null,Xq=({isOpen:e,onClose:t,onSave:n,user:r,relationships:s})=>{const[i,o]=x.useState(r.FirstName),[a,l]=x.useState(r.LastName),[c,d]=x.useState(r.Email),[f,h]=x.useState(r.BirthDate?new Date(r.BirthDate).toISOString().split("T")[0]:""),[p,m]=x.useState(r.RelationshipID);return x.useEffect(()=>{o(r.FirstName),l(r.LastName),d(r.Email),h(r.BirthDate?new Date(r.BirthDate).toISOString().split("T")[0]:""),m(r.RelationshipID)},[r]),e?u.jsx("div",{className:"fixed inset-0 bg-neutral-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsxs(St.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-lg w-full max-w-lg my-8",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-700",children:[u.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-white",children:"Edit Profile"}),u.jsx("button",{onClick:t,className:"text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-300",children:""})]}),u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"First Name"}),u.jsx("input",{type:"text",value:i,onChange:v=>o(v.target.value),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Last Name"}),u.jsx("input",{type:"text",value:a,onChange:v=>l(v.target.value),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email Address"}),u.jsx("input",{type:"email",value:c,onChange:v=>d(v.target.value),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Birth Date"}),u.jsx("input",{type:"date",value:f,onChange:v=>h(v.target.value),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Role"}),u.jsx("select",{value:p,onChange:v=>m(parseInt(v.target.value)),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400",children:s.map(v=>u.jsx("option",{value:v.RelationshipID,children:v.RelationshipName},v.RelationshipID))})]})]}),u.jsxs("div",{className:"flex justify-end p-4 border-t border-neutral-200 dark:border-neutral-700 space-x-3",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-xl",children:"Cancel"}),u.jsx("button",{onClick:()=>n({FirstName:i,LastName:a,Email:c,BirthDate:f||null,RelationshipID:p}),className:"px-4 py-2 text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 dark:hover:bg-primary-400 rounded-xl",children:"Save Changes"})]})]})}):null},Zq=async(e,t,n,r)=>(await ie.post("/invitations",{familyId:e,email:t,invitedBy:n,relationshipId:r})).data,Jq=async()=>(await ie.get("/invitations/pending")).data,eY=async e=>(await ie.post("/invitations/accept",{token:e})).data,tY=async e=>(await ie.post("/invitations/decline",{token:e})).data,nY=({invitations:e,onAccept:t,onDecline:n,searchParams:r,setSearchParams:s})=>(x.useEffect(()=>{const i=r.get("token");i&&(e.find(a=>a.Token===i)?(t(i),s({},{replace:!0})):s({},{replace:!0}))},[r,e,t,s]),e.length===0?null:u.jsxs("div",{className:"bg-primary-100 dark:bg-primary-900/50 p-4 rounded-2xl space-y-4",children:[u.jsx("h3",{className:"text-lg font-medium text-primary-800 dark:text-primary-200",children:"Pending Invitations"}),u.jsx("div",{className:"space-y-3",children:e.map(i=>u.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-3 rounded-lg",children:[u.jsx("div",{children:u.jsxs("p",{className:"font-medium text-neutral-900 dark:text-white",children:["You have been invited to join the ",u.jsx("span",{className:"font-bold",children:i.Family.FamilyName})," family."]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>t(i.Token),className:"px-3 py-1 text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 rounded-lg",children:"Accept"}),u.jsx("button",{onClick:()=>n(i.Token),className:"px-3 py-1 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg",children:"Decline"})]})]},i.InvitationID))})]})),rY=({isOpen:e,onClose:t,token:n,onAccept:r,onDecline:s,setSearchParams:i,currentUser:o})=>{const[a,l]=x.useState(null),[c,d]=x.useState(!0),[f,h]=x.useState(null),p=x.useMemo(()=>zt("invitation-modal"),[]);return p.log("InvitationActionModal: isOpen",e),p.log("InvitationActionModal: token",n),x.useEffect(()=>{e&&(async()=>{var v,b;if(!n){d(!1),h("No invitation token provided.");return}try{d(!0),h(null);const y=await ie.get(`/invitations/details?token=${n}`);l(y.data)}catch(y){p.error("Error fetching invitation details:",y),h(((b=(v=y.response)==null?void 0:v.data)==null?void 0:b.message)||"Failed to fetch invitation details.")}finally{d(!1)}})()},[n,e,p]),e?u.jsx(Cn,{children:e&&u.jsx("div",{className:"fixed inset-0 bg-neutral-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsx(St.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-lg w-full max-w-md",children:u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-white mb-4",children:c?"Loading invitation details...":f?`Error: ${f}`:a?`You've been invited to join ${a.familyName} by ${a.inviterName}!`:"You have a pending family invitation!"}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-6",children:c||f?"":"Would you like to accept or decline this invitation?"}),u.jsxs("div",{className:"flex justify-center gap-4",children:[u.jsx("button",{onClick:()=>{s(n),t(),i({},{replace:!0})},className:"px-4 py-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-xl",children:"Decline"}),u.jsx("button",{onClick:()=>{r(n),t(),i({},{replace:!0})},className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-xl",children:"Accept"})]})]})})})}):(p.log("InvitationActionModal: Not rendering because isOpen is false"),null)},sY=async(e,t)=>{await ie.put(`/users/${e}`,t)},pl=()=>({currentStep:"greeting",family_name:"",members:[],rooms:[],slot_status:{family_name:"empty",members:"empty",rooms:"empty"},loading:!1,error:null,messages:[{sender:"LinZ",text:`Hi! I'm LinZ  Welcome to FamConomythanks for inviting me along. To start, what name should we use for your family? (e.g., "The Parkers")`}],hydrated:!1,awaitingResetConfirmation:!1,streamingMessage:null}),Ek=pl(),iY=()=>({...pl(),hydrated:!0}),on=zt("onboarding"),Xd=zt("onboarding-stream"),oY=3500,aY=e=>new Promise(t=>setTimeout(t,e));function uu(e,t,n){const r=e?"filled":"empty",s=t.length>0?"filled":"empty",i=n.length>0?"filled":"empty";return{family_name:r,members:s,rooms:i}}function Ck(e){return e.family_name==="filled"&&e.members==="filled"&&e.rooms==="filled"?"committed":e.family_name==="filled"&&e.members==="filled"?"rooms":e.family_name==="filled"?"members":"greeting"}async function lY(e,t,n,r,s){try{const i=await fetch("/api/assistant/onboarding",{method:"POST",headers:{"Content-Type":"application/json",Accept:"text/event-stream",...t!==null?{"x-tenant-id":String(t)}:{},"x-user-id":n},credentials:"include",body:JSON.stringify({message:e,familyId:t,userId:n,history:r})});if(!i.ok||!i.body)throw new Error(`Streaming assistant error: ${i.status}`);const o=i.body.getReader(),a=new TextDecoder;let l="",c="",d="",f=null,h,p=!1,m=!1;const v=g=>{const w=g.indexOf(`\r
\r
`),S=g.indexOf(`

`);return w!==-1&&(S===-1||w<S)?{index:w,length:4}:S!==-1?{index:S,length:2}:null},b=g=>{if(!g.trim())return;const w=g.split(/\r?\n/);let S="message";const k=[];for(const T of w)T&&(T.startsWith("event:")?S=T.slice(6).trim():T.startsWith("data:")&&k.push(T.slice(5)));if(!k.length)return;const E=k.join(`
`);let C=E;try{C=JSON.parse(E)}catch{}switch(S){case"token":if(C&&typeof C.content=="string"){const T=C.content;c+=T,T.trim()&&(p=!0),s==null||s(c)}break;case"assistant":if(C&&typeof C.content=="string"){const T=C.content;d=T,T.trim()&&(p=!0),s==null||s(d)}break;case"state":f=C;break;case"done":C&&typeof C.next_step=="string"&&(h=C.next_step,f?f={...f,next_step:h}:f={next_step:h}),m=!0;break;case"error":throw new Error((C==null?void 0:C.message)||"Streaming assistant reported an error.");default:break}};for(;;){const{value:g,done:w}=await o.read();if(w)break;l+=a.decode(g,{stream:!0});let S=v(l);for(;S;){const k=l.slice(0,S.index);l=l.slice(S.index+S.length),b(k),S=v(l)}}l.trim()&&b(l),m=!0;const y=(d||c||"").trim();return Xd.log("stream result",{assistant_reply:y,hasTokens:!!c.trim(),hasAssistantMessage:!!d.trim(),latestState:f,receivedContent:p,completed:m}),{assistant_reply:y,state:f,hasContent:p,completed:m}}catch(i){return Xd.error("Streaming onboarding assistant failed:",i),null}}function gn(e){return e.split(/\s+/).map(t=>t?t[0].toUpperCase()+t.slice(1):"").join(" ")}function ri(e){return e.replace(/^["']+|["']+$/g,"")}function Y_(e){const t=ri(e.trim());if(!(!t||/[?\r\n]/.test(t)||t.split(/\s+/).length>6))return gn(t.replace(/\s+/g," "))}function Q_(e){const t=e.toLowerCase().replace(/\b(my|the|a|an|our|of|with|for|to)\b/g,"").replace(/\b(one|two|three|four|five|six|seven|eight|nine|ten)\b/g,"").replace(/\s+/g," ").trim(),n={wife:"Wife",husband:"Husband",partner:"Partner",spouse:"Spouse",mom:"Mom",mother:"Mother",dad:"Dad",father:"Father",daughter:"Daughter",daughters:"Daughter",son:"Son",sons:"Son",boy:"Son",boys:"Son",girl:"Daughter",girls:"Daughter",kid:"Child",kids:"Child",child:"Child",children:"Child",baby:"Baby",toddler:"Toddler",cousin:"Cousin",nephew:"Nephew",niece:"Niece",grandma:"Grandma",grandpa:"Grandpa",grandfather:"Grandfather",grandmother:"Grandmother",aunt:"Aunt",uncle:"Uncle",friend:"Friend",roommate:"Roommate",fiance:"Fiance",fiancee:"Fiancee"};if(t&&Object.prototype.hasOwnProperty.call(n,t))return n[t];const r=t.split(" ").filter(s=>s&&!fY.has(s)).join(" ").trim();return r?gn(r):"Family Member"}const Tk=new Set(["mom","mother","dad","father","parent","parents","son","sons","daughter","daughters","boy","boys","girl","girls","kid","kids","child","children","wife","husband","partner","partners","spouse","friend","friends","roommate","roommates","cousin","cousins","nephew","niece","uncle","aunt","grandma","grandmother","grandpa","grandfather","grandson","granddaughter","sister","sisters","brother","brothers","siblings","guardian","mentor","coach","stepmom","stepmother","stepdad","stepfather","stepbrother","stepsister","stepchild","stepchildren","twin","twins","fiance","fiancee","pet","pets","dog","cat"]),cY=new Set(["oldest","youngest","older","younger","little","big","only","eldest","middle","newborn","baby","bonus","step","twin","twins","first","second","third","fourth","fifth","pregnant","expecting","future","lovely","awesome","amazing","wonderful","beautiful","sweet"]),uY=new Set(["one","two","three","four","five","six","seven","eight","nine","ten","couple","few","pair","pairs","dozen"]),Nk=new Set(["and","&"]),Ak=new Set(["named","called","is","=","as"]),dY=new Set(["the","a","an","my","our"]),fY=new Set(["lovely","awesome","amazing","wonderful","beautiful","sweet"]),pv=["no thanks","nope","no that's all","no that is all","nope that's all of us","done","that's all","thats all","that's everyone","thats everyone","that's everyone actually","thats everyone actually","that's it","thats it","all set","we're good","we are good","we good","no more","stop"],rh=[...pv,"i think that's all","i think thats all","nothing else","none","no other rooms","no other spaces","that is everything","that is all","no other","we are good on rooms","we are good on spaces","we are set","all good"],hY=["yes","yeah","yep","yup","sure","absolutely","of course","start over","restart","reset","reset it","reset onboarding","lets start over","let's start over","start from scratch","lets do it"],pY=["no","nope","not now","maybe later","keep it","leave it","stay as is","dont","don't"],mY=["reset onboarding","restart onboarding","start over onboarding"],zg=new Set([...rh,"what do you mean","i am confused","im confused","not sure","no idea"]),gY=e=>e.replace(/[.!?]+$/g,"").trim().toLowerCase(),K_=e=>{const t=gY(e);return!!(!t||zg.has(t)||t==="n/a"||t==="na")},yY=e=>Array.isArray(e)?e.map(t=>typeof t=="string"?t.trim():"").filter(Boolean).filter(t=>!K_(t)):[];function xs(e,t){const n=e.toLowerCase();return t.some(r=>n.includes(r))}function vY(e){const t=(e||"").toLowerCase();return/son|daughter|child|kid|boy|girl|teen/.test(t)}function jk(e){const t=gn(e.trim());if(!t)return"";const r=t.toLowerCase().endsWith("s")?"'":"'s";return`${t}${r} Room`}function Bp(e,t,n){const r=t.filter(l=>vY(l.role));if(!r.length)return[];const s=new Set(n.map(l=>l.toLowerCase())),i=new Set,o=r.map(l=>gn(l.name)).filter(l=>{if(!l)return!1;const c=l.toLowerCase();if(i.has(c))return!1;i.add(c);const d=jk(l);return d&&!s.has(d.toLowerCase())}).map(l=>jk(l)).filter(Boolean);if(!o.length)return[];let a=e??o.length;return a<=0&&(a=o.length),o.slice(0,Math.min(a,o.length))}const xY=["Master Bedroom","Master Bathroom","Primary Bedroom","Primary Bathroom","Kids Bedrooms","Kids Rooms","Kids Room","Kids Bathroom","Guest Bedroom","Guest Bathroom","Guest Room","Living Room","Dining Room","Kitchen","Study","Library","Office","Workout Room","Gym","Garage","Front Porch","Enclosed Front Porch","Porch","Basement","Attic","Laundry Room","Mud Room","Yard","Backyard","Deck","Patio","Loft","Playroom"],bY=[...xY].sort((e,t)=>t.length-e.length);function wY(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function SY(e){const t=new Set;return bY.forEach(n=>{if(new RegExp(`\\b${wY(n)}\\b`,"gi").test(e)){let s=n;n==="Primary Bedroom"&&(s="Master Bedroom"),n==="Primary Bathroom"&&(s="Master Bathroom"),n==="Kids Room"&&(s="Kids Rooms"),(n==="Enclosed Front Porch"||n==="Porch")&&(s="Front Porch"),n==="Gym"&&(s="Workout Room"),n==="Backyard"&&(s="Yard"),n==="Guest Bedroom"&&(s="Guest Room"),t.add(s)}}),Array.from(t)}function kY(e){let t=e.trim();if(!t)return[];t=t.replace(/^(?:and|&)+\s*/i,"").trim();let n=t.split(/\s+/).filter(Boolean);if(n.length<2)return[];for(;n.length>0&&uY.has(n[0].toLowerCase());)n=n.slice(1);if(n.length<2)return[];const r=[];let s=0;for(;s<n.length;){const d=n[s],f=d.toLowerCase();if(Ak.has(f)){s+=1;break}if(Nk.has(f)&&r.length){s+=1;break}if(s===0){r.push(d),s+=1;continue}if(cY.has(f)||Tk.has(f)||d.includes("-")){r.push(d),s+=1;continue}break}if(!r.length)return[];let i=n.slice(s);for(;i.length>0&&(Nk.has(i[0].toLowerCase())||dY.has(i[0].toLowerCase())||Ak.has(i[0].toLowerCase()));)i=i.slice(1);if(!i.length)return[];const a=i.join(" ").split(/\band\b|,|&/i).map(d=>d.trim()).filter(Boolean),l=Q_(r.join(" ")),c=[];return a.forEach(d=>{const f=d.replace(/^(?:the|a|an|my|our)\s+/i,"").replace(/'s$/i,"").trim();f&&(Tk.has(f.toLowerCase())||c.push({name:gn(f),role:l}))}),c}function EY(e){var i;const t=[],n=ri(e.trim());if(!n)return t;const r=/\b(?:my|our)\s+(.+?)(?=(?:\s*[,:;])?\s*(?:and\s+)?(?:my|our)\b|[.!?]|$)/gi;let s;for(;(s=r.exec(n))!==null;){const o=(i=s[1])==null?void 0:i.trim();if(!o)continue;kY(o).forEach(l=>{t.some(c=>c.name.toLowerCase()===l.name.toLowerCase())||t.push(l)})}return t}function _k(e,t,n){let r=ri(e.trim());if(!r)return[];r=r.replace(/^[\-*]+\s*/,"").replace(/:+$/,"").trim();const s=r.toLowerCase();if(!r||zg.has(s))return[];if(/that's all/i.test(r)||/nothing else/i.test(r))return[];if(/\b(kids?'?|children|sons|daughters|boys|girls)\b[^,.;]*\b(room|rooms|bedroom|bedrooms)\b/i.test(r)){const f=r.match(/(\d+)\s+(?:kids?'?|children|sons|daughters|boys|girls)/i),h=f&&parseInt(f[1],10)||null,p=Bp(h,t,n);return p.length?p:["Kids Rooms"]}if([/^(?:well|so|also|and|oh|yeah|yep|yup|sure|plus|anyway|honestly|actually|maybe|um|uh|okay|ok|alright)[,\s]+/i,/^oh\s+yeah[,\s]+/i,/^oh\s+ok[,\s]+/i].forEach(f=>{r=r.replace(f,"").trim()}),[/^(?:my|our)\s+(?:home|house)\s+has(?:\s+the\s+following\s+rooms?)?[:\s]*/i,/^home\s+has\s+/i,/^house\s+has\s+/i,/^we(?:'ve)?\s+(?:also\s+)?(?:got|have)\s+/i,/^we\s+also\s+keep\s+/i,/^there'?s\s+/i,/^here'?s\s+/i,/^it's\s+/i,/^its\s+/i,/^this\s+is\s+/i,/^just\s+/i,/^all\s+of\s+the\s+/i,/^all\s+of\s+/i,/^all\s+the\s+/i].forEach(f=>{r=r.replace(f,"").trim()}),!r)return[];if(/each of the kids? have their own room/i.test(r)||/each kid has their own room/i.test(r)){const f=Bp(null,t,n);return f.length?f:["Kids Rooms"]}if(/master\s+bed\s+and\s+bath/i.test(r))return["Master Bedroom","Master Bathroom"];r=r.replace(/^an\s+/i,"").replace(/^the\s+/i,"").replace(/^a\s+/i,""),r=r.replace(/\bbed\b$/i,"Bedroom"),r=r.replace(/\bbedroom room$/i,"Bedroom"),r=r.replace(/\bbath\b$/i,"Bathroom"),r=r.replace(/\bmaster bedroom bathroom$/i,"Master Bathroom");let l=gn(r.replace(/\s+/g," ").trim());const c=l.toLowerCase();if(!l||zg.has(c))return[];const d=SY(l);if(d.length)return d;if(/^bath$/i.test(l)&&(l="Bathroom"),/^room$/i.test(l))return[];if(/^rooms$/i.test(l))return[];if(/^kids$/i.test(l))return[];if(/^kids Rooms$/i.test(l)){const f=Bp(null,t,n);if(f.length)return f;l="Kids Rooms"}return/^basement$/i.test(l)&&(l="Basement"),/^garage$/i.test(l)&&(l="Garage"),l?[l]:[]}function CY(e,t,n){const r=e.trim();if(!r)return[];if(xs(r,rh))return[];let s=ri(r);if(s=s.replace(/[.!?]+$/,"").trim(),s.includes(":")){const a=s.split(":").slice(1).join(":").trim();a&&(s=a)}s=s.replace(/master\s+bed\s+and\s+bath/gi,"master bedroom, master bathroom"),s=s.replace(/master\s+bedroom\s+and\s+bathroom/gi,"master bedroom, master bathroom");const i=s.split(/[,;]|\band\b/gi).map(a=>a.trim()).filter(Boolean),o=[];return i.forEach(a=>{_k(a,n,[...t,...o]).forEach(c=>{const d=c.toLowerCase();c&&!t.some(f=>f.toLowerCase()===d)&&!o.some(f=>f.toLowerCase()===d)&&o.push(c)})}),o.length||_k(s,n,[...t,...o]).forEach(l=>{const c=l.toLowerCase();l&&!t.some(d=>d.toLowerCase()===c)&&!o.some(d=>d.toLowerCase()===c)&&o.push(l)}),o}function Uu(e){const t=new Set;return e.filter(n=>{const r=`${n.name.toLowerCase()}|${n.role.toLowerCase()}`;return t.has(r)?!1:(t.add(r),!0)})}function Vu(e){const t=new Set;return e.filter(n=>{const r=n.toLowerCase();return t.has(r)?!1:(t.add(r),!0)})}function TY(e){const t=ri((e??"").trim());if(!t)return"";const n=t.replace(/\s+/g," ");return Y_(n)??gn(n)}function NY(e){const t=(e??"").trim();if(t)return t.toLowerCase()}function AY(e){const t=new Set,n=e.map(s=>{const i=gn(ri((s.name??"").trim())),o=Q_((s.role??"").trim()),a=NY(s.email);return{name:i,role:o,...a?{email:a}:{}}}).filter(s=>s.name&&s.role);return Uu(n).filter(s=>{if(!s.email)return!0;const i=s.email.toLowerCase();return t.has(i)?!1:(t.add(i),!0)})}function X_(e){return Vu(e.map(t=>ri((t??"").trim())).filter(Boolean).filter(t=>!K_(t)).map(t=>gn(t.replace(/\s+/g," "))))}function jY(e){const t=TY(e.family_name),n=AY(e.members),r=X_(e.rooms);return{familyName:t,members:n,rooms:r,diagnostics:{rawFamily:e.family_name,rawMemberCount:e.members.length,normalizedMemberCount:n.length,rawRoomCount:e.rooms.length,normalizedRoomCount:r.length}}}function _Y(e,t){var s;const n=t.trim(),r=n.toLowerCase();if(e.currentStep==="greeting"){const i=e.family_name?void 0:Y_(t),o=e.family_name||i;return{assistant_reply:o?`Wonderful. I'd love to get to know the people who make up ${o}. Who should we invite first?`:"Thanks for kicking things off! I'd love to know who will be using FamConomy with youwho should we invite first?",extracted:i?{family_name:i}:{},next_step:o?"members":"greeting"}}if(e.currentStep==="members"){if(xs(t,pv)){const a=e.members.length>0;return{assistant_reply:a?"Perfect, I feel like I'm getting to know your family already. Let's talk about your spacewhat rooms or areas should we keep track of?":"I'd love to know at least one person in your crew. Share a name and role, or tell me you'd like to skip this part for now.",extracted:{},next_step:a?"rooms":"members"}}if(r.includes("spell")||r.includes("name")&&r.includes("wrong"))return{assistant_reply:"Thanks for pointing that outI'd love to get the names right. Could you share each name again so I can fix them?",extracted:{},next_step:"members"};const i=EY(t);if(i.length>0){const a=i.filter(l=>!e.members.some(c=>c.name.toLowerCase()===l.name.toLowerCase()));if(a.length>0)return{assistant_reply:`Love it! I'll add ${a.map(c=>`${c.name} (${c.role})`).join(", ")}. Anyone else to invite?`,extracted:{members_add:a},next_step:"members"}}const o=(s=e.members[e.members.length-1])==null?void 0:s.name;return{assistant_reply:o?`I bet ${o} has a partner in crime. Tell me about another person in your crewname and role work great!`:"I'd love to meet everyone. Who's the first family member we should add, and how are they connected to you?",extracted:{},next_step:"members"}}if(e.currentStep==="rooms"){const i=xs(t,rh),o=CY(t,e.rooms,e.members);if(o.length>0){const l=o.join(", ");return{assistant_reply:i?`Great! I'll note ${l}. That should cover everything for nowif another space pops up later, just let me know.`:`Great! I'll note ${l}. Any other spaces you rely on?`,extracted:{rooms_add:o},next_step:i?"committed":"rooms"}}if(i)return{assistant_reply:"Sounds goodI'll get those spaces set up. If you think of another room later, just let me know.",extracted:{},next_step:"committed"};const a=e.rooms[e.rooms.length-1];return{assistant_reply:a?`I'm picturing ${a}. What other spaces should I know about so we can keep things organized for you?`:"Paint me a picture of your home. What's one room or space your family relies on a lot?",extracted:{},next_step:"rooms"}}return e.currentStep==="committed"?{assistant_reply:"Amazing, I have what I need. Give me just a sec while I set everything up behind the scenes.",extracted:{},next_step:"committed"}:{assistant_reply:n?"Thanks for sharing that with me! Let me know anything else you'd like me to remember about your family.":"I'm here and ready whenever you want to tell me more about your family setup.",extracted:{},next_step:e.currentStep}}const RY=({familyId:e,userId:t})=>{const[n,r]=x.useState(pl()),s=x.useRef(null),{checkAuthStatus:i}=vt(),{appendLinZMessage:o,appendUserMessage:a,updateLinZMessage:l}=xc(),[c,d]=x.useState(e),f=x.useRef(e??null),[h,p]=x.useState(!0),m=x.useRef(0),v=x.useRef(null),b=x.useRef(null);x.useEffect(()=>{const N=`${e??"none"}:${t??"none"}`;if(s.current===N)return;const A=s.current;if(s.current=N,!A){b.current=null,r(pl()),m.current=0;return}const[R="none",I="none"]=A.split(":"),[O="none",j="none"]=N.split(":");(I!==j||R!=="none"&&R!==O)&&(b.current=null,r(pl()),m.current=0)},[e,t]),x.useEffect(()=>{h&&typeof e=="number"&&e!==c&&(f.current=e,d(e))},[h,e,c]),x.useEffect(()=>{f.current=c},[c]);const y=x.useCallback(async N=>{var I,O,j;const A=f.current;if(A)return A;if(!t)return null;const R=(N==null?void 0:N.trim())||n.family_name.trim()||"My Family";try{on.log("Ensuring family id",{preferredName:N??n.family_name});const B=await ie.post("/family",{familyName:R||"My Family"}),U=((I=B.data)==null?void 0:I.FamilyID)??((O=B.data)==null?void 0:O.familyId)??((j=B.data)==null?void 0:j.id);if(typeof U!="number")throw new Error("Family creation did not return a valid FamilyID.");f.current=U,d(U),p(!0);try{await i()}catch(X){Xd.warn("Failed to refresh auth after family creation",X)}return on.log("Family id resolved",{newFamilyId:U}),U}catch(B){return Xd.error("Failed to ensure familyId during onboarding",B),null}},[c,t,n.family_name,i]),g=n.messages.some(N=>N.sender==="user");x.useEffect(()=>{(async()=>{if(g){on.log("Skipping hydration because user has already interacted.");return}if(!c||!t){r(A=>({...A,hydrated:!0}));return}r(A=>({...A,loading:!0,error:null}));try{const A=await ie.get(`/linz/context/hydrate?familyId=${c}&userId=${t}`),{onboardingMemory:R,existingFacts:I}=A.data;let O="",j=[],B=[];const U=[];R==null||R.forEach(te=>{if(!(te.namespace&&te.namespace!=="onboarding"))try{const V=JSON.parse(te.value);te.key==="family_name"&&typeof V=="string"&&(O=V),te.key==="member_candidates"&&Array.isArray(V)&&(j=V),te.key==="room_candidates"&&Array.isArray(V)&&(B=V)}catch{}});const X=new Map((I==null?void 0:I.map(te=>[te.key,te.value]))??[]);if(!O){const te=X.get("family.name");typeof te=="string"?O=te:te&&typeof te=="object"&&"value"in te&&typeof te.value=="string"&&(O=te.value)}if(!j.length){const te=X.get("onboarding.members");Array.isArray(te)&&(j=te.map(V=>({name:typeof(V==null?void 0:V.name)=="string"?V.name:"",role:typeof(V==null?void 0:V.relationshipName)=="string"?V.relationshipName:typeof(V==null?void 0:V.role)=="string"?V.role:"",email:typeof(V==null?void 0:V.email)=="string"?V.email:void 0})).filter(V=>V.name))}if(!B.length){const te=X.get("onboarding.rooms");Array.isArray(te)&&(B=te.filter(V=>typeof V=="string"))}j=Uu(j.map(te=>({...te,name:gn(te.name),role:te.role?gn(te.role):""}))),B=Vu(B.map(te=>gn(te)));const L=uu(O,j,B);let $=Ck(L),ne=!1,K=[...Ek.messages];const ee=X.get("onboarding.status"),ce=typeof ee=="string"?ee:ee&&typeof ee=="object"&&"state"in ee?ee.state:void 0;ce==="completed"?($="completed",ne=!0,K=[{sender:"LinZ",text:"Welcome back to onboarding! Would you like to start over?"}]):ce==="committed"&&($="committed"),ne?U.push(...K):U.push(...Ek.messages),r(te=>te.messages.some(fe=>fe.sender==="user")?{...te,family_name:O,members:j,rooms:B,slot_status:L,currentStep:$,loading:!1,hydrated:!0,awaitingResetConfirmation:ne,streamingMessage:te.streamingMessage}:(b.current=null,{...te,family_name:O,members:j,rooms:B,slot_status:L,currentStep:$,messages:U,loading:!1,hydrated:!0,awaitingResetConfirmation:ne,streamingMessage:null}))}catch(A){r(R=>{const I=R.messages.some(O=>O.sender==="user");return I||(b.current=null),{...R,loading:!1,error:A.message??"Failed to hydrate",hydrated:!0,streamingMessage:I?R.streamingMessage:null}})}})()},[c,t,g]);const w=x.useCallback(async(N,A,R="onboarding")=>{if(!t)return;let I=c;if(I||(N==="family_name"&&typeof A=="string"?I=await y(A):n.family_name&&(I=await y(n.family_name))),!!I)try{on.log("Persisting memory item",{key:N,hasValue:A!==void 0,namespace:R}),await ie.put("/linz/memory",{items:[{familyId:I,userId:t,namespace:R,key:N,value:JSON.stringify(A)}]})}catch{r(j=>({...j,error:`Failed to save ${N}.`}))}},[c,y,t,n.family_name]),S=x.useCallback(async N=>{var L,$,ne,K;if(!t)return!1;const A=c??await y();if(!A)return r(ee=>({...ee,error:"Unable to create family record."})),!1;const R=(N==null?void 0:N.family_name)??n.family_name,I=(N==null?void 0:N.members)??n.members,O=(N==null?void 0:N.rooms)??n.rooms,j=jY({family_name:R,members:I,rooms:O}),B=j.familyName||ri(R.trim()),U=j.members,X=j.rooms;if(on.log("Commit evaluation",{familyId:A,...j.diagnostics}),!B)return r(ee=>({...ee,loading:!1,error:"Family name is incompleteplease confirm it before continuing."})),!1;if(!U.length)return r(ee=>({...ee,loading:!1,error:"Member details need another look before we can continue."})),!1;if(!X.length)return r(ee=>({...ee,loading:!1,error:"Please share at least one room or space to finish onboarding."})),!1;on.log("Committing onboarding data",{familyId:A,memberCount:U.length,roomCount:X.length}),r(ee=>({...ee,loading:!0}));try{const ce=(await ie.post("/onboarding/commit",{familyId:A,userId:t,family_name:B,members:U,rooms:X})).data,te=(L=ce==null?void 0:ce.rooms)!=null&&L.length?X_(ce.rooms):X,V=uu(B,U,te);return on.log("Commit successful",{familyId:A,message:ce==null?void 0:ce.message,returnedRooms:(($=ce==null?void 0:ce.rooms)==null?void 0:$.length)??0}),typeof window<"u"&&window.localStorage.setItem("famconomy.activeFamilyId",String(A)),p(!0),r(fe=>({...fe,loading:!1,family_name:B,members:U,rooms:te,slot_status:V,currentStep:"committed",error:null})),!0}catch(ee){const ce=((K=(ne=ee==null?void 0:ee.response)==null?void 0:ne.data)==null?void 0:K.error)||ee.message||"Failed to commit onboarding";return on.error("Commit failed",ce),r(te=>({...te,loading:!1,error:ce})),!1}},[c,y,t,n.family_name,n.members,n.rooms]),k=x.useCallback(async N=>{var _e,Ae,Je;on.log("Processing user response",{currentStep:n.currentStep,message:N,memberCount:n.members.length,roomCount:n.rooms.length}),r(F=>{const xe=F.messages.some(we=>we.sender==="user")?"":null;return b.current=xe,{...F,streamingMessage:xe}});let A=null;if(t){const F=n.messages.slice(-10);A=await lY(N,c,t,F,ve=>{r(xe=>(b.current=ve,{...xe,streamingMessage:ve}))})}let R=((_e=A==null?void 0:A.assistant_reply)==null?void 0:_e.trim())??"",I=n.family_name,O=[...n.members],j=[...n.rooms],B,U={},X=!1;const L=A==null?void 0:A.state,$=(A==null?void 0:A.hasContent)??!1,ne=(A==null?void 0:A.completed)??!1,K=!!L;let ee=R.length>0;if(!ee){const F=(Ae=b.current)==null?void 0:Ae.trim();F&&(R=F,ee=!0)}if(L){const{family_name:F,members:ve,rooms:xe,next_step:we}=L;if(F){const Pe=F.trim();Pe&&Pe!==I&&(I=Pe,await w("family_name",I))}if(Array.isArray(ve)){const Pe=ve.map(G=>{var Te,Oe,Be;return{name:(Te=G.name)==null?void 0:Te.trim(),role:(Oe=G.role)==null?void 0:Oe.trim(),email:((Be=G.email)==null?void 0:Be.trim())||void 0}}).filter(G=>G.name&&G.role);if(Pe.length){const G=Uu(Pe),Te=JSON.stringify(O.map(Be=>({name:Be.name,role:Be.role,email:Be.email??null}))),Oe=JSON.stringify(G.map(Be=>({name:Be.name,role:Be.role,email:Be.email??null})));Te!==Oe&&(O=G,await w("member_candidates",O))}}if(Array.isArray(xe)){const Pe=Vu(xe.map(G=>gn((G||"").trim())).filter(Boolean));if(Pe.length){const G=JSON.stringify(j),Te=JSON.stringify(Pe);G!==Te&&(j=Pe,await w("room_candidates",j))}}we&&["greeting","members","rooms","committed","completed"].includes(we)&&(B=we)}const ce=F=>{if(!F)return null;const{next_step:ve,family_name:xe,members:we,rooms:Pe}=F,G=(xe==null?void 0:xe.trim())||"your family",Te=Array.isArray(we)?we.length:0,Oe=Array.isArray(Pe)?Pe.length:0,Be=Te?`${Te} member${Te===1?"":"s"}`:"no members yet",at=Oe?`${Oe} room${Oe===1?"":"s"}`:"no rooms yet";switch(ve){case"members":return"Great! Tell me about the people we should include next.";case"rooms":return"Awesomelet's talk about the rooms or spaces you want to track.";case"committed":case"completed":return`All set! I've saved ${G} with ${Be} and ${at}. You're ready to continue.`;default:return null}},te=async F=>{var we;const ve={...n,family_name:I,members:O,rooms:j,slot_status:uu(I,O,j)};if(X)return;{await aY(oY);const Pe=((we=b.current)==null?void 0:we.trim())??"";if(R.trim()||Pe){!R.trim()&&Pe&&(R=Pe),ee=R.length>0,on.warn("Skipping fallback after delay because assistant reply arrived",{assistantReply:R,streamHasContent:$,streamCompleted:ne,streamingRef:b.current});return}}X=!0;const xe=_Y(ve,N);R=xe.assistant_reply,ee=R.length>0,U=xe.extracted??{},xe.next_step&&(B=xe.next_step),b.current=R,on.warn("Fallback applied",{assistantReply:R,extracted:U,streamHasContent:$,streamCompleted:ne,userMessage:N})};if(!A)on.warn("Applying fallback",{reason:"streamResult null",userMessage:N}),await te();else{if(!ee&&$&&(R=((Je=A.assistant_reply)==null?void 0:Je.trim())??"",ee=R.length>0),!ee){const F=ce(L??null);F&&(R=F,ee=!0)}!ee&&ne&&!K&&(on.warn("Applying fallback",{reason:"completed without assistant reply",assistantReply:R,streamHasContent:$,streamCompleted:ne,streamingRef:b.current}),await te())}if(!X&&!ee&&!$&&!K&&(on.warn("Applying fallback",{reason:"no content received",assistantReply:R,streamHasContent:$,streamCompleted:ne,streamingRef:b.current}),await te()),U.family_name&&!I&&(I=U.family_name.trim(),await w("family_name",I)),Array.isArray(U.members_add)&&U.members_add.length>0){const F=U.members_add.map(ve=>{var xe,we,Pe;return{name:(xe=ve.name)==null?void 0:xe.trim(),role:(we=ve.role)==null?void 0:we.trim(),email:(Pe=ve.email)==null?void 0:Pe.trim()}}).filter(ve=>ve.name&&ve.role);F.length&&(O=Uu([...O,...F]),await w("member_candidates",O))}if(X){const F=yY(U.rooms_add);F.length&&(j=Vu([...j,...F.map(ve=>gn(ve))]),await w("room_candidates",j))}const V=xs(N,pv);n.currentStep==="members"&&V&&(B=O.length>0?"rooms":"members",R||(R=O.length>0?"Perfect, let's talk about your spacewhat rooms or areas should we keep track of?":"I'd love to know at least one person in your crew. Share a name and role, or tell me you'd like to skip this part for now."));const fe=xs(N,rh);n.currentStep==="rooms"&&fe&&(B="committed",R||(R="Sounds goodI'll get those spaces set up. If you think of another room later, just let me know."));const Ce=uu(I,O,j),q=B??n.currentStep,ae=Ck(Ce),W=q&&["greeting","members","rooms","committed","completed"].includes(q)?q:ae,J=R;r(F=>(b.current=null,{...F,family_name:I,members:O,rooms:j,slot_status:Ce,currentStep:W,messages:[...F.messages,{sender:"LinZ",text:J}],streamingMessage:null}));const pe=Ce.family_name==="filled"&&Ce.members==="filled"&&Ce.rooms==="filled"&&(W==="committed"||W==="completed"||(L==null?void 0:L.next_step)==="completed");on.log("Commit evaluation",{currentStep:n.currentStep,nextStep:W,streamNextStep:L==null?void 0:L.next_step,slot_status:Ce,membersCount:O.length,roomsCount:j.length,shouldCommit:pe}),pe&&await S({family_name:I,members:O,rooms:j})},[n,w,S,c,t]),E=x.useCallback(async N=>{var I,O;const A=(N==null?void 0:N.skipServer)??!1,R=(j=!0)=>{m.current=0,v.current=null,j?p(!0):(p(!1),f.current=null,d(null)),b.current=null,r(()=>iY())};if(A){R(!1);return}if(!t){R(!1);return}r(j=>({...j,loading:!0,error:null}));try{const j=c??e??null;await ie.post("/onboarding/reset",{userId:t,...j?{familyId:j}:{}}),R(!0)}catch(j){const B=((O=(I=j==null?void 0:j.response)==null?void 0:I.data)==null?void 0:O.error)||j.message||"Failed to reset onboarding";r(U=>(b.current="",{...U,loading:!1,error:B,streamingMessage:""}))}},[e,c,t]),C=x.useCallback(async N=>{const A=N.trim();if(!A)return;const R=A.toLowerCase(),I=async j=>{if(j==="accept")return r(U=>(b.current="",{...U,awaitingResetConfirmation:!1,messages:[...U.messages,{sender:"user",text:A}],streamingMessage:""})),await E(),r(U=>(b.current="",{...U,messages:[{sender:"LinZ",text:"All rightstarting fresh! Tell me what your family should be called."}],streamingMessage:""})),!0;const B=j==="decline"?'No problem! Everything will stay just the way it is. If you change your mind, just say "reset onboarding."':'Totally fine! If you decide you want to start over later, just let me know by saying "reset onboarding."';return r(U=>(b.current="",{...U,awaitingResetConfirmation:!1,messages:[...U.messages,{sender:"user",text:A},{sender:"LinZ",text:B}],streamingMessage:""})),!0},O=xs(R,mY);if(n.awaitingResetConfirmation||O){if(O&&!n.awaitingResetConfirmation){r(B=>({...B,awaitingResetConfirmation:!0})),await I("accept");return}const j=xs(R,hY)?"accept":xs(R,pY)?"decline":"unknown";await I(j);return}r(j=>({...j,messages:[...j.messages,{sender:"user",text:A}]})),await k(A)},[k,n.awaitingResetConfirmation,E]);x.useEffect(()=>{if(!o||!a||!n.messages.length)return;const N=m.current;if(n.messages.length<=N)return;n.messages.slice(N).forEach(R=>{const I=R.text.trim();I&&(R.sender==="LinZ"?o(I,{meta:{source:"onboarding"}}):a(I,{meta:{source:"onboarding"}}))}),m.current=n.messages.length},[n.messages,o,a]);const T=x.useCallback(()=>{r(N=>({...N,currentStep:"completed",awaitingResetConfirmation:!1}))},[]);return{state:n,sendUserMessage:C,commitOnboardingData:S,resetOnboarding:E,markCompleted:T}},Z_=x.createContext(null),DY=({familyId:e,userId:t,children:n})=>{const r=RY({familyId:e,userId:t});return u.jsx(Z_.Provider,{value:r,children:n})},sh=()=>{const e=x.useContext(Z_);if(!e)throw new Error("useOnboardingContext must be used within an OnboardingProvider");return e},Rk={parent:{bg:"bg-primary-100",text:"text-primary-800"},guardian:{bg:"bg-secondary-100",text:"text-secondary-800"},child:{bg:"bg-accent-100",text:"text-accent-800"},other:{bg:"bg-neutral-100",text:"text-neutral-800"}},Dk=()=>{const e=Zn(),{user:t}=vt(),{family:n,families:r,activeFamilyId:s,setActiveFamilyId:i,isLoading:o,error:a,refetchFamily:l}=Jn(),[c,d]=x.useState([]),[f,h]=x.useState([]),[p,m]=x.useState([]),[v,b]=x.useState(!1),[y,g]=x.useState(null),[w,S]=x.useState(!1),[k,E]=x.useState(null),[C,T]=x.useState(!1),[N,A]=x.useState(!1),[R,I]=x.useState(null),[O,j]=x.useState(!1),[B,U]=x.useState([]),[X,L]=x.useState(!1),[$,ne]=x.useState(null),[K,ee]=x.useState(!1),[ce,te]=x.useState(!1),[V,fe]=x.useState(""),[Ce,q]=x.useState(!1),[ae,W]=x.useState(null),J=x.useMemo(()=>zt("family-page"),[]),pe=a??y,_e=o||v,Ae=sh(),[Je,F]=vf(),ve=x.useCallback(async()=>{try{const _=await qq();d(_)}catch(_){g(_ instanceof Error?_.message:"Failed to load relationships")}},[]),xe=x.useCallback(async()=>{try{const _=await f_();J.log("roomTemplatesData from API",_);const re=Array.from(new Map(_.map(ge=>[ge.roomTemplate.id,ge.roomTemplate])).values());m(re)}catch(_){g(_ instanceof Error?_.message:"Failed to load room templates")}},[J]),we=x.useCallback(async _=>{if(!_){h([]),U([]),g(null);return}try{b(!0),g(null);const[re,ge]=await Promise.all([Jq(),h_(_)]);U(re.filter(Et=>Et.FamilyID===_)),h(ge)}catch(re){g(re instanceof Error?re.message:"Failed to load family data")}finally{b(!1)}},[]),Pe=x.useCallback(async()=>{try{const re=await xg("New Household"),ge=await NA(),Et=(re==null?void 0:re.FamilyID)??ge.activeFamilyId??null;Et!==null&&(i(Et,{families:ge.families??r}),await we(Et)),Ae!=null&&Ae.resetOnboarding&&await Ae.resetOnboarding(),e("/onboarding?new=1")}catch(_){g(_ instanceof Error?_.message:"Failed to start a new household")}},[r,we,e,Ae,i]);x.useEffect(()=>{ve(),xe()},[ve,xe]),x.useEffect(()=>{we(s??null)},[s,we]),x.useEffect(()=>{const _=Je.get("token");J.log("FamilyPage useEffect: token from URL",_),_&&(ne(_),L(!0),J.log("FamilyPage useEffect: setting invitationToken",_),J.log("FamilyPage useEffect: setting showInvitationActionModal",!0))},[Je,F,J]);const G=async()=>{var ge,Et;const _=await l(),re=(_==null?void 0:_.activeFamilyId)??((Et=(ge=_==null?void 0:_.families)==null?void 0:ge[0])==null?void 0:Et.FamilyID)??null;re!==null&&(i(re,{families:(_==null?void 0:_.families)??r}),await we(re))},[Te,Oe]=x.useState(null),Be=x.useCallback(_=>{const re=Number(_.target.value);Number.isNaN(re)?i(null):i(re)},[i]),at=async(_,re)=>{if(!(!n||!t))try{await Zq(n.FamilyID.toString(),_,t.id??t.UserID,re),S(!1),E(null),await we(n.FamilyID)}catch(ge){g(ge instanceof Error?ge.message:"Failed to send invitation")}},Hr=async(_,re)=>{if(n)try{await tU(n.FamilyID.toString(),_,re),T(!1),await l()}catch(ge){g(ge instanceof Error?ge.message:"Failed to save settings")}},Ji=async _=>{if(R)try{await sY(R.UserID,_),j(!1),await l()}catch(re){g(re instanceof Error?re.message:"Failed to update profile")}},eo=async _=>{if(n)try{await nU(n.FamilyID.toString(),String(_)),await l()}catch(re){g(re instanceof Error?re.message:"Failed to remove member")}},to=async()=>{if(!(!n||!t))try{await rU(),A(!1),await l()}catch(_){g(_ instanceof Error?_.message:"Failed to leave family")}},no=async _=>{try{await eY(_),await we((n==null?void 0:n.FamilyID)??s??null),await l()}catch(re){g(re instanceof Error?re.message:"Failed to accept invitation")}},si=async _=>{try{await tY(_),await we((n==null?void 0:n.FamilyID)??s??null)}catch(re){g(re instanceof Error?re.message:"Failed to decline invitation")}},ii=async(_,re)=>{if(n)try{await E9(n.FamilyID,_,re),ee(!1),await we(n.FamilyID)}catch(ge){g(ge instanceof Error?ge.message:"Failed to create room")}},ah=async _=>{if(!(!n||!window.confirm("Remove this room? Any gigs assigned to it will also be cleared.")))try{await C9(_),await we(n.FamilyID)}catch(ge){g(ge instanceof Error?ge.message:"Failed to delete room")}},ro=async()=>{if(!(!n||!window.confirm("Reset the entire floor plan? This removes every room and its assignments.")))try{await T9(n.FamilyID),await we(n.FamilyID),Ae!=null&&Ae.resetOnboarding&&await Ae.resetOnboarding(),sessionStorage.setItem("onboarding-focus","rooms"),e("/onboarding?focus=rooms")}catch(re){g(re instanceof Error?re.message:"Failed to reset floor plan")}},lh=_=>{if(!_)return"other";const re=c.find(ge=>ge.RelationshipID===_);return re?re.RelationshipName.toLowerCase():"other"};if(_e)return u.jsx("div",{children:"Loading family data..."});if(pe)return u.jsxs("div",{className:"text-error-500",children:["Error: ",pe]});const ch="famc.local",uh=_=>!_||_.toLowerCase().endsWith(`@${ch}`);let Y=!1;return u.jsxs("div",{className:"space-y-6",children:[!n&&!$&&u.jsx(AA,{onFamilyCreated:G}),n&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Active household"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("select",{value:s??"",onChange:Be,className:"px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 focus:outline-none focus:ring-2 focus:ring-primary-500",children:r.map(_=>u.jsx("option",{value:_.FamilyID,children:_.FamilyName},_.FamilyID))}),u.jsx("button",{onClick:Pe,className:"px-3 py-2 rounded-2xl border border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:"Start New Household"})]})]}),r.length>1&&u.jsx("div",{className:"flex flex-wrap gap-2",children:r.filter(_=>_.FamilyID!==s).map(_=>u.jsxs("button",{onClick:()=>i(_.FamilyID),className:"px-3 py-1 rounded-2xl border border-neutral-200 dark:border-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:["Switch to ",_.FamilyName]},_.FamilyID))})]}),u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-1",children:n.FamilyName}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"Manage your family circle and permissions"})]}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[u.jsxs("button",{onClick:()=>T(!0),className:"flex items-center px-3 py-2 rounded-2xl border border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:[u.jsx(GT,{size:18,className:"mr-2"}),u.jsx("span",{children:"Settings"})]}),u.jsxs("button",{onClick:()=>{E(null),S(!0)},className:"flex items-center px-3 py-2 rounded-2xl bg-primary-500 text-white hover:bg-primary-600 dark:hover:bg-primary-400 transition-colors",children:[u.jsx(O4,{size:18,className:"mr-2"}),u.jsx("span",{children:"Invite Member"})]})]})]}),u.jsx("div",{id:"family-members-panel",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.members.map(_=>{const re=lh(_.RelationshipID),ge=Rk[re]||Rk.other,Et=uh(_.Email),dh=Et&&!Y?"placeholder-members-callout":void 0;return Et&&!Y&&(Y=!0),u.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-card hover:shadow-card-hover transition-all p-6",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"relative",children:u.jsx("img",{src:_.ProfilePhotoUrl||"https://i.pravatar.cc/100",alt:`${_.FirstName} ${_.LastName}`,className:"h-12 w-12 rounded-full object-cover"})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"font-medium text-neutral-900 dark:text-white",children:`${_.FirstName} ${_.LastName}`}),u.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full mt-1 ${ge.bg} ${ge.text}`,children:re.charAt(0).toUpperCase()+re.slice(1)}),Et&&u.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-1 text-xs rounded-full bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-200",children:"Placeholder"})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>Oe(Nc=>Nc===_.UserID?null:_.UserID),className:"text-neutral-400 hover:text-neutral-600 dark:text-neutral-500 dark:hover:text-neutral-300",children:u.jsx($T,{size:18})}),u.jsx(Cn,{children:Te===_.UserID&&u.jsx(Kq,{isOpen:Te===_.UserID,onClose:()=>Oe(null),onEdit:()=>{I(_),j(!0)},onRemove:()=>eo(_.UserID)})})]})]}),u.jsxs("div",{className:"space-y-3 text-sm",children:[u.jsxs("div",{className:"flex items-center text-neutral-500 dark:text-neutral-400",children:[u.jsx(n0,{size:16,className:"mr-2"}),u.jsxs("span",{children:["Joined ",new Date(_.CreatedDate).toLocaleDateString()]})]}),_.BirthDate&&u.jsxs("div",{className:"flex items-center text-neutral-500 dark:text-neutral-400",children:[u.jsx(ig,{size:16,className:"mr-2"}),u.jsxs("span",{children:["Born ",new Date(_.BirthDate).toLocaleDateString()]})]}),Et&&u.jsxs("div",{id:dh,className:"rounded-xl border border-dashed border-primary-300 dark:border-primary-700 bg-primary-50/60 dark:bg-primary-900/20 px-3 py-3 text-sm text-primary-700 dark:text-primary-200",children:[u.jsxs("p",{className:"mb-2",children:["This profile was created during onboarding. Send an email invite to let ",_.FirstName," join FamConomy."]}),u.jsx("button",{onClick:()=>{var Nc;E({email:"",relationshipId:_.RelationshipID??((Nc=c[0])==null?void 0:Nc.RelationshipID)??0,name:`${_.FirstName} ${_.LastName}`.trim()}),S(!0)},className:"inline-flex items-center px-3 py-2 rounded-xl bg-primary-500 text-white hover:bg-primary-600 dark:hover:bg-primary-400",children:"Send Invitation"})]})]})]},_.UserID)})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("h2",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:"Rooms"}),f.length>0&&u.jsxs("button",{onClick:ro,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-2xl border border-neutral-200 dark:border-neutral-700 text-sm text-neutral-600 dark:text-neutral-300 hover:bg-neutral-50 dark:hover:bg-neutral-800",children:[u.jsx(R4,{size:16}),"Reset Floor Plan"]})]}),u.jsxs("button",{onClick:()=>ee(!0),className:"flex items-center px-3 py-2 rounded-2xl bg-primary-500 text-white hover:bg-primary-600 dark:hover:bg-primary-400 transition-colors",children:[u.jsx(Hs,{size:18,className:"mr-2"}),u.jsx("span",{children:"Add Room"})]})]}),f.length===0?u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"No rooms configured yet. Add your first room!"}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(_=>{var re;return u.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-card p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-neutral-900 dark:text-white",children:_.name}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:_.roomTemplateId?"Based on template":"Custom room"})]}),u.jsx("button",{onClick:()=>ah(_.id),className:"text-neutral-400 hover:text-red-500 transition-colors","aria-label":`Delete ${_.name}`,children:u.jsx(pc,{size:16})})]}),((re=_.roomTemplate)==null?void 0:re.description)&&u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 line-clamp-3",children:_.roomTemplate.description})]},_.id)})})]}),u.jsx(nY,{invitations:B,onAccept:no,onDecline:si,searchParams:Je,setSearchParams:F}),u.jsx(Yq,{isOpen:w,onClose:()=>{S(!1),E(null)},onInvite:at,relationships:c,initialEmail:k==null?void 0:k.email,initialRelationshipId:k==null?void 0:k.relationshipId,inviteeName:k==null?void 0:k.name}),n&&u.jsx(Qq,{isOpen:C,onClose:()=>T(!1),onSave:Hr,onLeaveFamily:()=>A(!0),onCreateNewFamily:()=>{T(!1),fe(""),W(null),te(!0)},family:n}),R&&u.jsx(Xq,{isOpen:O,onClose:()=>j(!1),onSave:Ji,user:R,relationships:c}),u.jsx(Cn,{children:N&&u.jsx("div",{className:"fixed inset-0 bg-neutral-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsx(St.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-lg w-full max-w-md",children:u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-white mb-4",children:"Are you sure you want to leave this family?"}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-6",children:"You will lose access to all family data."}),u.jsxs("div",{className:"flex justify-center gap-4",children:[u.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-xl",children:"Cancel"}),u.jsx("button",{onClick:to,className:"px-4 py-2 text-sm font-medium text-white bg-red-500 hover:bg-red-600 rounded-xl",children:"Leave Family"})]})]})})})}),u.jsx(Gq,{isOpen:K,onClose:()=>ee(!1),onConfirm:ii,roomTemplates:p})]}),$&&u.jsx(rY,{isOpen:X,onClose:()=>L(!1),token:$,onAccept:no,onDecline:si,setSearchParams:F,currentUser:t}),u.jsx(Cn,{children:ce&&u.jsx("div",{className:"fixed inset-0 bg-neutral-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsxs(St.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-lg w-full max-w-md",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-700",children:[u.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-white",children:"Create a New Household"}),u.jsx("button",{onClick:()=>te(!1),className:"text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-300",children:""})]}),u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"Give your new household a name. You can invite members or run the onboarding assistant once its created."}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Household Name"}),u.jsx("input",{type:"text",value:V,onChange:_=>fe(_.target.value),placeholder:"e.g., The Andersons",className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",disabled:Ce})]}),ae&&u.jsx("p",{className:"text-sm text-error-500",children:ae})]}),u.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t border-neutral-200 dark:border-neutral-700",children:[u.jsx("button",{onClick:()=>te(!1),className:"px-4 py-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-xl",disabled:Ce,children:"Cancel"}),u.jsx("button",{onClick:async()=>{if(!V.trim()){W("Household name is required.");return}try{q(!0),W(null);const _=await xg(V.trim()),re=await l();i(_.FamilyID,{families:(re==null?void 0:re.families)??r}),await we(_.FamilyID),te(!1),fe(""),q(!1),window.confirm("Household created! Would you like to run the onboarding assistant now?")&&e("/onboarding")}catch(_){W(_ instanceof Error?_.message:"Failed to create household"),q(!1)}},className:"px-4 py-2 text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 dark:hover:bg-primary-400 rounded-xl disabled:opacity-60",disabled:Ce,children:Ce?"Creating":"Create Household"})]})]})})})]})},IY=async e=>(await ie.get(`/journal/family/${e}`)).data,PY=async e=>(await ie.post("/journal",e)).data,OY=async(e,t)=>{await ie.put(`/journal/${e}`,t)},MY=async e=>{await ie.delete(`/journal/${e}`)},Ik=()=>{const{user:e}=vt(),{family:t}=Jn(),[n,r]=x.useState([]),[s,i]=x.useState(null),[o,a]=x.useState(!0),[l,c]=x.useState(null),[d,f]=x.useState(!1),[h,p]=x.useState(!1),[m,v]=x.useState(window.innerWidth<1024);x.useEffect(()=>{const S=()=>{v(window.innerWidth<1024)};return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const b=x.useCallback(async()=>{if(t)try{a(!0);const S=await IY(t.FamilyID.toString());r(S)}catch(S){c(S instanceof Error?S.message:"An unknown error occurred")}finally{a(!1)}},[t]);x.useEffect(()=>{b()},[b]);const y=async(S,k)=>{if(!(!t||!e))try{const E=await PY({FamilyID:t.FamilyID,Title:S,EntryText:"",IsPrivate:k,CreatedByUserID:e.id});await b(),i(E),f(!1)}catch(E){c(E instanceof Error?E.message:"Failed to create entry")}},g=async(S,k)=>{try{await OY(S.toString(),k),b()}catch(E){c(E instanceof Error?E.message:"Failed to update entry")}},w=async S=>{try{await MY(S.toString()),b(),i(null)}catch(k){c(k instanceof Error?k.message:"Failed to delete entry")}};return o?u.jsx("div",{children:"Loading journal entries..."}):l?u.jsxs("div",{className:"text-error-500",children:["Error: ",l]}):u.jsxs("div",{id:"journal-board",className:`h-full flex ${h?"fixed inset-0 z-50 bg-white dark:bg-neutral-800":"bg-white dark:bg-neutral-800 rounded-2xl shadow-card"}`,children:[u.jsxs("div",{className:`${m&&s&&!h?"hidden":"w-full lg:w-1/3"} ${h&&s?"hidden lg:flex":"flex"} flex-col border-r border-neutral-200 dark:border-neutral-700`,children:[u.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-700 flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:"Journal Entries"}),u.jsx("button",{onClick:()=>f(!0),className:"p-2 rounded-xl hover:bg-neutral-100 dark:hover:bg-neutral-700 text-neutral-500 dark:text-neutral-400",children:u.jsx(Hs,{size:20})})]}),u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"relative",children:[u.jsx(s0,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400"}),u.jsx("input",{type:"text",placeholder:"Search entries...",className:"w-full pl-10 pr-4 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:n.map(S=>u.jsxs("div",{onClick:()=>i(S),className:`px-4 py-3 border-b border-neutral-200 dark:border-neutral-700 cursor-pointer ${(s==null?void 0:s.EntryID)===S.EntryID?"bg-primary-50 dark:bg-primary-900/30":"hover:bg-neutral-50 dark:hover:bg-neutral-700/50"}`,children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"font-medium text-neutral-900 dark:text-white",children:S.Title}),u.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:new Date(S.CreatedAt).toLocaleDateString()})]}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 truncate",children:S.EntryText||"No content"})]},S.EntryID))})]}),u.jsx("div",{className:`${m&&!s?"hidden":"w-full lg:w-2/3"} ${h?"w-full":"lg:w-2/3"} flex flex-col`,children:s?u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-700 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>{i(null),p(!1)},className:"p-2 rounded-xl hover:bg-neutral-100 dark:hover:bg-neutral-700 text-neutral-500 dark:text-neutral-400 lg:hidden",children:u.jsx(_f,{size:18})}),u.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:s.Title})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>p(!h),className:"p-2 rounded-xl hover:bg-neutral-100 dark:hover:bg-neutral-700 text-neutral-500 dark:text-neutral-400",children:h?u.jsx(x4,{size:18}):u.jsx(b4,{size:18})}),u.jsx("button",{onClick:()=>w(s.EntryID),className:"p-2 rounded-xl hover:bg-neutral-100 dark:hover:bg-neutral-700 text-neutral-500 dark:text-neutral-400",children:u.jsx(pc,{size:18})})]})]}),u.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:u.jsx("textarea",{value:s.EntryText,onChange:S=>i({...s,EntryText:S.target.value}),onBlur:()=>g(s.EntryID,{EntryText:s.EntryText}),className:"w-full h-full bg-transparent text-neutral-800 dark:text-neutral-200 focus:outline-none resize-none"})})]}):u.jsx("div",{className:`${m?"hidden":"flex"} flex-1 items-center justify-center text-center`,children:u.jsxs("div",{children:[u.jsx(g4,{size:48,className:"mx-auto text-neutral-300 dark:text-neutral-600"}),u.jsx("h3",{className:"mt-4 text-lg font-medium text-neutral-900 dark:text-white",children:"Select an entry"}),u.jsx("p",{className:"mt-1 text-sm text-neutral-500 dark:text-neutral-400",children:"Choose an entry from the list to view or edit it, or create a new one."})]})})}),u.jsx(LY,{isOpen:d,onClose:()=>f(!1),onCreate:y})]})},LY=({isOpen:e,onClose:t,onCreate:n})=>{const[r,s]=x.useState(""),[i,o]=x.useState(!1),a=()=>{n(r,i),s(""),o(!1)};return e?u.jsx(Cn,{children:u.jsx("div",{className:"fixed inset-0 bg-neutral-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsxs(St.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-lg max-w-lg w-full",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-700",children:[u.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-white",children:"New Journal Entry"}),u.jsx("button",{onClick:t,className:"text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-300",children:""})]}),u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Title"}),u.jsx("input",{type:"text",value:r,onChange:l=>s(l.target.value),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Enter a title for your entry"})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:i,onChange:l=>o(l.target.checked),className:"rounded border-neutral-300 dark:border-neutral-600 text-primary-500 focus:ring-primary-500"}),u.jsx("span",{className:"ml-2 text-sm text-neutral-700 dark:text-neutral-300",children:"Make this entry private"})]})})]}),u.jsxs("div",{className:"flex justify-end p-4 border-t border-neutral-200 dark:border-neutral-700 space-x-3",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-xl",children:"Cancel"}),u.jsx("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 dark:hover:bg-primary-400 rounded-xl",children:"Create Entry"})]})]})})}):null},FY=async(e,t)=>(await ie.put(`/users/${e}`,t)).data,BY=async(e,t)=>{const n=new FormData;return n.append("profilePhoto",t),(await ie.post(`/users/${e}/photo`,n,{headers:{"Content-Type":"multipart/form-data"}})).data},zY=async e=>{await ie.delete(`/users/${e}`)};function HY(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}HY(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var mv=e=>typeof e=="number"&&!isNaN(e),Xl=e=>typeof e=="string",J_=e=>typeof e=="function",UY=e=>Xl(e)||mv(e),VY=e=>x.isValidElement(e)||Xl(e)||J_(e)||mv(e),$Y=1,eR=()=>`${$Y++}`,Or=new Map,Hg=[],Pk=new Set,tR=()=>Or.size>0,WY=(e,{containerId:t})=>{var n;return(n=Or.get(t||1))==null?void 0:n.toasts.get(e)};function GY(e,t){var n;if(t)return!!((n=Or.get(t))!=null&&n.isToastActive(e));let r=!1;return Or.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function qY(e){if(!tR()){Hg=Hg.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||UY(e))Or.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Or.get(e.containerId);t?t.removeToast(e.id):Or.forEach(n=>{n.removeToast(e.id)})}}var YY=(e={})=>{Or.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function QY(e,t){VY(e)&&(tR()||Hg.push({content:e,options:t}),Or.forEach(n=>{n.buildToast(e,t)}))}function nR(e,t){Or.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function KY(e){return Pk.add(e),()=>{Pk.delete(e)}}function XY(e){return e&&(Xl(e.toastId)||mv(e.toastId))?e.toastId:eR()}function Tc(e,t){return QY(e,t),t.toastId}function ih(e,t){return{...t,type:t&&t.type||e,toastId:XY(t)}}function oh(e){return(t,n)=>Tc(t,ih(e,n))}function $e(e,t){return Tc(e,ih("default",t))}$e.loading=(e,t)=>Tc(e,ih("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function ZY(e,{pending:t,error:n,success:r},s){let i;t&&(i=Xl(t)?$e.loading(t,s):$e.loading(t.render,{...s,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,d,f)=>{if(d==null){$e.dismiss(i);return}let h={type:c,...o,...s,data:f},p=Xl(d)?{render:d}:d;return i?$e.update(i,{...h,...p}):$e(p.render,{...h,...p}),f},l=J_(e)?e():e;return l.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),l}$e.promise=ZY;$e.success=oh("success");$e.info=oh("info");$e.error=oh("error");$e.warning=oh("warning");$e.warn=$e.warning;$e.dark=(e,t)=>Tc(e,ih("default",{theme:"dark",...t}));function JY(e){qY(e)}$e.dismiss=JY;$e.clearWaitingQueue=YY;$e.isActive=GY;$e.update=(e,t={})=>{let n=WY(e,t);if(n){let{props:r,content:s}=n,i={delay:100,...r,...t,toastId:t.toastId||e,updateId:eR()};i.toastId!==e&&(i.staleId=e);let o=i.render||s;delete i.render,Tc(o,i)}};$e.done=e=>{$e.update(e,{progress:1})};$e.onChange=KY;$e.play=e=>nR(!0,e);$e.pause=e=>nR(!1,e);const eQ=e=>{const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=window.atob(n),s=new Uint8Array(r.length);for(let i=0;i<r.length;++i)s[i]=r.charCodeAt(i);return s},Ok=()=>{const{user:e,logout:t}=vt(),[n,r]=x.useState(!1),[s,i]=x.useState(!1),[o,a]=x.useState(!1),l=Zn(),[c,d]=x.useState(!1),[f,h]=x.useState(null),[p,m]=x.useState(!0),[v,b]=x.useState(null),[y,g]=x.useState(!1),[w,S]=x.useState(!1);x.useEffect(()=>{g(window.matchMedia("(display-mode: standalone)").matches),S(/iPad|iPhone|iPod/.test(navigator.userAgent))},[]),x.useEffect(()=>{(async()=>{try{m(!0);const A=await ie.get("/vapid-public-key");if(h(A.data.publicKey),"serviceWorker"in navigator&&navigator.serviceWorker.ready){const I=await(await navigator.serviceWorker.ready).pushManager.getSubscription();d(!!I)}}catch(A){console.error("Error fetching VAPID key or checking subscription:",A),b(A.message||"Failed to load push notification status."),$e.error("Failed to load push notification status.")}finally{m(!1)}})()},[]);const k=x.useCallback(async()=>{if(!("serviceWorker"in navigator)||!("PushManager"in window)){b("Push notifications not supported by your browser."),$e.error("Push notifications not supported by your browser.");return}if(!f){b("VAPID public key not loaded."),$e.error("VAPID public key not loaded.");return}m(!0),b(null);try{const N=await navigator.serviceWorker.ready,A=eQ(f),R=await N.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:A});await ie.post("/subscriptions/subscribe",{subscription:R}),d(!0),$e.success("Push notifications enabled!")}catch(N){console.error("Failed to subscribe to push:",N),console.error("Error name:",N.name),b(N.message||"Failed to subscribe to push notifications."),$e.error("Failed to subscribe to push notifications.")}finally{m(!1)}},[f]),E=x.useCallback(async()=>{m(!0),b(null);try{const A=await(await navigator.serviceWorker.ready).pushManager.getSubscription();A&&(await A.unsubscribe(),await ie.post("/subscriptions/unsubscribe",{endpoint:A.endpoint})),d(!1),$e.info("Push notifications disabled.")}catch(N){console.error("Failed to unsubscribe from push:",N),b(N.message||"Failed to unsubscribe from push notifications."),$e.error("Failed to unsubscribe from push notifications.")}finally{m(!1)}},[]),C=x.useCallback(async()=>{var A,R;const N=(e==null?void 0:e.id)??(e==null?void 0:e.UserID)??null;if(!N){$e.error("Unable to determine which account to delete.");return}a(!0);try{await zY(String(N)),$e.success("Your account has been deleted."),r(!1),await t(),l("/login",{replace:!0})}catch(I){console.error("Failed to delete account",I);const O=((R=(A=I==null?void 0:I.response)==null?void 0:A.data)==null?void 0:R.error)||(I==null?void 0:I.message)||"Failed to delete account.";$e.error(O)}finally{a(!1)}},[t,l,e]),T=x.useCallback(async()=>{await t(),l("/login",{replace:!0})},[t,l]);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-1",children:"Settings"}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"Manage your account preferences and settings"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-1",children:[u.jsx("nav",{className:"space-y-1",children:u.jsxs(nn,{to:"/profile",className:"flex items-center px-4 py-3 text-neutral-900 dark:text-white bg-white dark:bg-neutral-800 rounded-2xl shadow-card",children:[u.jsx(w4,{className:"h-5 w-5 text-primary-500"}),u.jsx("span",{className:"ml-3",children:"Profile"}),u.jsx(r0,{className:"ml-auto h-5 w-5 text-neutral-400"})]})}),u.jsxs("div",{className:"mt-6 space-y-4",children:[u.jsxs("button",{type:"button",onClick:T,className:"flex items-center w-full px-4 py-3 text-neutral-700 dark:text-neutral-300 hover:bg-white dark:hover:bg-neutral-800 rounded-2xl transition-colors",children:[u.jsx(UT,{className:"h-5 w-5 text-neutral-500"}),u.jsx("span",{className:"ml-3",children:"Sign out"})]}),u.jsxs("button",{onClick:()=>r(!0),disabled:o,className:"flex items-center w-full px-4 py-3 text-error-600 hover:bg-error-50 dark:hover:bg-error-900/30 rounded-2xl transition-colors disabled:cursor-not-allowed disabled:opacity-70",children:[u.jsx(Ab,{className:"h-5 w-5"}),u.jsx("span",{className:"ml-3",children:"Delete Account"})]})]})]}),u.jsx("div",{className:"lg:col-span-2 space-y-6",children:u.jsxs("section",{id:"push-notifications",className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-6",children:"Push Notifications"}),w&&!y?u.jsxs("div",{children:[u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"To enable push notifications, you need to add this web app to your Home Screen."}),u.jsxs("p",{className:"text-neutral-500 dark:text-neutral-400 mt-2",children:["Tap the ",u.jsx("span",{className:"font-bold",children:"Share"})," button ( ",u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-box-arrow-up inline-block",viewBox:"0 0 16 16",children:[u.jsx("path",{fillRule:"evenodd",d:"M3.5 6a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5h-2a.5.5 0 0 1 0-1h2A1.5 1.5 0 0 1 14 6.5v8a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-8A1.5 1.5 0 0 1 3.5 5h2a.5.5 0 0 1 0 1h-2z"}),u.jsx("path",{fillRule:"evenodd",d:"M7.646.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 1.707V10.5a.5.5 0 0 1-1 0V1.707L5.354 3.854a.5.5 0 1 1-.708-.708l3-3z"})]})," ) in Safari and then select 'Add to Home Screen'."]})]}):p?u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"Loading push notification status..."}):v?u.jsx("p",{className:"text-red-500",children:v}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("label",{htmlFor:"push-toggle",className:"text-neutral-700 dark:text-neutral-300",children:"Enable Push Notifications"}),u.jsx("input",{type:"checkbox",id:"push-toggle",checked:c,onChange:()=>{c?E():k()},className:`relative w-10 h-5 transition-colors duration-200 ease-in-out bg-neutral-200 dark:bg-neutral-700 rounded-full focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 cursor-pointer appearance-none
                  checked:bg-primary-500 checked:after:translate-x-full checked:after:border-white
                  after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:h-4 after:w-4 after:rounded-full after:bg-white after:shadow-md after:transition-transform after:duration-200 after:ease-in-out`})]})]})})]}),n&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:u.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-6 shadow-xl dark:bg-neutral-800",children:[u.jsxs("div",{className:"mb-4 flex items-center",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-error-100 text-error-600 dark:bg-error-900/40 dark:text-error-300",children:u.jsx(Ab,{className:"h-5 w-5"})}),u.jsx("h2",{className:"ml-3 text-lg font-semibold text-neutral-900 dark:text-white",children:"Delete account"})]}),u.jsx("p",{className:"mb-6 text-sm text-neutral-600 dark:text-neutral-300",children:"Deleting your FamConomy account removes your personal data and access. This action cannot be undone."}),u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[u.jsx("button",{type:"button",onClick:()=>r(!1),className:"w-full rounded-xl border border-neutral-200 px-4 py-2 text-sm font-medium text-neutral-700 transition-colors hover:bg-neutral-50 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700/60 sm:w-auto",disabled:o,children:"Cancel"}),u.jsx("button",{type:"button",onClick:C,className:"w-full rounded-xl bg-error-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-error-700 disabled:cursor-not-allowed disabled:opacity-70 dark:bg-error-500 dark:hover:bg-error-400 sm:w-auto",disabled:o,children:o?"Deleting...":"Delete account"})]})]})})]})},tQ=zt("profile-page"),Mk=()=>{const{user:e,setUser:t}=vt(),[n,r]=x.useState((e==null?void 0:e.firstName)||""),[s,i]=x.useState((e==null?void 0:e.lastName)||""),[o,a]=x.useState((e==null?void 0:e.email)||""),[l,c]=x.useState((e==null?void 0:e.phoneNumber)||"");x.useEffect(()=>{if(e){const[h,...p]=e.fullName.split(" ");r(h||""),i(p.join(" ")||""),a(e.email),c(e.phoneNumber||"")}},[e]);const d=async()=>{if(!e)return;const h={FirstName:n,LastName:s,Email:o,PhoneNumber:l};try{const p=await FY(e.id,h);t(p),alert("Profile updated successfully!")}catch(p){tQ.error("Failed to update profile:",p.response||p),alert("Failed to update profile.")}},f=async h=>{if(h.target.files&&h.target.files[0]&&e)try{const p=await BY(e.id,h.target.files[0]);t(p),alert("Profile photo updated successfully!")}catch{alert("Failed to upload profile photo.")}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(nn,{to:"/settings",className:"p-2 rounded-xl hover:bg-neutral-100 dark:hover:bg-neutral-700 text-neutral-500 dark:text-neutral-400",children:u.jsx(_f,{size:24})}),u.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:"Profile"})]}),u.jsxs("section",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-6",children:"Profile Information"}),u.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[u.jsx("img",{src:(e==null?void 0:e.profilePhotoUrl)||"https://i.pravatar.cc/100",alt:"Profile",className:"h-20 w-20 rounded-full object-cover"}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:"Profile Photo"}),u.jsx("input",{type:"file",id:"profile-photo-upload",className:"hidden",onChange:f}),u.jsx("label",{htmlFor:"profile-photo-upload",className:"cursor-pointer text-sm text-primary-500 hover:text-primary-600",children:"Upload new photo"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Full Name"}),u.jsx("input",{type:"text",value:`${n} ${s}`,onChange:h=>{const[p,...m]=h.target.value.split(" ");r(p||""),i(m.join(" ")||"")},className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email Address"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"email",value:o,onChange:h=>a(h.target.value),className:"flex-1 px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"}),u.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-success-100 text-success-800 dark:bg-success-900/30 dark:text-success-400",children:"Verified"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Phone Number"}),u.jsx("input",{type:"tel",value:l,onChange:h=>c(h.target.value),className:"w-full px-3 py-2 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),u.jsx("div",{className:"pt-4 border-t border-neutral-200 dark:border-neutral-700",children:u.jsx("button",{onClick:d,className:"px-4 py-2 text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 dark:hover:bg-primary-400 rounded-xl",children:"Save Changes"})})]})]})]})},rR=({size:e="md",color:t="white"})=>{const n={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};return u.jsx("div",{className:"flex justify-center items-center",children:u.jsx("div",{className:`animate-spin rounded-full border-2 border-t-transparent ${n[e]}`,style:{borderColor:`${t} transparent transparent transparent`}})})},nQ=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),[s,i]=x.useState(!1),{login:o,loginWithProvider:a,isLoading:l,error:c}=vt(),d=Zn(),f=async h=>{h.preventDefault();try{await o({email:e,password:n}),d("/")}catch(p){const m=p.message||"";m.includes("User not found")?d("/join",{state:{email:e,password:n}}):m.includes("Invalid credentials")&&setError("Invalid email or password.")}};return u.jsxs("form",{onSubmit:f,className:"space-y-6",children:[c&&u.jsx("div",{className:"p-3 bg-error-50 border border-error-200 text-error-700 rounded-md text-sm",children:c}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-700 mb-1",children:"Email address"}),u.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:h=>t(h.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"admin@example.com"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700 mb-1",children:"Password"}),u.jsx("div",{className:"relative",children:u.jsx("input",{id:"password",type:"password",required:!0,value:n,onChange:h=>r(h.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:""})}),u.jsx("div",{className:"flex justify-end mt-1",children:u.jsx(nn,{to:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700",children:"Forgot password?"})})]}),u.jsx("button",{type:"submit",disabled:l,className:"w-full bg-primary-600 hover:bg-primary-700 text-white rounded-md px-4 py-3 font-medium transition-colors disabled:opacity-70",children:l?u.jsx(rR,{size:"sm"}):"Sign in"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-neutral-300"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 text-neutral-500 bg-white",children:"Or continue with"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("button",{type:"button",onClick:()=>a("google"),className:"flex items-center justify-center px-4 py-2 border border-neutral-300 rounded-md shadow-sm text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2",children:[u.jsx("path",{d:"M21.4 10.2c0-.7-.1-1.4-.2-2.1h-9.2v4h5.2c-.2 1.3-1 2.5-2.2 3.3v2.7h3.5c2-1.9 3.2-4.7 3.2-7.9z"}),u.jsx("path",{d:"M12 21c2.8 0 5.2-1 6.9-2.6l-3.5-2.7c-.9.6-2.1 1-3.4 1-2.6 0-4.8-1.8-5.6-4.2H2.9v2.8C4.7 18.5 8.1 21 12 21z"}),u.jsx("path",{d:"M6.4 12.9c-.1-.6-.1-1.2 0-1.8V8.3H2.9c-1.5 3-1.5 6.4 0 9.4l3.5-2.8z"}),u.jsx("path",{d:"M12 3.9c1.5 0 2.9.5 3.9 1.5l3.1-3.1C17.2.6 14.8 0 12 0 8.1 0 4.7 2.5 2.9 6.2l3.5 2.8c.8-2.4 3-4.1 5.6-4.1z"})]}),"Google"]}),u.jsxs("button",{type:"button",onClick:()=>a("facebook"),className:"flex items-center justify-center px-4 py-2 border border-neutral-300 rounded-md shadow-sm text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2",children:u.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})}),"Facebook"]}),u.jsxs("button",{type:"button",onClick:()=>a("apple"),className:"flex items-center justify-center px-4 py-2 border border-neutral-300 rounded-md shadow-sm text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2",children:u.jsx("path",{d:"M12 20.94c1.5 0 2.75-1.12 2.75-2.63 0-1.5-1.25-2.62-2.75-2.62s-2.75 1.12-2.75 2.62c0 1.51 1.25 2.63 2.75 2.63zM12 4.38c-2.25 0-4.25 1.5-4.25 3.5 0 1.5 1 2.62 2.25 3.12-1.25.5-2.25 1.62-2.25 3.12 0 2 2 3.5 4.25 3.5s4.25-1.5 4.25-3.5c0-1.5-1-2.62-2.25-3.12 1.25-.5 2.25-1.62 2.25-3.12 0-2-2-3.5-4.25-3.5z"})}),"Apple"]}),u.jsxs("button",{type:"button",onClick:()=>a("microsoft"),className:"flex items-center justify-center px-4 py-2 border border-neutral-300 rounded-md shadow-sm text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2",children:[u.jsx("rect",{x:"2",y:"2",width:"9",height:"9",rx:"1"}),u.jsx("rect",{x:"13",y:"2",width:"9",height:"9",rx:"1"}),u.jsx("rect",{x:"2",y:"13",width:"9",height:"9",rx:"1"}),u.jsx("rect",{x:"13",y:"13",width:"9",height:"9",rx:"1"})]}),"Microsoft"]})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-sm text-neutral-600",children:["Don't have an account? "," ",u.jsx(nn,{to:"/join",className:"font-medium text-primary-600 hover:text-primary-500",children:"Join FamConomy"})]})})]})},rQ=()=>u.jsxs("div",{className:"min-h-screen bg-neutral-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx(Mi,{size:"lg"})}),u.jsx("p",{className:"mt-2 text-center text-sm text-neutral-600",children:"Sign in to your account to access the dashboard"})]}),u.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:u.jsx("div",{className:"bg-white py-8 px-4 shadow-card sm:rounded-lg sm:px-10",children:u.jsx(nQ,{})})})]}),sQ=()=>{var E,C;const[e]=vf(),t=Zn(),{login:n,loginWithProvider:r}=vt(),s=gr(),[i,o]=x.useState(((E=s.state)==null?void 0:E.email)||""),[a,l]=x.useState(((C=s.state)==null?void 0:C.password)||""),[c,d]=x.useState(""),[f,h]=x.useState(""),[p,m]=x.useState(""),[v,b]=x.useState(null),[y,g]=x.useState(!1),[w,S]=x.useState(!1);x.useEffect(()=>{const T=e.get("token");T&&(g(!0),m("Checking invitation..."),(async()=>{try{const A=await ie.get(`/invitations/details?token=${T}`),{email:R}=A.data;(await ie.get(`/auth/check-email?email=${R}`)).data.exists?(m("You already have an account. Please log in to accept the invitation."),t("/login",{state:{email:R,from:s}})):(o(R),S(!0),m("Welcome to the family! Please complete your registration."))}catch(A){const R=A instanceof Error?A.message:"Failed to process invitation.";b(R),m(`Error: ${R}`)}})())},[e,t,s]);const k=async T=>{T.preventDefault(),b(null),m("");try{await ie.post("/auth/register",{email:i,password:a,firstName:c,lastName:f}),m("Registration successful! Redirecting to login..."),await n({email:i,password:a}),t("/")}catch(N){const A=N instanceof Error?N.message:"Registration failed.";b(A),m(`Registration failed: ${A}`)}};return u.jsx("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex items-center justify-center",children:u.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-8 rounded-lg shadow-lg text-center w-full max-w-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-6",children:y&&w?"Welcome to the Family!":"Join FamConomy"}),p&&u.jsx("p",{className:`mb-4 ${v?"text-red-500":"text-green-500"}`,children:p}),(!y||w||v)&&u.jsxs("form",{onSubmit:k,className:"space-y-4",children:[u.jsx("div",{children:u.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:T=>o(T.target.value),required:!0,className:"w-full px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",disabled:y&&w})}),u.jsx("div",{children:u.jsx("input",{type:"password",placeholder:"Password",value:a,onChange:T=>l(T.target.value),required:!0,className:"w-full px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})}),u.jsx("div",{children:u.jsx("input",{type:"text",placeholder:"First Name",value:c,onChange:T=>d(T.target.value),required:!0,className:"w-full px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})}),u.jsx("div",{children:u.jsx("input",{type:"text",placeholder:"Last Name",value:f,onChange:T=>h(T.target.value),required:!0,className:"w-full px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-neutral-100 dark:bg-neutral-700 text-neutral-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})}),u.jsx("button",{type:"submit",className:"w-full bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:"Register"})]}),u.jsxs("div",{className:"relative mt-6",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-neutral-300 dark:border-neutral-600"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 text-neutral-500 dark:text-neutral-400 bg-white dark:bg-neutral-800",children:"Or continue with"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[u.jsxs("button",{type:"button",onClick:()=>r("google"),className:"flex items-center justify-center px-4 py-2 border border-neutral-300 rounded-md shadow-sm text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2",children:[u.jsx("path",{d:"M21.4 10.2c0-.7-.1-1.4-.2-2.1h-9.2v4h5.2c-.2 1.3-1 2.5-2.2 3.3v2.7h3.5c2-1.9 3.2-4.7 3.2-7.9z"}),u.jsx("path",{d:"M12 21c2.8 0 5.2-1 6.9-2.6l-3.5-2.7c-.9.6-2.1 1-3.4 1-2.6 0-4.8-1.8-5.6-4.2H2.9v2.8C4.7 18.5 8.1 21 12 21z"}),u.jsx("path",{d:"M6.4 12.9c-.1-.6-.1-1.2 0-1.8V8.3H2.9c-1.5 3-1.5 6.4 0 9.4l3.5-2.8z"}),u.jsx("path",{d:"M12 3.9c1.5 0 2.9.5 3.9 1.5l3.1-3.1C17.2.6 14.8 0 12 0 8.1 0 4.7 2.5 2.9 6.2l3.5 2.8c.8-2.4 3-4.1 5.6-4.1z"})]}),"Google"]}),u.jsxs("button",{type:"button",onClick:()=>r("facebook"),className:"flex items-center justify-center px-4 py-2 border border-neutral-300 rounded-md shadow-sm text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2",children:u.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})}),"Facebook"]}),u.jsxs("button",{type:"button",onClick:()=>r("apple"),className:"flex items-center justify-center px-4 py-2 border border-neutral-300 rounded-md shadow-sm text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2",children:u.jsx("path",{d:"M12 20.94c1.5 0 2.75-1.12 2.75-2.63 0-1.5-1.25-2.62-2.75-2.62s-2.75 1.12-2.75 2.62c0 1.51 1.25 2.63 2.75 2.63zM12 4.38c-2.25 0-4.25 1.5-4.25 3.5 0 1.5 1 2.62 2.25 3.12-1.25.5-2.25 1.62-2.25 3.12 0 2 2 3.5 4.25 3.5s4.25-1.5 4.25-3.5c0-1.5-1-2.62-2.25-3.12 1.25-.5 2.25-1.62 2.25-3.12 0-2-2-3.5-4.25-3.5z"})}),"Apple"]}),u.jsxs("button",{type:"button",onClick:()=>r("microsoft"),className:"flex items-center justify-center px-4 py-2 border border-neutral-300 rounded-md shadow-sm text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2",children:[u.jsx("rect",{x:"2",y:"2",width:"9",height:"9",rx:"1"}),u.jsx("rect",{x:"13",y:"2",width:"9",height:"9",rx:"1"}),u.jsx("rect",{x:"2",y:"13",width:"9",height:"9",rx:"1"}),u.jsx("rect",{x:"13",y:"13",width:"9",height:"9",rx:"1"})]}),"Microsoft"]})]})]})})},iQ=async(e,t)=>{var s,i;const n={familyId:String(e)};return t!=null&&t.userId&&(n.userId=t.userId),(s=t==null?void 0:t.keys)!=null&&s.length&&(n.keys=t.keys.join(",")),((i=(await ie.get("/linz/facts",{params:n})).data)==null?void 0:i.facts)??[]},oQ=async e=>{await ie.post("/linz/facts",{facts:e})},ze=[{label:"Next stop",action:"tour.advance",tone:"primary"},{label:"Skip tour",action:"tour.skip",tone:"secondary"}],sR=[{label:"Wrap up",action:"tour.finish",tone:"primary"},{label:"Start over",action:"tour.restart",tone:"secondary"}],aQ=[{id:"orientation",title:"Getting Around",intro:"Let me show you how the FamConomy home base is laid out.",steps:[{id:"welcome-intro",target:"body",placement:"center",disableBeacon:!0,message:"Welcome to FamConomy! I'll point out the spots that keep your crew organized.",suggestions:ze,ensureSidebar:!1},{id:"orientation-sidebar",target:"#nav-dashboard",route:"/",message:"The sidebar is your launchpad. Dashboard brings you back to home at any time.",suggestions:ze},{id:"orientation-dashboard",target:"#dashboard-overview",route:"/",message:"Your dashboard summarizes today's wins, tasks, and quick jumps into each feature.",suggestions:ze,ensureSidebar:!1}]},{id:"family",title:"Family Setup",intro:"Let's make sure everyone's invited and organized.",steps:[{id:"family-nav",target:"#nav-family",route:"/family",message:"Head to the Family hub to invite members, assign roles, and manage households.",suggestions:ze},{id:"family-members-panel",target:"#family-members-panel",route:"/family",message:"This panel lists everyone in your household along with their roles and access.",suggestions:ze,ensureSidebar:!1}]},{id:"tasks",title:"Tasks & Gigs",intro:"Let's organize chores and rewards.",steps:[{id:"tasks-nav",target:"#nav-tasks",route:"/tasks",message:"Tasks keeps assignments organized by persongreat for quick check-ins.",suggestions:ze},{id:"tasks-board",target:"#tasks-board",route:"/tasks",message:"Create, assign, and review progress here. Tap a task to edit details or approve completions.",suggestions:ze,ensureSidebar:!1},{id:"gigs-nav",target:"#nav-gigs",route:"/gigs",message:"Gigs layer in cadence, rewards, and who claims each responsibility.",suggestions:ze},{id:"gigs-board",target:"#gigs-board",route:"/gigs",message:"Use gigs to define repeating jobs, payouts, and claim rules for your crew.",suggestions:ze,ensureSidebar:!1}]},{id:"money",title:"Finance & Shopping",intro:"Time to check on the family finances and lists.",steps:[{id:"budget-nav",target:"#nav-budget",route:"/budget",message:"The Finance area tracks allowance, savings goals, and spending trends.",suggestions:ze},{id:"budget-overview",target:"#budget-overview",route:"/budget",message:"Review categories, see progress, and plan upcoming expenses here.",suggestions:ze,ensureSidebar:!1},{id:"shopping-nav",target:"#nav-shopping",route:"/shopping",message:"Shopping lists keep errands in sync so nothing gets missed.",suggestions:ze},{id:"shopping-lists",target:"#shopping-lists-panel",route:"/shopping",message:"Create lists, assign items, and check things off together in real time.",suggestions:ze,ensureSidebar:!1}]},{id:"planning",title:"Plan & Communicate",intro:"Stay aligned with schedules and conversations.",steps:[{id:"calendar-nav",target:"#nav-calendar",route:"/calendar",message:"The shared calendar keeps practices, appointments, and reminders lined up.",suggestions:ze},{id:"calendar-board",target:"#calendar-board",route:"/calendar",message:"Switch between views, add events, and approve suggestions in this workspace.",suggestions:ze,ensureSidebar:!1},{id:"messages-nav",target:"#nav-messages",route:"/messages",message:"Messages gather family chats, announcements, and assistant updates in one feed.",suggestions:ze},{id:"messages-thread",target:"#messages-thread",route:"/messages",message:"Use threads to keep conversations tidy. Pin important chats so everyone sees them.",suggestions:ze,ensureSidebar:!1}]},{id:"reflection",title:"Journal & Feedback",intro:"Capture memories and share what's working.",steps:[{id:"journal-nav",target:"#nav-journal",route:"/journal",message:"The family journal is perfect for milestones, gratitude, and reflections.",suggestions:ze},{id:"journal-board",target:"#journal-board",route:"/journal",message:"Start entries, add comments, and keep private notes as needed.",suggestions:ze,ensureSidebar:!1},{id:"feedback-entry",target:"#sidebar-feedback",route:"/",message:"Tap Feedback anytime to share ideas or flag bugseverything reaches the FamConomy team.",suggestions:ze}]},{id:"assistant",title:"LinZ at Your Side",intro:"Last stopyour co-pilot.",steps:[{id:"linz-toggle",target:"#linz-chat-toggle",route:"/",message:"Ping me from this buttonI can revisit parts of the tour or answer questions anytime.",suggestions:sR,ensureSidebar:!1}]}],lQ=[{id:"orientation-child",title:"Getting Started",intro:"Here's what matters most for you.",steps:[{id:"child-dashboard",target:"#nav-dashboard",route:"/",message:"Dashboard shows your day at a glancetasks, rewards, and quick wins.",suggestions:ze},{id:"child-dashboard-widgets",target:"#dashboard-overview",route:"/",message:"Jump into tasks, messages, or journal entries from these tiles.",suggestions:ze,ensureSidebar:!1}]},{id:"child-tasks",title:"Tasks & Gigs",intro:"Stay on top of what's assigned to you.",steps:[{id:"child-tasks-nav",target:"#nav-tasks",route:"/tasks",message:"Tasks lists everything you need to complete. Filter by what's due next.",suggestions:ze},{id:"child-tasks-board",target:"#tasks-board",route:"/tasks",message:"Open a task to see notes, claim rewards, or mark it done.",suggestions:ze,ensureSidebar:!1},{id:"child-gigs-nav",target:"#nav-gigs",route:"/gigs",message:"Gigs show repeating responsibilities and the rewards you can earn.",suggestions:ze},{id:"child-gigs-board",target:"#gigs-board",route:"/gigs",message:"Claim a gig when you are ready so everyone knows who's on it.",suggestions:ze,ensureSidebar:!1}]},{id:"child-money",title:"Money & Shopping",intro:"Track your rewards and shared lists.",steps:[{id:"child-budget-nav",target:"#nav-budget",route:"/budget",message:"See allowances, savings goals, and how close you are to each reward.",suggestions:ze},{id:"child-budget-overview",target:"#budget-overview",route:"/budget",message:"Watch your progress bars climb as you complete gigs and save.",suggestions:ze,ensureSidebar:!1},{id:"child-shopping-nav",target:"#nav-shopping",route:"/shopping",message:"Help with shopping listscheck items off or add what you need.",suggestions:ze},{id:"child-shopping-panel",target:"#shopping-lists-panel",route:"/shopping",message:"Each list shows who added the item and any notes.",suggestions:ze,ensureSidebar:!1}]},{id:"child-communication",title:"Stay Connected",intro:"Keep in touch with family updates.",steps:[{id:"child-calendar-nav",target:"#nav-calendar",route:"/calendar",message:"Check the calendar to know what's coming up for the family.",suggestions:ze},{id:"child-calendar-board",target:"#calendar-board",route:"/calendar",message:"Tap any event to see details or reminders you need to follow.",suggestions:ze,ensureSidebar:!1},{id:"child-messages-nav",target:"#nav-messages",route:"/messages",message:"Messages keep you in the loopshare updates or ask for help.",suggestions:ze},{id:"child-messages-thread",target:"#messages-thread",route:"/messages",message:"Reply in the thread so everyone stays on the same page.",suggestions:ze,ensureSidebar:!1},{id:"child-journal-nav",target:"#nav-journal",route:"/journal",message:"Use the journal to celebrate wins or jot down what happened today.",suggestions:ze},{id:"child-journal-board",target:"#journal-board",route:"/journal",message:"Start a new entry or add reactions to a family moment.",suggestions:sR,ensureSidebar:!1}]}],cQ=e=>{const t=e==="guardian"?"parent":e;return{welcomeMessage:t==="child"?"Nice work joining the family hub! Want me to walk you through the highlights?":"Welcome aboard! Ready for a quick guided tour of FamConomy? I can point out the big wins.",inviteMessage:"I can always revisit parts of the tour laterjust ask me for help.",modules:t==="child"?lQ:aQ}},Lk={default:[{label:"Next stop",action:"tour.advance",tone:"primary"},{label:"Skip tour",action:"tour.skip",tone:"secondary"}],final:[{label:"Finish up",action:"tour.finish",tone:"primary"},{label:"Start over",action:"tour.restart",tone:"secondary"}]},uQ=[{label:"Let's do it",action:"tour.accept",tone:"primary"},{label:"Maybe later",action:"tour.dismiss",tone:"secondary"}],dQ=e=>`${e}-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,7)}`,fQ=e=>!e||e==="guardian"?"parent":e,hQ=e=>{if(e===!0)return{seen:!0,status:"completed"};if(typeof e=="object"&&e!==null){const t=e,n=typeof t.status=="string"?t.status:void 0,r=typeof t.value=="string"?t.value:void 0,s=n??r,i=typeof t.seenAt=="string"?t.seenAt:void 0;if(s==="completed"||s==="skipped")return{seen:!0,status:s,seenAt:i}}return{seen:!1}},iR=({familyId:e,userId:t,audience:n,offerTrigger:r=!1,extraSteps:s=[]})=>{const i=fQ(n),o=x.useMemo(()=>cQ(i),[i]),a=x.useMemo(()=>Lk.default,[]),l=x.useMemo(()=>Lk.final,[]),c=x.useMemo(()=>o.modules.flatMap(J=>J.steps.map((pe,_e)=>({...pe,moduleId:J.id,sequenceId:`${J.id}-${_e}`,content:pe.content??pe.message}))),[o.modules]),d=x.useMemo(()=>s.map((W,J)=>({...W,moduleId:W.moduleId??"extra",sequenceId:W.sequenceId??`extra-${J}`,content:W.content??W.message??(typeof W.content=="string"?W.content:"")})),[s]),f=x.useMemo(()=>d.length?[...c,...d]:c,[c,d]),h=x.useMemo(()=>{const W=new Map;return o.modules.forEach(J=>{W.set(J.id,{intro:J.intro,outro:J.outro,title:J.title})}),W},[o.modules]),[p,m]=x.useState(null),[v,b]=x.useState("unknown"),[y,g]=x.useState(!1),[w,S]=x.useState({run:!1,steps:f,stepIndex:0}),k=x.useRef(null),E=x.useRef(new Set),C=x.useRef(!1),T=x.useRef(0),N=eU(),A=Zn(),R=gr(),{appendLinZMessage:I,openChat:O,registerActionHandler:j}=xc(),B=x.useMemo(()=>zt("onboarding-tour"),[]),U=x.useCallback(W=>{var pe,_e;const J=f[W];if(J&&(J.ensureSidebar!==!1&&((pe=N==null?void 0:N.ensureSidebarExpanded)==null||pe.call(N),N!=null&&N.isMobile&&((_e=N.openMobileMenu)==null||_e.call(N))),J.route)){const Ae=J.route.startsWith("/")?J.route:`/${J.route}`;R.pathname!==Ae&&A(Ae)}},[f,N,A,R.pathname]),X=x.useCallback((W,J="default")=>(W&&W.length?W:J==="final"?l:a).map(_e=>({id:dQ(_e.action),label:_e.label,action:_e.action,payload:_e.payload,tone:_e.tone})),[a,l]),L=x.useCallback(async W=>{if(!(!e||!t))try{await oQ([{familyId:e,userId:t,key:"onboarding.tour_seen",value:{status:W,seenAt:new Date().toISOString()},confidence:1,source:"onboarding-tour"}]),b(W),m(!0)}catch(J){B.error("Failed to persist tour status",J)}},[e,t,B]);x.useEffect(()=>{let W=!0;return(async()=>{if(!e||!t){W&&(m(!1),b("unknown"));return}try{const _e=(await iQ(e,{userId:t,keys:["onboarding.tour_seen"]})).find(Je=>Je.key==="onboarding.tour_seen");if(!W)return;const Ae=hQ(_e==null?void 0:_e.value);m(Ae.seen),b(Ae.status??"unknown")}catch(pe){B.error("Failed to fetch tour status",pe),W&&(m(!0),b("unknown"))}})(),()=>{W=!1}},[e,t,B]),x.useEffect(()=>{S(W=>({...W,steps:f}))},[f]);const $=x.useCallback(W=>{if(!W||E.current.has(W))return;const J=h.get(W);J!=null&&J.intro&&(E.current.add(W),I(J.intro,{autoOpen:!0,suggestions:X(void 0,"default"),meta:{source:"tour",module:W,type:"intro"}}))},[h,I,X]),ne=x.useCallback(W=>{const J=f[W];if(!J)return;U(W),$(J.moduleId);const pe=J.message??(typeof J.content=="string"?J.content:"");if(!(pe!=null&&pe.trim()))return;const _e=W===f.length-1,Ae=X(J.suggestions,_e?"final":"default");I(pe,{autoOpen:!0,suggestions:Ae,meta:{source:"tour",step:J.id??J.sequenceId??W,module:J.moduleId}})},[I,X,U,f,$]),K=x.useCallback(()=>{E.current.clear(),k.current=null,T.current=0},[]),ee=x.useCallback((W=0)=>{if(!f.length)return;K();const J=Math.max(0,Math.min(W,f.length-1));g(!0),S({run:!0,steps:f,stepIndex:J})},[f,K]),ce=x.useCallback(()=>{y&&(g(!1),S(W=>({...W,run:!1,stepIndex:0})),K(),L("completed"),I("That's the grand tour! Ask me anytime if you want to revisit a section.",{autoOpen:!0,suggestions:X([{label:"Replay tour",action:"tour.restart",tone:"primary"},{label:"Ask a question",action:"chat.open",tone:"secondary"}],"final"),meta:{source:"tour",type:"complete"}}))},[I,X,y,L,K]),te=x.useCallback(()=>{y&&(g(!1),S(W=>({...W,run:!1,stepIndex:0}))),K(),L("skipped"),I("No problem! I'll be here if you want the walkthrough later.",{autoOpen:!0,suggestions:X([{label:"Start the tour",action:"tour.restart",tone:"primary"}],"default"),meta:{source:"tour",type:"skipped"}})},[I,X,y,L,K]),V=x.useCallback(()=>{ee(0)},[ee]),fe=x.useCallback(()=>{S(W=>{const J=W.stepIndex+1;return J>=f.length?(ce(),W):{...W,stepIndex:J}})},[ce,f.length]),Ce=x.useCallback(()=>{ee(0)},[ee]);x.useEffect(()=>{if(!w.run||!y)return;const W=w.stepIndex;k.current!==W&&(k.current=W,ne(W))},[w.run,w.stepIndex,y,ne]),x.useEffect(()=>{const W=[j("tour.accept",()=>{C.current=!0,V()}),j("tour.dismiss",()=>{C.current=!0,te()}),j("tour.offer",()=>{q()}),j("tour.advance",()=>{y?fe():V()}),j("tour.skip",()=>{te()}),j("tour.finish",()=>{ce()}),j("tour.restart",()=>{Ce()}),j("chat.open",()=>{O({greet:!0})})];return()=>{W.forEach(J=>J())}},[fe,ce,y,q,j,Ce,te,V]);const q=x.useCallback(()=>{C.current||p||(C.current=!0,O({greet:!1}),I(o.welcomeMessage,{autoOpen:!0,suggestions:X(uQ,"default"),meta:{source:"tour",type:"invite"}}),o.inviteMessage&&I(o.inviteMessage,{autoOpen:!1,meta:{source:"tour",type:"invite-followup"}}))},[I,X,p,O,o.inviteMessage,o.welcomeMessage]);x.useEffect(()=>{r&&p!==null&&(p||q())},[r,p,q]),x.useEffect(()=>()=>{g(!1),S(W=>({...W,run:!1,stepIndex:0})),K()},[K]);const ae=x.useCallback(W=>{const{status:J,type:pe,index:_e,action:Ae}=W;if(pe==="error:target_not_found"){const Je=Ae==="prev"?Math.max(0,_e-1):Math.min(f.length-1,_e+1);S(F=>({...F,stepIndex:Je}));return}if(J==="skipped"){te();return}if(J==="finished"){ce();return}pe==="step:after"&&S(Ae==="prev"?Je=>({...Je,stepIndex:Math.max(0,_e-1)}):Je=>({...Je,stepIndex:Math.min(f.length-1,_e+1)}))},[ce,f.length,te]);return{tourState:w,startTour:V,skipTour:te,handleJoyrideCallback:ae,hasSeenTour:p,isTourRunning:y}},pQ=()=>{const{state:e,sendUserMessage:t,commitOnboardingData:n,resetOnboarding:r}=sh(),{user:s}=vt(),i=(s==null?void 0:s.UserID)??(s==null?void 0:s.id)??null,{family:o}=Jn(),a=(o==null?void 0:o.FamilyID)??null,{startTour:l,hasSeenTour:c}=iR({familyId:a,userId:i}),d=Zn(),[f]=vf(),[h,p]=x.useState(""),m=x.useRef(null),{toggleChat:v,isOpen:b}=xc(),y=x.useRef(!1),g=()=>{var C;(C=m.current)==null||C.scrollIntoView({behavior:"smooth"})};x.useEffect(()=>{g()},[e.messages,e.streamingMessage]),x.useEffect(()=>{if(e.loading||y.current)return;const C=f.get("focus"),T=sessionStorage.getItem("onboarding-focus");(C==="rooms"||T==="rooms")&&e.currentStep!=="committed"&&(y.current=!0,sessionStorage.removeItem("onboarding-focus"),t("We just reset our floor plan and need help designing a fresh layout for our home."))},[e.loading,e.currentStep,f,t]);const w=C=>{C.key==="Enter"&&h.trim()&&(t(h),p(""))};if(e.loading)return u.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex items-center justify-center",children:[u.jsx(rR,{}),u.jsx("p",{className:"ml-2 text-neutral-600",children:"Loading onboarding data..."})]});const S=async()=>{e.loading||e.currentStep!=="committed"&&e.currentStep!=="completed"&&!await n()||(c===!1&&l(),d("/app"))},k=async()=>{e.loading||(await r(),p(""))},E=e.awaitingResetConfirmation||e.currentStep!=="committed"&&e.currentStep!=="completed";return u.jsxs("div",{className:"relative min-h-screen bg-neutral-50 flex flex-col items-center justify-center py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx(Mi,{size:"lg"}),u.jsx("p",{className:"mt-2 text-neutral-600",children:"Let's get your family space ready together."})]}),u.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-card w-full max-w-md flex flex-col",style:{height:"70vh"},children:[u.jsxs("div",{className:"flex-grow overflow-y-auto mb-4",children:[e.messages.map((C,T)=>u.jsx("div",{className:`mb-2 ${C.sender==="user"?"text-right":"text-left"}`,children:u.jsx("div",{className:`inline-block p-2 rounded-lg ${C.sender==="user"?"bg-primary-100 text-primary-800":"bg-primary-600 text-white"}`,children:C.text})},T)),e.streamingMessage!==null&&u.jsx("div",{className:"mb-2 text-left",children:u.jsx("div",{className:"inline-block p-2 rounded-lg bg-primary-600 text-white",children:e.streamingMessage?e.streamingMessage:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("span",{className:"w-2 h-2 bg-white/80 rounded-full animate-bounce"}),u.jsx("span",{className:"w-2 h-2 bg-white/80 rounded-full animate-bounce [animation-delay:-0.15s]"}),u.jsx("span",{className:"w-2 h-2 bg-white/80 rounded-full animate-bounce [animation-delay:-0.3s]"})]})})}),u.jsx("div",{ref:m})]}),E&&u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"text",placeholder:"Type your response...",className:"flex-grow px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",value:h,onChange:C=>p(C.target.value),onKeyDown:w}),u.jsx("button",{onClick:()=>{h.trim()&&(t(h),p(""))},className:"ml-2 px-4 py-2 bg-primary-600 text-white rounded-md",children:"Send"})]}),e.currentStep==="committed"&&u.jsxs("div",{className:"text-center mt-4",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"All set "}),u.jsx("p",{className:"mb-4",children:"Your family space is ready!"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[u.jsx("button",{onClick:S,className:"px-4 py-2 bg-primary-600 text-white rounded-md",children:"Go to Dashboard"}),u.jsx("button",{onClick:()=>void k(),className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-md",children:"Start Over"})]})]}),e.currentStep==="completed"&&u.jsxs("div",{className:"text-center mt-4",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Onboarding Complete!"}),u.jsx("p",{className:"mb-4",children:"You can now explore FamConomy."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[u.jsx("button",{onClick:S,className:"px-4 py-2 bg-primary-600 text-white rounded-md",children:"Go to Dashboard"}),u.jsx("button",{onClick:()=>void k(),className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-md",children:"Restart Onboarding"})]})]})]}),u.jsx("button",{type:"button",onClick:()=>v({greet:!0}),className:"fixed bottom-6 right-6 z-50 bg-gradient-to-r from-primary-500 via-secondary-500 to-accent-500 text-white rounded-full p-4 shadow-lg hover:opacity-90 transition-opacity","aria-label":b?"Close LinZ chat":"Open LinZ chat",children:b?u.jsx(Oi,{size:28}):u.jsx(zT,{size:28})})]})},mQ=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(!1),[s,i]=x.useState(""),[o,a]=x.useState(""),l=async c=>{var d,f;if(c.preventDefault(),!e){a("Please enter the email address associated with your account."),i("");return}r(!0),a(""),i("");try{await ie.post("/auth/forgot-password",{email:e}),i("If an account exists for that email, we've sent instructions to reset your password."),t("")}catch(h){a(((f=(d=h.response)==null?void 0:d.data)==null?void 0:f.message)||"Something went wrong. Please try again in a few minutes.")}finally{r(!1)}};return u.jsxs("div",{className:"min-h-screen bg-neutral-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx(Mi,{size:"lg"})}),u.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-neutral-900",children:"Reset your password"}),u.jsx("p",{className:"mt-2 text-center text-sm text-neutral-600",children:"Enter the email associated with your FamConomy account and we\\'ll send reset instructions."})]}),u.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:u.jsxs("div",{className:"bg-white py-8 px-4 shadow-card sm:rounded-lg sm:px-10",children:[u.jsxs("form",{onSubmit:l,className:"space-y-6",children:[s&&u.jsx("div",{className:"rounded-md bg-success-50 border border-success-200 px-4 py-3 text-sm text-success-800",children:s}),o&&u.jsx("div",{className:"rounded-md bg-error-50 border border-error-200 px-4 py-3 text-sm text-error-700",children:o}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-700",children:"Email address"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:c=>t(c.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"you@example.com"})})]}),u.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center rounded-md border border-transparent bg-primary-600 py-3 px-4 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-70",children:n?"Sending instructions":"Send reset link"})]}),u.jsx("div",{className:"mt-6 text-center text-sm text-neutral-600",children:u.jsx(nn,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Back to sign in"})})]})})]})},gQ=()=>{const[e]=vf(),t=x.useMemo(()=>e.get("token")||"",[e]),n=x.useMemo(()=>e.get("email")||"",[e]),[r,s]=x.useState(""),[i,o]=x.useState(""),[a,l]=x.useState(!1),[c,d]=x.useState(""),[f,h]=x.useState(""),p=!t||!n,m=async v=>{var b,y;if(v.preventDefault(),p){h("This reset link is missing required information. Please request a new one.");return}if(!r||r.length<8){h("Please enter a password that is at least 8 characters long.");return}if(r!==i){h("Passwords do not match. Please try again.");return}l(!0),h(""),d("");try{await ie.post("/auth/reset-password",{token:t,email:n,password:r}),d("Your password has been reset. You can now sign in with your new password."),s(""),o("")}catch(g){h(((y=(b=g.response)==null?void 0:b.data)==null?void 0:y.message)||"Unable to reset password. The link may have expired.")}finally{l(!1)}};return u.jsxs("div",{className:"min-h-screen bg-neutral-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx(Mi,{size:"lg"})}),u.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-neutral-900",children:"Set a new password"}),u.jsx("p",{className:"mt-2 text-center text-sm text-neutral-600",children:"Enter and confirm your new password below."})]}),u.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:u.jsxs("div",{className:"bg-white py-8 px-4 shadow-card sm:rounded-lg sm:px-10",children:[p?u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"rounded-md bg-error-50 border border-error-200 px-4 py-3 text-sm text-error-700",children:"This reset link is invalid or incomplete. Please request a new password reset email."}),u.jsx("div",{className:"text-center text-sm text-neutral-600",children:u.jsx(nn,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Request a new reset link"})})]}):u.jsxs("form",{onSubmit:m,className:"space-y-6",children:[c&&u.jsx("div",{className:"rounded-md bg-success-50 border border-success-200 px-4 py-3 text-sm text-success-800",children:c}),f&&u.jsx("div",{className:"rounded-md bg-error-50 border border-error-200 px-4 py-3 text-sm text-error-700",children:f}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700",children:"New password"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"password",type:"password",autoComplete:"new-password",required:!0,value:r,onChange:v=>s(v.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Enter a strong password"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-neutral-700",children:"Confirm password"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"confirm-password",type:"password",autoComplete:"new-password",required:!0,value:i,onChange:v=>o(v.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Re-enter your new password"})})]}),u.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center rounded-md border border-transparent bg-primary-600 py-3 px-4 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-70",children:a?"Updating password":"Update password"})]}),u.jsx("div",{className:"mt-6 text-center text-sm text-neutral-600",children:u.jsx(nn,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Back to sign in"})})]})})]})},Fk=({children:e,hasExistingFamily:t=!1,isFamilyContextReady:n=!1})=>{const{isAuthenticated:r,isLoading:s}=vt(),{state:i}=sh(),[o,a]=H.useState(!1);return H.useEffect(()=>{i.hydrated&&a(!0)},[i.hydrated]),s?u.jsx("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):!o||i.loading?u.jsx("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?n?!(i.currentStep==="committed"||i.currentStep==="completed")&&!t?u.jsx(_x,{to:"/onboarding"}):u.jsx(u.Fragment,{children:e}):u.jsx("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):u.jsx(_x,{to:"/login"})},yQ=({familyId:e,hasExistingFamily:t,isFamilyContextReady:n})=>{const{user:r}=vt(),s=gr();Zn();const i=(r==null?void 0:r.UserID)??(r==null?void 0:r.id)??null,o=sh(),{state:a,markCompleted:l}=o,c=a.members.some(y=>{var w;const g=(w=y.email)==null?void 0:w.toLowerCase();return!g||g.endsWith("@famc.local")}),d=x.useMemo(()=>c?[{target:"#placeholder-members-callout",content:"These placeholders were added during onboarding. Tap Send Invitation to replace them with real accounts.",ensureSidebar:!1}]:[],[c]),f=x.useMemo(()=>{var S;const y=(r==null?void 0:r.role)??(r==null?void 0:r.Role)??(r==null?void 0:r.UserRole);if(typeof y=="string"){const k=y.toLowerCase();if(k.includes("child")||k.includes("kid"))return"child";if(k.includes("guardian"))return"guardian"}const g=a.members.find(k=>!k.email||!(r!=null&&r.email)?!1:k.email.toLowerCase()===r.email.toLowerCase()),w=(S=g==null?void 0:g.role)==null?void 0:S.toLowerCase();if(w){if(w.includes("child")||w.includes("kid"))return"child";if(w.includes("guardian"))return"guardian"}return"parent"},[a.members,r]),h=H.useMemo(()=>{const y=s.pathname;return y==="/"||y==="/app"||y.startsWith("/app/")},[s.pathname]),p=x.useMemo(()=>h&&["committed","completed"].includes(a.currentStep),[h,a.currentStep]),{tourState:m,handleJoyrideCallback:v,hasSeenTour:b}=iR({familyId:e,userId:i,audience:f,offerTrigger:p,extraSteps:d});return H.useEffect(()=>{h&&a.currentStep==="committed"&&b===!0&&l()},[h,a.currentStep,b,l]),u.jsxs(u.Fragment,{children:[u.jsx(f4,{...m,callback:v,disableOverlayClose:!0,disableScrollParentFix:!0,continuous:!0,showSkipButton:!0,showProgress:!0,spotlightClicks:!0,styles:{options:{zIndex:12e3,primaryColor:"#4F46E5",overlayColor:"rgba(0,0,0,0.45)",spotlightPadding:8}}}),u.jsxs(PI,{children:[u.jsx(Ge,{path:"/login",element:u.jsx(rQ,{})}),u.jsx(Ge,{path:"/join",element:u.jsx(sQ,{})}),u.jsx(Ge,{path:"/onboarding",element:u.jsx(pQ,{})}),u.jsx(Ge,{path:"/forgot-password",element:u.jsx(mQ,{})}),u.jsx(Ge,{path:"/reset-password",element:u.jsx(gQ,{})}),u.jsxs(Ge,{path:"/",element:u.jsx(Fk,{hasExistingFamily:t,isFamilyContextReady:n,children:u.jsx(Mw,{})}),children:[u.jsx(Ge,{index:!0,element:u.jsx(zw,{})}),u.jsx(Ge,{path:"calendar",element:u.jsx(US,{})}),u.jsx(Ge,{path:"tasks",element:u.jsx(VS,{})}),u.jsx(Ge,{path:"gigs",element:u.jsx($S,{})}),u.jsx(Ge,{path:"gigs/settings",element:u.jsx(WS,{})}),u.jsx(Ge,{path:"messages",element:u.jsx(GS,{})}),u.jsx(Ge,{path:"shopping",element:u.jsx(qS,{})}),u.jsx(Ge,{path:"budget",element:u.jsx(kk,{})}),u.jsx(Ge,{path:"family",element:u.jsx(Dk,{})}),u.jsx(Ge,{path:"journal",element:u.jsx(Ik,{})}),u.jsx(Ge,{path:"settings",element:u.jsx(Ok,{})}),u.jsx(Ge,{path:"profile",element:u.jsx(Mk,{})})]}),u.jsxs(Ge,{path:"/app",element:u.jsx(Fk,{hasExistingFamily:t,isFamilyContextReady:n,children:u.jsx(Mw,{})}),children:[u.jsx(Ge,{index:!0,element:u.jsx(zw,{})}),u.jsx(Ge,{path:"calendar",element:u.jsx(US,{})}),u.jsx(Ge,{path:"tasks",element:u.jsx(VS,{})}),u.jsx(Ge,{path:"gigs",element:u.jsx($S,{})}),u.jsx(Ge,{path:"gigs/settings",element:u.jsx(WS,{})}),u.jsx(Ge,{path:"messages",element:u.jsx(GS,{})}),u.jsx(Ge,{path:"shopping",element:u.jsx(qS,{})}),u.jsx(Ge,{path:"budget",element:u.jsx(kk,{})}),u.jsx(Ge,{path:"family",element:u.jsx(Dk,{})}),u.jsx(Ge,{path:"journal",element:u.jsx(Ik,{})}),u.jsx(Ge,{path:"settings",element:u.jsx(Ok,{})}),u.jsx(Ge,{path:"profile",element:u.jsx(Mk,{})})]})]})]})},vQ=()=>{const{user:e}=vt(),t=(e==null?void 0:e.UserID)??(e==null?void 0:e.id)??null,{activeFamilyId:n,family:r,families:s,isLoading:i}=Jn(),o=(e==null?void 0:e.FamilyID)??(e==null?void 0:e.familyId)??null,a=n??(r==null?void 0:r.FamilyID)??o??null,l=!!a||((s==null?void 0:s.length)??0)>0,c=!!a||!i;return u.jsx(KH,{familyId:a,userId:t,children:u.jsx(DY,{familyId:a,userId:t,children:u.jsx(yQ,{familyId:a,hasExistingFamily:l,isFamilyContextReady:c})})})};function xQ(){return u.jsx(TO,{children:u.jsx(SM,{children:u.jsx(vQ,{})})})}const Bk=zt("app-entry");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/app/service-worker.js").then(e=>{Bk.log("Service Worker registered with scope:",e.scope)}).catch(e=>{Bk.error("Service Worker registration failed:",e)})});ZE(document.getElementById("root")).render(u.jsx(x.StrictMode,{children:u.jsx(VI,{basename:"/app",children:u.jsx(xQ,{})})}));export{Cn as A,u as j,St as m,x as r};
//# sourceMappingURL=bundle.sourcemapped.js.map
